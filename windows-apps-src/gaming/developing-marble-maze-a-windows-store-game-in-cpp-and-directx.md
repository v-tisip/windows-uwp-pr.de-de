---
author: eliotcowley
title: Entwickeln von Marble Maze, einem UWP-Spiel in C++ und DirectX
description: In diesem Abschnitt der Dokumentation wird das Erstellen von UWP-3D-Spielen (Universelle Windows-Plattform) mit DirectX und Visual C++ beschrieben.
ms.assetid: 43f1977a-7e1d-614c-696e-7669dd8a9cc7
ms.author: elcowle
ms.date: 08/10/2017
ms.topic: article
ms.prod: windows
ms.technology: uwp
keywords: windows10, uwp, Spiele, beispiel, directx, 3d
ms.localizationpriority: medium
ms.openlocfilehash: 91b3e37664543b57839387a187d0876f4830222c
ms.sourcegitcommit: 842ddba19fa3c028ea43e7922011515dbeb34e9c
ms.translationtype: HT
ms.contentlocale: de-DE
ms.lasthandoff: 01/05/2018
ms.locfileid: "1488824"
---
# <a name="developing-marble-maze-a-uwp-game-in-c-and-directx"></a><span data-ttu-id="8db82-104">Entwickeln von Marble Maze, einem UWP-Spiel in C++ und DirectX</span><span class="sxs-lookup"><span data-stu-id="8db82-104">Developing Marble Maze, a UWP game in C++ and DirectX</span></span>




<span data-ttu-id="8db82-105">In diesem Thema wird das Erstellen von UWP-3D-Spielen (Universelle Windows-Plattform) mit DirectX und Visual C++ beschrieben.</span><span class="sxs-lookup"><span data-stu-id="8db82-105">This topic describes how to use DirectX and Visual C++ to create a 3D Universal Windows Platform (UWP) game.</span></span> <span data-ttu-id="8db82-106">Das Spiel mit dem Namen „Marble Maze” unterstützt mehrere Formfaktoren wie Tablets, herkömmliche Desktop- und Laptop-PCs.</span><span class="sxs-lookup"><span data-stu-id="8db82-106">The game, called Marble Maze, embraces multiple form factors such as tablets as well as traditional desktop and laptop PCs.</span></span>

> [!NOTE]
> <span data-ttu-id="8db82-107">Den Quellcode für Marble Maze können Sie unter [Codebeispiel auf GitHub](http://go.microsoft.com/fwlink/?LinkId=624011) herunterladen.</span><span class="sxs-lookup"><span data-stu-id="8db82-107">To download the Marble Maze source code, see the [sample on GitHub](http://go.microsoft.com/fwlink/?LinkId=624011).</span></span>

> [!IMPORTANT]
> <span data-ttu-id="8db82-108">Aus Marble Maze werden Entwurfsmuster ersichtlich, die als bewährte Methoden zum Erstellen von UWP-Spielen empfohlen werden.</span><span class="sxs-lookup"><span data-stu-id="8db82-108">Marble Maze illustrates design patterns that we consider to be best practices for creating UWP games.</span></span> <span data-ttu-id="8db82-109">Viele der Implementierungsdetails können Sie an Ihre eigenen Vorgehensweisen und die konkreten Anforderungen des von Ihnen entwickelten Spiels anpassen.</span><span class="sxs-lookup"><span data-stu-id="8db82-109">You can adapt many of the implementation details to fit your own practices and the unique requirements of the game you are developing.</span></span> <span data-ttu-id="8db82-110">Wenn es Ihren Anforderungen besser entgegenkommt, können Sie natürlich auch andere Verfahren oder Bibliotheken verwenden.</span><span class="sxs-lookup"><span data-stu-id="8db82-110">Feel free to use different techniques or libraries when those better suit your needs.</span></span> <span data-ttu-id="8db82-111">(Achten Sie jedoch stets darauf, dass Ihr Code die Anforderungen des [ Zertifizierungskits für Windows-Apps](https://docs.microsoft.com/windows/uwp/debug-test-perf/windows-app-certification-kit) erfüllt.) Wenn eine Marble Maze-Implementierung als unerlässlich für die erfolgreiche Spieleentwicklung erachtet wird, ist dies in der vorliegenden Dokumentation entsprechend gekennzeichnet.</span><span class="sxs-lookup"><span data-stu-id="8db82-111">(However, always ensure that your code passes the [Windows App Certification Kit](https://docs.microsoft.com/windows/uwp/debug-test-perf/windows-app-certification-kit).) When we consider an implementation used here to be essential for successful game development, we emphasize it in this documentation.</span></span>

 

## <a name="introducing-marble-maze"></a><span data-ttu-id="8db82-112">Einführung in Marble Maze</span><span class="sxs-lookup"><span data-stu-id="8db82-112">Introducing Marble Maze</span></span>


<span data-ttu-id="8db82-113">Wir haben uns für Marble Maze entschieden, da es sich um ein relativ einfaches Spiel handelt, das dennoch die ganze Breite der Features repräsentiert, die sich in den meisten Spielen finden.</span><span class="sxs-lookup"><span data-stu-id="8db82-113">We chose Marble Maze because it is relatively basic, but still demonstrates the breadth of features that are found in most games.</span></span> <span data-ttu-id="8db82-114">Die Verwendung von Grafiken kann ebenso erläutert werden wie die Verarbeitung von Eingaben und Audiodaten.</span><span class="sxs-lookup"><span data-stu-id="8db82-114">It shows how to use graphics, input handling, and audio.</span></span> <span data-ttu-id="8db82-115">Außerdem kann die Spielmechanik gezeigt werden, etwa Regeln und Ziele.</span><span class="sxs-lookup"><span data-stu-id="8db82-115">It also demonstrates game mechanics such as rules and goals.</span></span>

<span data-ttu-id="8db82-116">Marble Maze ähnelt den Labyrinth-Tischspielen, die meist in einem Kasten mit Löchern und einer Stahl- oder Glasmurmel gespielt werden.</span><span class="sxs-lookup"><span data-stu-id="8db82-116">Marble Maze resembles the table-top labyrinth game that is typically constructed from a box that contains holes and a steel or glass marble.</span></span> <span data-ttu-id="8db82-117">Das Ziel von Marble Maze ist das gleiche wie bei der Tischversion: Das Labyrinth muss so angekippt werden, dass die Murmel in möglichst kurzer Zeit vom Anfang zum Ende des Labyrinths gerollt wird, ohne dass sie in eines der Löcher fällt.</span><span class="sxs-lookup"><span data-stu-id="8db82-117">The goal of Marble Maze is the same as the table-top version: tilt the maze to guide the marble from the start to the end of the maze in as little time as possible, without letting the marble fall into any of the holes.</span></span> <span data-ttu-id="8db82-118">Außerdem gibt es in Marble Maze das Konzept der Kontrollpunkte.</span><span class="sxs-lookup"><span data-stu-id="8db82-118">Marble Maze adds the concept of checkpoints.</span></span> <span data-ttu-id="8db82-119">Wenn die Murmel in ein Loch fällt, beginnt das Spiel am letzten Kontrollpunkt neu, den die Murmel passiert hat.</span><span class="sxs-lookup"><span data-stu-id="8db82-119">If the marble falls into a hole, the game is restarted at the last checkpoint location that the marble passed over.</span></span>

<span data-ttu-id="8db82-120">Marble Maze bietet dem Benutzer mehrere Möglichkeiten zur Interaktion mit dem Spielbrett.</span><span class="sxs-lookup"><span data-stu-id="8db82-120">Marble Maze offers multiple ways for a user to interact with the game board.</span></span> <span data-ttu-id="8db82-121">Wenn Sie über ein Gerät verfügen, das Toucheingaben oder einen Beschleunigungsmesser unterstützt, können Sie das Spielbrett mit diesen Geräten bewegen.</span><span class="sxs-lookup"><span data-stu-id="8db82-121">If you have a touch-enabled or accelerometer-enabled device, you can use those devices to move the game board.</span></span> <span data-ttu-id="8db82-122">Außerdem können Sie das Spiel mit einem Xbox One-Controller oder einer Maus steuern.</span><span class="sxs-lookup"><span data-stu-id="8db82-122">You can also use an Xbox One controller or a mouse to control game play.</span></span>

![Screenshot des Marble Maze-Spiels](images/marblemaze-2.png)

## <a name="prerequisites"></a><span data-ttu-id="8db82-124">Voraussetzungen</span><span class="sxs-lookup"><span data-stu-id="8db82-124">Prerequisites</span></span>


-   <span data-ttu-id="8db82-125">Windows10 Creators Update</span><span class="sxs-lookup"><span data-stu-id="8db82-125">Windows 10 Creators Update</span></span>
-   [<span data-ttu-id="8db82-126">Microsoft Visual Studio 2017</span><span class="sxs-lookup"><span data-stu-id="8db82-126">Microsoft Visual Studio 2017</span></span>](https://www.visualstudio.com/downloads/)
-   <span data-ttu-id="8db82-127">Kenntnisse in der C++-Programmierung</span><span class="sxs-lookup"><span data-stu-id="8db82-127">C++ programming knowledge</span></span>
-   <span data-ttu-id="8db82-128">Erfahrung mit DirectX und der Terminologie von DirectX</span><span class="sxs-lookup"><span data-stu-id="8db82-128">Familiarity with DirectX and DirectX terminology</span></span>
-   <span data-ttu-id="8db82-129">Grundkenntnisse in COM</span><span class="sxs-lookup"><span data-stu-id="8db82-129">Basic knowledge of COM</span></span>

## <a name="who-should-read-this"></a><span data-ttu-id="8db82-130">Wer sollte diese Dokumentation lesen?</span><span class="sxs-lookup"><span data-stu-id="8db82-130">Who should read this?</span></span>


<span data-ttu-id="8db82-131">Wenn Sie sich für die Erstellung von 3D-Spielen oder anderen grafikintensiven Anwendungen für Windows 10 interessieren, ist diese Dokumentation für Sie gedacht.</span><span class="sxs-lookup"><span data-stu-id="8db82-131">If you’re interested in creating 3D games or other graphics-intensive applications for Windows 10, this is for you.</span></span> <span data-ttu-id="8db82-132">Wir hoffen, dass Ihnen die in dieser Dokumentation skizzierten Prinzipien und praktischen Vorgehensweisen dabei helfen, eigene UWP-Spiele zu erstellen.</span><span class="sxs-lookup"><span data-stu-id="8db82-132">We hope you use the principles and practices that this documentation outlines to create your own UWP game.</span></span> <span data-ttu-id="8db82-133">Den größten Nutzen aus dieser Dokumentation werden Sie ziehen, wenn Sie bereits über Erfahrungen mit C++ und DirectX verfügen oder sich sehr dafür interessieren.</span><span class="sxs-lookup"><span data-stu-id="8db82-133">A background or strong interest in C++ and DirectX programming will help you get the most out of this documentation.</span></span> <span data-ttu-id="8db82-134">Wenn Sie noch keine Erfahrung mit DirectX, dafür aber mit ähnlichen 3D-Grafikprogrammierumgebungen haben, wird Ihnen die Dokumentation ebenfalls nutzen.</span><span class="sxs-lookup"><span data-stu-id="8db82-134">If you don't have experience with DirectX, you can still benefit if you have experience with similar 3D graphics programming environments.</span></span>

<span data-ttu-id="8db82-135">Im Dokument [Exemplarische Vorgehensweise: Erstellen eines einfachen UWP-Spiels mit DirectX](tutorial--create-your-first-uwp-directx-game.md) wird ein weiteres Beispiel beschrieben, in dem ein einfacher 3D-Shooter mit DirectX und C++ implementiert wird.</span><span class="sxs-lookup"><span data-stu-id="8db82-135">The document [Walkthrough: create a simple UWP game with DirectX](tutorial--create-your-first-uwp-directx-game.md) describes another sample that implements a basic 3D shooting game by using DirectX and C++.</span></span>

## <a name="what-this-documentation-covers"></a><span data-ttu-id="8db82-136">In dieser Dokumentation behandelte Themen</span><span class="sxs-lookup"><span data-stu-id="8db82-136">What this documentation covers</span></span>


<span data-ttu-id="8db82-137">In dieser Dokumentation wird Folgendes beschrieben:</span><span class="sxs-lookup"><span data-stu-id="8db82-137">This documentation teaches how to:</span></span>

-   <span data-ttu-id="8db82-138">Erstellen eines UWP-Spiels mit der Windows-Runtime-API und DirectX</span><span class="sxs-lookup"><span data-stu-id="8db82-138">Use the Windows Runtime API and DirectX to create a UWP game.</span></span>
-   <span data-ttu-id="8db82-139">Arbeiten mit visuellen [Direct3D](https://msdn.microsoft.com/library/windows/desktop/ff476080)- und [Direct2D](https://msdn.microsoft.com/library/windows/desktop/dd370990)-Inhalten wie Modellen, Texturen, Vertex- und Pixelshadern sowie 2D-Überblendungen</span><span class="sxs-lookup"><span data-stu-id="8db82-139">Use [Direct3D](https://msdn.microsoft.com/library/windows/desktop/ff476080) and [Direct2D](https://msdn.microsoft.com/library/windows/desktop/dd370990) to work with visual content such as models, textures, vertex and pixel shaders, and 2D overlays.</span></span>
-   <span data-ttu-id="8db82-140">Integrieren von Eingabemechanismen wie Touch, Beschleunigungsmesser und XboxOne-Controller</span><span class="sxs-lookup"><span data-stu-id="8db82-140">Integrate input mechanisms such as touch, accelerometer, and the Xbox One controller.</span></span>
-   <span data-ttu-id="8db82-141">Integrieren von Musik und Soundeffekten mit [XAudio2](https://msdn.microsoft.com/library/windows/desktop/hh405049)</span><span class="sxs-lookup"><span data-stu-id="8db82-141">Use [XAudio2](https://msdn.microsoft.com/library/windows/desktop/hh405049) to incorporate music and sound effects.</span></span>

## <a name="what-this-documentation-does-not-cover"></a><span data-ttu-id="8db82-142">In dieser Dokumentation nicht behandelte Themen</span><span class="sxs-lookup"><span data-stu-id="8db82-142">What this documentation does not cover</span></span>


<span data-ttu-id="8db82-143">Folgende Aspekte der Spieleentwicklung werden in dieser Dokumentation nicht behandelt.</span><span class="sxs-lookup"><span data-stu-id="8db82-143">This documentation does not cover the following aspects of game development.</span></span> <span data-ttu-id="8db82-144">Im Anschluss an diese Aspekte folgen zusätzliche Ressourcen, in denen sie behandelt werden.</span><span class="sxs-lookup"><span data-stu-id="8db82-144">These aspects are followed by additional resources that cover them.</span></span>

-   <span data-ttu-id="8db82-145">Entwurfsprinzipien von 3D-Spielen</span><span class="sxs-lookup"><span data-stu-id="8db82-145">3D game design principles.</span></span>
-   <span data-ttu-id="8db82-146">Grundlagen der C++- und DirectX-Programmierung</span><span class="sxs-lookup"><span data-stu-id="8db82-146">C++ or DirectX programming basics.</span></span>
-   <span data-ttu-id="8db82-147">Entwerfen von Ressourcen wie Texturen, Modellen oder Audio</span><span class="sxs-lookup"><span data-stu-id="8db82-147">How to design resources such as textures, models, or audio.</span></span>
-   <span data-ttu-id="8db82-148">Beheben von Verhaltens- oder Leistungsproblemen in Spielen</span><span class="sxs-lookup"><span data-stu-id="8db82-148">How to troubleshoot behavior or performance issues in your game.</span></span>
-   <span data-ttu-id="8db82-149">Vorbereiten von Spielen für andere Teile der Welt</span><span class="sxs-lookup"><span data-stu-id="8db82-149">How to prepare your game for use in other parts of the world.</span></span>
-   <span data-ttu-id="8db82-150">Zertifizieren und Veröffentlichen von Spielen im Microsoft Store</span><span class="sxs-lookup"><span data-stu-id="8db82-150">How to certify and publish your game to the Microsoft Store.</span></span>

<span data-ttu-id="8db82-151">Für die Zusammenarbeit von Marble Maze mit 3D-Geometrie und für physikalische Berechnungen wie Kollisionen wird zudem die [DirectXMath](https://msdn.microsoft.com/library/windows/desktop/hh437833)-Bibliothek verwendet.</span><span class="sxs-lookup"><span data-stu-id="8db82-151">Marble Maze also uses the [DirectXMath](https://msdn.microsoft.com/library/windows/desktop/hh437833) library to work with 3D geometry and perform physics calculations, such as collisions.</span></span> <span data-ttu-id="8db82-152">DirectXMath wird in diesem Abschnitt nicht eingehend beschrieben.</span><span class="sxs-lookup"><span data-stu-id="8db82-152">DirectXMath is not covered in-depth in this section.</span></span> <span data-ttu-id="8db82-153">Weitere Einzelheiten zur Verwendung von DirectXMath in Marble Maze finden Sie im Quellcode.</span><span class="sxs-lookup"><span data-stu-id="8db82-153">For details about how Marble Maze uses DirectXMath, refer to the source code.</span></span>

<span data-ttu-id="8db82-154">Zwar bietet Marble Maze viele wiederverwendbare Komponenten, doch stellt es kein vollständiges Framework für die Spieleentwicklung dar.</span><span class="sxs-lookup"><span data-stu-id="8db82-154">Although Marble Maze provides many reusable components, it is not a complete game development framework.</span></span> <span data-ttu-id="8db82-155">Wenn eine Komponente von Marble Maze als in Ihrem Spiel wiederverwendbar erachtet wird, ist dies in der vorliegenden Dokumentation entsprechend gekennzeichnet.</span><span class="sxs-lookup"><span data-stu-id="8db82-155">When we consider a Marble Maze component to be reusable in your game, we emphasize it in the documentation.</span></span>

## <a name="next-steps"></a><span data-ttu-id="8db82-156">Nächste Schritte</span><span class="sxs-lookup"><span data-stu-id="8db82-156">Next steps</span></span>


<span data-ttu-id="8db82-157">Es wird empfohlen, mit den [Grundlagen des Marble Maze-Beispiels](marble-maze-sample-fundamentals.md) zu beginnen, um sich mit der Struktur von Marble Maze und einigen Richtlinien zu Codierung und Stil im Marble Maze-Quellcode vertraut zu machen.</span><span class="sxs-lookup"><span data-stu-id="8db82-157">We recommend that you start with [Marble Maze sample fundamentals](marble-maze-sample-fundamentals.md) to learn about the Marble Maze structure and some of the coding and style guidelines that the Marble Maze source code follows.</span></span> <span data-ttu-id="8db82-158">Die folgende Tabelle skizziert die Dokumente in diesem Abschnitt, sodass Sie einen genaueren Überblick über diese gewinnen.</span><span class="sxs-lookup"><span data-stu-id="8db82-158">The following table outlines the documents in this section so that you can more easily refer to them.</span></span>

## <a name="in-this-section"></a><span data-ttu-id="8db82-159">Inhalt dieses Abschnitts</span><span class="sxs-lookup"><span data-stu-id="8db82-159">In this section</span></span>


| <span data-ttu-id="8db82-160">Titel</span><span class="sxs-lookup"><span data-stu-id="8db82-160">Title</span></span>                                                                                                                    | <span data-ttu-id="8db82-161">Beschreibung</span><span class="sxs-lookup"><span data-stu-id="8db82-161">Description</span></span>                                                                                                                                                                                                                                        |
|--------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="8db82-162">Grundlagen am Beispiel von Marble Maze</span><span class="sxs-lookup"><span data-stu-id="8db82-162">Marble Maze sample fundamentals</span></span>](marble-maze-sample-fundamentals.md)                                                   | <span data-ttu-id="8db82-163">Bietet einen Überblick über die Struktur des Spiels und einige Richtlinien zu Codierung und Stil im Marble Maze-Quellcode.</span><span class="sxs-lookup"><span data-stu-id="8db82-163">Provides an overview of the game structure and some of the code and style guidelines that the source code follows.</span></span>                                                                                                                                 |
| [<span data-ttu-id="8db82-164">Anwendungsstruktur von Marble Maze</span><span class="sxs-lookup"><span data-stu-id="8db82-164">Marble Maze application structure</span></span>](marble-maze-application-structure.md)                                               | <span data-ttu-id="8db82-165">Beschreibt die Strukturierung der Anwendung Marble Maze und die Unterschiede zwischen der Struktur einer UWP-DirectX-App und der einer herkömmlichen Desktopanwendung.</span><span class="sxs-lookup"><span data-stu-id="8db82-165">Describes how the Marble Maze application code is structured and how the structure of a DirectX UWP app differs from that of a traditional desktop application.</span></span>                                                                                    |
| [<span data-ttu-id="8db82-166">Hinzufügen von visuellem Inhalt zum Marble Maze-Beispiel</span><span class="sxs-lookup"><span data-stu-id="8db82-166">Adding visual content to the Marble Maze sample</span></span>](adding-visual-content-to-the-marble-maze-sample.md)                   | <span data-ttu-id="8db82-167">Beschreibt einige der zentralen praktischen Verfahren, die bei der Arbeit mit Direct3D und Direct2D zu beachten sind.</span><span class="sxs-lookup"><span data-stu-id="8db82-167">Describes some of the key practices to keep in mind when you work with Direct3D and Direct2D.</span></span> <span data-ttu-id="8db82-168">Beschreibt außerdem, wie diese Verfahren in Marble Maze für visuelle Inhalte umgesetzt wurden.</span><span class="sxs-lookup"><span data-stu-id="8db82-168">Also describes how Marble Maze applies these practices for visual content.</span></span>                                                                           |
| [<span data-ttu-id="8db82-169">Hinzufügen von Eingaben und Interaktivität zum Marble Maze-Beispiel</span><span class="sxs-lookup"><span data-stu-id="8db82-169">Adding input and interactivity to the Marble Maze sample</span></span>](adding-input-and-interactivity-to-the-marble-maze-sample.md) | <span data-ttu-id="8db82-170">Beschreibt die Zusammenarbeit von Marble Maze mit Beschleunigungsmesser, Touchgeräten und XboxOne-Controllereingaben, um den Benutzern das Navigieren in den Menüs und die Interaktion mit dem Spielbrett zu ermöglichen.</span><span class="sxs-lookup"><span data-stu-id="8db82-170">Describes how Marble Maze works with accelerometer, touch, and Xbox One controller inputs to enable users to navigate menus and interact with the game board.</span></span> <span data-ttu-id="8db82-171">Beschreibt außerdem einige bewährte Methoden, die bei der Arbeit mit Eingaben beachtet werden sollten.</span><span class="sxs-lookup"><span data-stu-id="8db82-171">Also describes some of the best practices to keep in mind when you work with input.</span></span> |
| [<span data-ttu-id="8db82-172">Hinzufügen von Audiodaten zum Marble Maze-Beispiel</span><span class="sxs-lookup"><span data-stu-id="8db82-172">Adding audio to the Marble Maze sample</span></span>](adding-audio-to-the-marble-maze-sample.md)                                     | <span data-ttu-id="8db82-173">Beschreibt die Zusammenarbeit von Marble Maze mit Audio, um der Spielumgebung Musik und Soundeffekte hinzuzufügen.</span><span class="sxs-lookup"><span data-stu-id="8db82-173">Describes how Marble Maze works with audio to add music and sound effects to the game experience.</span></span>                                                                                                                                                  |

 

 

 




