---
author: mtoepke
title: Planen der DirectX-Portierung
description: Planen Sie das Portieren des Spiels von DirectX 9 zu DirectX 11 und zur Universellen Windows-Plattform (UWP) - Führen Sie ein Upgrade des Grafikcodes durch, und fügen Sie das Spiel in die Windows-Runtime-Umgebung ein.
ms.assetid: 3c0c33ca-5d15-ae12-33f8-9b5d8da08155
ms.author: mtoepke
ms.date: 02/08/2017
ms.topic: article
keywords: Portieren von Windows10, UWP, Directx
ms.localizationpriority: medium
ms.openlocfilehash: dea6455b4e9aaef2a4239ef70d0919a4b8841bc5
ms.sourcegitcommit: 753e0a7160a88830d9908b446ef0907cc71c64e7
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 10/29/2018
ms.locfileid: "5749665"
---
# <a name="plan-your-directx-port"></a><span data-ttu-id="e3907-104">Planen der DirectX-Portierung</span><span class="sxs-lookup"><span data-stu-id="e3907-104">Plan your DirectX port</span></span>



**<span data-ttu-id="e3907-105">Zusammenfassung</span><span class="sxs-lookup"><span data-stu-id="e3907-105">Summary</span></span>**

-   <span data-ttu-id="e3907-106">Planen der DirectX-Portierung</span><span class="sxs-lookup"><span data-stu-id="e3907-106">Plan your DirectX port</span></span>
-   [<span data-ttu-id="e3907-107">Wichtige Änderungen beim Wechsel von Direct3D9 zu Direct3D11</span><span class="sxs-lookup"><span data-stu-id="e3907-107">Important changes from Direct3D 9 to Direct3D 11</span></span>](understand-direct3d-11-1-concepts.md)
-   [<span data-ttu-id="e3907-108">Featurezuordnung</span><span class="sxs-lookup"><span data-stu-id="e3907-108">Feature mapping</span></span>](feature-mapping.md)


<span data-ttu-id="e3907-109">Planen Sie das Portieren des Spiels von DirectX 9 zu DirectX 11 und zur Universellen Windows-Plattform (UWP): Führen Sie ein Upgrade des Grafikcodes durch, und fügen Sie das Spiel in die Windows-Runtime-Umgebung ein.</span><span class="sxs-lookup"><span data-stu-id="e3907-109">Plan your game porting project from DirectX 9 to DirectX 11 and Universal Windows Platform (UWP): upgrade your graphics code, and put your game in the Windows Runtime environment.</span></span>

## <a name="plan-to-port-graphics-code"></a><span data-ttu-id="e3907-110">Planen der Portierung des Grafikcodes</span><span class="sxs-lookup"><span data-stu-id="e3907-110">Plan to port graphics code</span></span>


<span data-ttu-id="e3907-111">Bevor Sie mit der Portierung des Spiels für UWP beginnen, müssen Sie sicherstellen, dass das Spiel keine Überbleibsel aus Direct3D 8 mehr aufweist.</span><span class="sxs-lookup"><span data-stu-id="e3907-111">Before you begin porting your game to UWP, it's important to ensure that your game does not have any holdovers from Direct3D 8.</span></span> <span data-ttu-id="e3907-112">Vergewissern Sie sich, dass im Spiel keine Reste der Pipeline mit festen Funktionen vorhanden sind.</span><span class="sxs-lookup"><span data-stu-id="e3907-112">Ensure that your game doesn't have any remnants of the fixed function pipeline.</span></span> <span data-ttu-id="e3907-113">Eine vollständige Liste der veralteten Features, einschließlich der Pipeline mit festen Funktionen, finden Sie unter [Veraltete Features](https://msdn.microsoft.com/library/windows/desktop/cc308047).</span><span class="sxs-lookup"><span data-stu-id="e3907-113">For a complete list of deprecated features, including fixed pipeline functionality, see [Deprecated Features](https://msdn.microsoft.com/library/windows/desktop/cc308047).</span></span>

<span data-ttu-id="e3907-114">Das Upgrade von Direct3D9 auf Direct3D11 ist mehr als nur ein Suchen-und-Ersetzen-Vorgang.</span><span class="sxs-lookup"><span data-stu-id="e3907-114">Upgrading from Direct3D 9 to Direct3D 11 is more than a search-and-replace change.</span></span> <span data-ttu-id="e3907-115">Sie müssen für Direct3D den Unterschied zwischen Gerät, Gerätekontext und Grafikinfrastruktur kennen und sich mit den anderen wichtigen Änderungen vertraut machen, die seit Direct3D9 vorgenommen wurden.</span><span class="sxs-lookup"><span data-stu-id="e3907-115">You need to know the difference between the Direct3D device, device context, and graphics infrastructure, and learn about other important changes since Direct3D 9.</span></span> <span data-ttu-id="e3907-116">Sie können damit beginnen, indem Sie sich die Informationen in den anderen Themen dieses Abschnitts durchlesen.</span><span class="sxs-lookup"><span data-stu-id="e3907-116">You can start this process by reading the other topics in this section.</span></span>

<span data-ttu-id="e3907-117">Ersetzen Sie die Hilfsbibliotheken D3DX und DXUT durch Ihre eigenen Hilfsbibliotheken oder durch Communitytools.</span><span class="sxs-lookup"><span data-stu-id="e3907-117">You must replace the D3DX and DXUT helper libraries with your own helper libraries, or with community tools.</span></span> <span data-ttu-id="e3907-118">Weitere Informationen finden Sie im Abschnitt [Featurezuordnung](feature-mapping.md).</span><span class="sxs-lookup"><span data-stu-id="e3907-118">See the [Feature mapping](feature-mapping.md) section for more info.</span></span>

> <span data-ttu-id="e3907-119">**Hinweis:**  können Sie mithilfe der [DirectX-Toolkit](http://go.microsoft.com/fwlink/p/?LinkID=248929) oder [DirectXTex](http://go.microsoft.com/fwlink/p/?LinkID=248926) um einige Funktionen zu ersetzen, die bisher von D3DX und DXUT bereitgestellt wurden.</span><span class="sxs-lookup"><span data-stu-id="e3907-119">**Note** You can use the [DirectX Tool Kit](http://go.microsoft.com/fwlink/p/?LinkID=248929) or [DirectXTex](http://go.microsoft.com/fwlink/p/?LinkID=248926) to replace some functionality that was formerly provided by D3DX and DXUT.</span></span>

 

<span data-ttu-id="e3907-120">In Assemblysprache geschriebene Shader sollten mit den Funktionen des Shadermodells 4 (Ebene 9_1 oder 9_3) auf HLSL aktualisiert werden. Für die Effektbibliothek geschriebene Shader müssen auf eine neuere Version der HLSL-Syntax aktualisiert werden.</span><span class="sxs-lookup"><span data-stu-id="e3907-120">Shaders written in assembly language should be upgraded to HLSL using shader model 4 level 9\_1 or 9\_3 functionality, and shaders written for the Effects library will need to be updated to a more recent version of HLSL syntax.</span></span> <span data-ttu-id="e3907-121">Weitere Informationen finden Sie im Abschnitt [Featurezuordnung](feature-mapping.md).</span><span class="sxs-lookup"><span data-stu-id="e3907-121">See the [Feature mapping](feature-mapping.md) section for more info.</span></span>

<span data-ttu-id="e3907-122">Machen Sie sich mit den verschiedenen [Direct3D-Featureebenen](https://msdn.microsoft.com/library/windows/desktop/ff476876) vertraut.</span><span class="sxs-lookup"><span data-stu-id="e3907-122">Get familiar with the different [Direct3D feature levels](https://msdn.microsoft.com/library/windows/desktop/ff476876).</span></span> <span data-ttu-id="e3907-123">Mithilfe von Featureebenen wird ein großer Bereich von Videohardware klassifiziert, indem Gruppen bekannter Funktionen definiert werden.</span><span class="sxs-lookup"><span data-stu-id="e3907-123">Feature levels classify a wide range of video hardware by defining sets of known functionality.</span></span> <span data-ttu-id="e3907-124">Jede Gruppe entspricht grob den Versionen von Direct3D, und zwar von9.1 bis11.2.</span><span class="sxs-lookup"><span data-stu-id="e3907-124">Each set roughly corresponds to versions of Direct3D, from 9.1 through 11.2.</span></span> <span data-ttu-id="e3907-125">Für alle Featureebenen wird die DirectX11-API verwendet.</span><span class="sxs-lookup"><span data-stu-id="e3907-125">All feature levels use the DirectX 11 API.</span></span>

## <a name="plan-to-port-win32-ui-code-to-corewindow"></a><span data-ttu-id="e3907-126">Planen der Portierung des Win32-UI-Codes zu CoreWindow</span><span class="sxs-lookup"><span data-stu-id="e3907-126">Plan to port Win32 UI code to CoreWindow</span></span>


<span data-ttu-id="e3907-127">UWP-Apps werden in einem Fenster ausgeführt, das für einen App-Container erstellt wurde. Dieses wird als [**CoreWindow**](https://msdn.microsoft.com/library/windows/apps/br208225) bezeichnet.</span><span class="sxs-lookup"><span data-stu-id="e3907-127">UWP apps run in a window created for an app container, called a [**CoreWindow**](https://msdn.microsoft.com/library/windows/apps/br208225).</span></span> <span data-ttu-id="e3907-128">Das Spiel steuert das Fenster, indem es von [**IFrameworkView**](https://msdn.microsoft.com/library/windows/apps/hh700478) erbt. Dafür sind weniger Implementierungsdetails als für ein Desktopfenster erforderlich.</span><span class="sxs-lookup"><span data-stu-id="e3907-128">Your game controls the window by inheriting from [**IFrameworkView**](https://msdn.microsoft.com/library/windows/apps/hh700478), which requires less implementation details than a desktop window.</span></span> <span data-ttu-id="e3907-129">Die Hauptschleife des Spiels befindet sich in der [**IFrameworkView::Run**](https://msdn.microsoft.com/library/windows/apps/hh700505)-Methode.</span><span class="sxs-lookup"><span data-stu-id="e3907-129">Your game's main loop will be in the [**IFrameworkView::Run**](https://msdn.microsoft.com/library/windows/apps/hh700505) method.</span></span>

<span data-ttu-id="e3907-130">Der Lebenszyklus einer UWP-App unterscheidet sich von dem einer Desktop-App.</span><span class="sxs-lookup"><span data-stu-id="e3907-130">The lifecycle of a UWP app is very different from a desktop app.</span></span> <span data-ttu-id="e3907-131">Das Spiel sollte häufig gespeichert werden, da die App bei einem Anhalteereignis nur über einen begrenzten Zeitraum verfügt, um die Ausführung des Codes zu stoppen. Es soll sichergestellt sein, dass Spieler beim Fortsetzen der App sofort an der vorherigen Stelle weiterspielen können.</span><span class="sxs-lookup"><span data-stu-id="e3907-131">You'll need to save the game often, because when a suspend event happens your app only has a limited amount of time to stop running code, and you want to make sure the player can get back to where they were right away when your app resumes.</span></span> <span data-ttu-id="e3907-132">Spiele sollten gerade häufig genug gespeichert werden, damit nach dem Fortsetzen kontinuierliches Spielen möglich ist. Es sollte jedoch nicht so oft gespeichert werden, dass die Framerate beeinträchtigt wird oder das Spiel stockt und ruckelt.</span><span class="sxs-lookup"><span data-stu-id="e3907-132">Games should save just often enough to maintain a continuous gameplay experience from resume, but not so often that the game saves impact framerate or cause the game to stutter.</span></span> <span data-ttu-id="e3907-133">Wenn das Spiel nach einem Beendigungszustand fortgesetzt wird, muss möglicherweise der Spielstatus geladen werden.</span><span class="sxs-lookup"><span data-stu-id="e3907-133">Your game will potentially need to load game state when the game resumes from a terminated state.</span></span>

<span data-ttu-id="e3907-134">[DirectXMath](https://msdn.microsoft.com/library/windows/desktop/ee415571) kann als Ersatz für D3DXMath und XNAMath verwendet werden, wenn Sie eine Mathematikbibliothek benötigen.</span><span class="sxs-lookup"><span data-stu-id="e3907-134">[DirectXMath](https://msdn.microsoft.com/library/windows/desktop/ee415571) can be used as a replacement for D3DXMath and XNAMath, and it can come in handy if you need a math library.</span></span> <span data-ttu-id="e3907-135">DirectXMath verfügt über schnelle, portierbare Datentypen und Typen, die aufeinander abgestimmt und zur Verwendung mit Shadern als Paket vorhanden sind.</span><span class="sxs-lookup"><span data-stu-id="e3907-135">DirectXMath has fast, portable data types, and types that are aligned and packed for use with shaders.</span></span>

<span data-ttu-id="e3907-136">Systemeigene Bibliotheken wie [Interlocked API](https://msdn.microsoft.com/library/windows/desktop/dd405529) wurden erweitert und unterstützen jetzt systeminterne ARM-Funktionen.</span><span class="sxs-lookup"><span data-stu-id="e3907-136">Native libraries such as the [Interlocked API](https://msdn.microsoft.com/library/windows/desktop/dd405529) have been expanded to support ARM intrinsics.</span></span> <span data-ttu-id="e3907-137">Wenn in Ihrem Spiel miteinander verbundene APIs verwendet werden, können Sie diese unter DirectX 11 und UWP weiterhin verwenden.</span><span class="sxs-lookup"><span data-stu-id="e3907-137">If your game uses interlocked APIs, you can keep using them in DirectX 11 and UWP.</span></span>

<span data-ttu-id="e3907-138">In den Vorlagen und Codebeispielen von Microsoft werden neue C++-Features verwendet, die Sie möglicherweise noch nicht kennen.</span><span class="sxs-lookup"><span data-stu-id="e3907-138">Our templates and code samples use new C++ features that you might not be familiar with yet.</span></span> <span data-ttu-id="e3907-139">Beispielsweise werden asynchrone Methoden in Verbindung mit [**Lambda-Ausdrücken**](https://msdn.microsoft.com/library/windows/apps/dd293608.aspx) eingesetzt, um Direct3D-Ressourcen laden zu können, ohne den UI-Thread zu blockieren.</span><span class="sxs-lookup"><span data-stu-id="e3907-139">For example, asynchronous methods are used with [**lambda expressions**](https://msdn.microsoft.com/library/windows/apps/dd293608.aspx) to load Direct3D resources without blocking the UI thread.</span></span>

<span data-ttu-id="e3907-140">Zwei Konzepte werden Sie jedoch häufig anwenden:</span><span class="sxs-lookup"><span data-stu-id="e3907-140">There are two concepts you'll use often:</span></span>

-   <span data-ttu-id="e3907-141">Verwaltete Verweise ([**^ Operator**](https://msdn.microsoft.com/library/windows/apps/yk97tc08.aspx)) und [**verwaltete Klassen**](https://msdn.microsoft.com/library/windows/apps/6w96b5h7.aspx) (Verweisklassen) sind wesentliche Bestandteile der Windows-Runtime.</span><span class="sxs-lookup"><span data-stu-id="e3907-141">Managed references ([**^ operator**](https://msdn.microsoft.com/library/windows/apps/yk97tc08.aspx)) and [**managed classes**](https://msdn.microsoft.com/library/windows/apps/6w96b5h7.aspx) (ref classes) are a fundamental part of the Windows Runtime.</span></span> <span data-ttu-id="e3907-142">Die Verwendung von verwalteten Verweisklassen ist erforderlich, um Schnittstellen zu Windows-Runtime-Komponenten wie [**IFrameworkView**](https://msdn.microsoft.com/library/windows/apps/hh700478) einzurichten. Weitere Informationen finden Sie in der exemplarischen Vorgehensweise.</span><span class="sxs-lookup"><span data-stu-id="e3907-142">You will need to use managed ref classes to interface with Windows Runtime components, for example [**IFrameworkView**](https://msdn.microsoft.com/library/windows/apps/hh700478) (more on that in the walkthrough).</span></span>
-   <span data-ttu-id="e3907-143">Verwenden Sie beim Arbeiten mit Direct3D 11-COM-Schnittstellen den [**Microsoft::WRL::ComPtr**](https://msdn.microsoft.com/library/windows/apps/br244983.aspx)-Vorlagetyp, um die Nutzung von COM-Zeigern zu vereinfachen.</span><span class="sxs-lookup"><span data-stu-id="e3907-143">When working with Direct3D 11 COM interfaces, use the [**Microsoft::WRL::ComPtr**](https://msdn.microsoft.com/library/windows/apps/br244983.aspx) template type to make COM pointers easier to use.</span></span>

 

 




