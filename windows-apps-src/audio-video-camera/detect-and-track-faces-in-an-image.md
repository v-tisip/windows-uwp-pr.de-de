---
author: drewbatgit
ms.assetid: 84729E44-10E9-4D7D-8575-6A9D97467ECD
description: In diesem Thema erfahren Sie, wie mit dem FaceDetector Gesichter in einem Bild erkannt werden. Der FaceTracker ist für die Verfolgung von Gesichtern im zeitlichen Verlauf einer Sequenz von Videoframes optimiert.
title: Erkennen von Gesichtern in Bildern oder Videos
ms.author: drewbat
ms.date: 02/08/2017
ms.topic: article
keywords: windows 10, uwp
ms.localizationpriority: medium
ms.openlocfilehash: be2cfb94c68ed3431199428c87aef4bf038ccbb9
ms.sourcegitcommit: 93c0a60cf531c7d9fe7b00e7cf78df86906f9d6e
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 11/21/2018
ms.locfileid: "7560508"
---
# <a name="detect-faces-in-images-or-videos"></a><span data-ttu-id="b72eb-105">Erkennen von Gesichtern in Bildern oder Videos</span><span class="sxs-lookup"><span data-stu-id="b72eb-105">Detect faces in images or videos</span></span>



<span data-ttu-id="b72eb-106">\[Einige Informationen beziehen sich auf die Vorabversion, die vor der kommerziellen Freigabe möglicherweise wesentlich geändert wird.</span><span class="sxs-lookup"><span data-stu-id="b72eb-106">\[Some information relates to pre-released product which may be substantially modified before it's commercially released.</span></span> <span data-ttu-id="b72eb-107">Microsoft übernimmt keine Garantie, weder ausdrücklicher noch impliziter Art, für die hier bereitgestellten Informationen.\]</span><span class="sxs-lookup"><span data-stu-id="b72eb-107">Microsoft makes no warranties, express or implied, with respect to the information provided here.\]</span></span>

<span data-ttu-id="b72eb-108">In diesem Thema erfahren Sie, wie mit dem [**FaceDetector**](https://msdn.microsoft.com/library/windows/apps/dn974129) Gesichter in einem Bild erkannt werden.</span><span class="sxs-lookup"><span data-stu-id="b72eb-108">This topic shows how to use the [**FaceDetector**](https://msdn.microsoft.com/library/windows/apps/dn974129) to detect faces in an image.</span></span> <span data-ttu-id="b72eb-109">Der [**FaceTracker**](https://msdn.microsoft.com/library/windows/apps/dn974150) ist für die Verfolgung von Gesichtern im zeitlichen Verlauf einer Sequenz von Videoframes optimiert.</span><span class="sxs-lookup"><span data-stu-id="b72eb-109">The [**FaceTracker**](https://msdn.microsoft.com/library/windows/apps/dn974150) is optimized for tracking faces over time in a sequence of video frames.</span></span>

<span data-ttu-id="b72eb-110">Ein alternatives Verfahren der Gesichtsverfolgung mit dem [**FaceDetectionEffect**](https://msdn.microsoft.com/library/windows/apps/dn948776) finden Sie unter [Szenenanalyse für die Medienaufnahme](scene-analysis-for-media-capture.md).</span><span class="sxs-lookup"><span data-stu-id="b72eb-110">For an alternative method of tracking faces using the [**FaceDetectionEffect**](https://msdn.microsoft.com/library/windows/apps/dn948776), see [Scene analysis for media capture](scene-analysis-for-media-capture.md).</span></span>

<span data-ttu-id="b72eb-111">Der Code in diesem Artikel wurde aus den Beispielen [Basic Face Detection](http://go.microsoft.com/fwlink/p/?LinkId=620512&clcid=0x409) und [Basic Face Tracking](http://go.microsoft.com/fwlink/p/?LinkId=620513&clcid=0x409) übernommen und angepasst.</span><span class="sxs-lookup"><span data-stu-id="b72eb-111">The code in this article was adapted from the [Basic Face Detection](http://go.microsoft.com/fwlink/p/?LinkId=620512&clcid=0x409) and [Basic Face Tracking](http://go.microsoft.com/fwlink/p/?LinkId=620513&clcid=0x409) samples.</span></span> <span data-ttu-id="b72eb-112">Sie können diese Beispiele herunterladen, um den verwendeten Code im Kontext anzuzeigen oder das Beispiel als Ausgangspunkt für Ihre eigene App zu verwenden.</span><span class="sxs-lookup"><span data-stu-id="b72eb-112">You can download these samples to see the code used in context or to use the sample as a starting point for your own app.</span></span>

## <a name="detect-faces-in-a-single-image"></a><span data-ttu-id="b72eb-113">Erkennen von Gesichtern in einem einzelnen Bild</span><span class="sxs-lookup"><span data-stu-id="b72eb-113">Detect faces in a single image</span></span>

<span data-ttu-id="b72eb-114">Die [**FaceDetector**](https://msdn.microsoft.com/library/windows/apps/dn974129)-Klasse ermöglicht das Erkennen von einem oder mehreren Gesichtern in einem Standbild.</span><span class="sxs-lookup"><span data-stu-id="b72eb-114">The [**FaceDetector**](https://msdn.microsoft.com/library/windows/apps/dn974129) class allows you to detect one or more faces in a still image.</span></span>

<span data-ttu-id="b72eb-115">In diesem Beispiel werden APIs aus den folgenden Namespaces verwendet.</span><span class="sxs-lookup"><span data-stu-id="b72eb-115">This example uses APIs from the following namespaces.</span></span>

[!code-cs[FaceDetectionUsing](./code/FaceDetection_Win10/cs/MainPage.xaml.cs#SnippetFaceDetectionUsing)]

<span data-ttu-id="b72eb-116">Deklarieren Sie eine Klassenmembervariable für das [**FaceDetector**](https://msdn.microsoft.com/library/windows/apps/dn974129)-Objekt und für die Liste der [**DetectedFace**](https://msdn.microsoft.com/library/windows/apps/dn974123)-Objekte, die im Bild erkannt werden.</span><span class="sxs-lookup"><span data-stu-id="b72eb-116">Declare a class member variable for the [**FaceDetector**](https://msdn.microsoft.com/library/windows/apps/dn974129) object and for the list of [**DetectedFace**](https://msdn.microsoft.com/library/windows/apps/dn974123) objects that will be detected in the image.</span></span>

[!code-cs[ClassVariables1](./code/FaceDetection_Win10/cs/MainPage.xaml.cs#SnippetClassVariables1)]

<span data-ttu-id="b72eb-117">Die Gesichtserkennung arbeitet mit einem [**SoftwareBitmap**](https://msdn.microsoft.com/library/windows/apps/dn887358)-Objekt, das auf vielfältige Weise erstellt werden kann.</span><span class="sxs-lookup"><span data-stu-id="b72eb-117">Face detection operates on a [**SoftwareBitmap**](https://msdn.microsoft.com/library/windows/apps/dn887358) object which can be created in a variety of ways.</span></span> <span data-ttu-id="b72eb-118">In diesem Beispiel wird ein [**FileOpenPicker**](https://msdn.microsoft.com/library/windows/apps/br207847) verwendet, um dem Benutzer das Auswählen einer Bilddatei zu ermöglichen, in der Gesichter erkannt werden.</span><span class="sxs-lookup"><span data-stu-id="b72eb-118">In this example a [**FileOpenPicker**](https://msdn.microsoft.com/library/windows/apps/br207847) is used to allow the user to pick an image file in which faces will be detected.</span></span> <span data-ttu-id="b72eb-119">Weitere Informationen zum Arbeiten mit Softwarebitmaps finden Sie unter [Bildverarbeitung](imaging.md).</span><span class="sxs-lookup"><span data-stu-id="b72eb-119">For more information about working with software bitmaps, see [Imaging](imaging.md).</span></span>

[!code-cs[Picker](./code/FaceDetection_Win10/cs/MainPage.xaml.cs#SnippetPicker)]

<span data-ttu-id="b72eb-120">Verwenden Sie die [**BitmapDecoder**](https://msdn.microsoft.com/library/windows/apps/br226176)-Klasse, um die Bilddatei als **SoftwareBitmap** zu decodieren.</span><span class="sxs-lookup"><span data-stu-id="b72eb-120">Use the [**BitmapDecoder**](https://msdn.microsoft.com/library/windows/apps/br226176) class to decode the image file into a **SoftwareBitmap**.</span></span> <span data-ttu-id="b72eb-121">Mit einem kleineren Bild erfolgt die Gesichtserkennung schneller. Daher empfiehlt es sich, das Quellbild auf eine geringere Größe zu skalieren.</span><span class="sxs-lookup"><span data-stu-id="b72eb-121">The face detection process is quicker with a smaller image and so you may want to scale the source image down to a smaller size.</span></span> <span data-ttu-id="b72eb-122">Dies kann während der Decodierung erfolgen, indem ein [**BitmapTransform**](https://msdn.microsoft.com/library/windows/apps/br226254)-Objekt erstellt wird, die Eigenschaften [**ScaledWidth**](https://msdn.microsoft.com/library/windows/apps/br226261) und [**ScaledHeight**](https://msdn.microsoft.com/library/windows/apps/br226260) festgelegt werden und das Objekt an den Aufruf von [**GetSoftwareBitmapAsync**](https://msdn.microsoft.com/library/windows/apps/dn887332) übergeben wird, der die decodierte und skalierte **SoftwareBitmap** zurückgibt.</span><span class="sxs-lookup"><span data-stu-id="b72eb-122">This can be performed during decoding by creating a [**BitmapTransform**](https://msdn.microsoft.com/library/windows/apps/br226254) object, setting the [**ScaledWidth**](https://msdn.microsoft.com/library/windows/apps/br226261) and [**ScaledHeight**](https://msdn.microsoft.com/library/windows/apps/br226260) properties and passing it into the call to [**GetSoftwareBitmapAsync**](https://msdn.microsoft.com/library/windows/apps/dn887332), which returns the decoded and scaled **SoftwareBitmap**.</span></span>

[!code-cs[Decode](./code/FaceDetection_Win10/cs/MainPage.xaml.cs#SnippetDecode)]

<span data-ttu-id="b72eb-123">In der aktuellen Version unterstützt die **FaceDetector**-Klasse nur Bilder im Pixelformat Gray8 oder Nv12.</span><span class="sxs-lookup"><span data-stu-id="b72eb-123">In the current version, the **FaceDetector** class only supports images in Gray8 or Nv12.</span></span> <span data-ttu-id="b72eb-124">Die **SoftwareBitmap**-Klasse stellt die [**Convert**](https://msdn.microsoft.com/library/windows/apps/dn887362)-Methode bereit, die eine Bitmap in ein anderes Format umwandelt.</span><span class="sxs-lookup"><span data-stu-id="b72eb-124">The **SoftwareBitmap** class provides the [**Convert**](https://msdn.microsoft.com/library/windows/apps/dn887362) method, which converts a bitmap from one format to another.</span></span> <span data-ttu-id="b72eb-125">In diesem Beispiel wird das Quellbild in das Pixelformat Gray8 umgewandelt, sofern es nicht bereits dieses Format aufweist.</span><span class="sxs-lookup"><span data-stu-id="b72eb-125">This example converts the source image into the Gray8 pixel format if it is not already in that format.</span></span> <span data-ttu-id="b72eb-126">Sie können ggf. mithilfe der Methoden [**GetSupportedBitmapPixelFormats**](https://msdn.microsoft.com/library/windows/apps/dn974140) und [**IsBitmapPixelFormatSupported**](https://msdn.microsoft.com/library/windows/apps/dn974142) zur Laufzeit bestimmen, ob ein Pixelformat unterstützt wird, für den Fall, dass der Satz der unterstützten Formate in zukünftigen Versionen erweitert wird.</span><span class="sxs-lookup"><span data-stu-id="b72eb-126">If you want, you can use the [**GetSupportedBitmapPixelFormats**](https://msdn.microsoft.com/library/windows/apps/dn974140) and [**IsBitmapPixelFormatSupported**](https://msdn.microsoft.com/library/windows/apps/dn974142) methods to determine at runtime if a pixel format is supported, in case the set of supported formats is expanded in future versions.</span></span>

[!code-cs[Format](./code/FaceDetection_Win10/cs/MainPage.xaml.cs#SnippetFormat)]

<span data-ttu-id="b72eb-127">Instanziieren Sie das **FaceDetector**-Objekt, indem Sie [**CreateAsync**](https://msdn.microsoft.com/library/windows/apps/dn974132) und dann [**DetectFacesAsync**](https://msdn.microsoft.com/library/windows/apps/dn974134) aufrufen, und übergeben Sie die Bitmap, die auf eine geeignete Größe skaliert und in ein unterstütztes Pixelformat konvertiert wurde.</span><span class="sxs-lookup"><span data-stu-id="b72eb-127">Instantiate the **FaceDetector** object by calling [**CreateAsync**](https://msdn.microsoft.com/library/windows/apps/dn974132) and then calling [**DetectFacesAsync**](https://msdn.microsoft.com/library/windows/apps/dn974134), passing in the bitmap that has been scaled to a reasonable size and converted to a supported pixel format.</span></span> <span data-ttu-id="b72eb-128">Diese Methode gibt eine Liste von [**DetectedFace**](https://msdn.microsoft.com/library/windows/apps/dn974123)-Objekten zurück.</span><span class="sxs-lookup"><span data-stu-id="b72eb-128">This method returns a list of [**DetectedFace**](https://msdn.microsoft.com/library/windows/apps/dn974123) objects.</span></span> <span data-ttu-id="b72eb-129">**ShowDetectedFaces** ist eine Hilfsmethode (unten dargestellt), die Quadrate um die Gesichter im Bild zeichnet.</span><span class="sxs-lookup"><span data-stu-id="b72eb-129">**ShowDetectedFaces** is a helper method, shown below, that draws squares around the faces in the image.</span></span>

[!code-cs[Detect](./code/FaceDetection_Win10/cs/MainPage.xaml.cs#SnippetDetect)]

<span data-ttu-id="b72eb-130">Stellen Sie sicher, dass die Objekte gelöscht werden, die während der Gesichtserkennung erstellt wurden.</span><span class="sxs-lookup"><span data-stu-id="b72eb-130">Be sure to dispose of the objects that were created during the face detection process.</span></span>

[!code-cs[Dispose](./code/FaceDetection_Win10/cs/MainPage.xaml.cs#SnippetDispose)]

<span data-ttu-id="b72eb-131">Um das Bild anzuzeigen und Rahmen um die erkannten Gesichter zu zeichnen, fügen Sie der XAML-Seite ein [**Canvas**](https://msdn.microsoft.com/library/windows/apps/br209267)-Element hinzu.</span><span class="sxs-lookup"><span data-stu-id="b72eb-131">To display the image and draw boxes around the detected faces, add a [**Canvas**](https://msdn.microsoft.com/library/windows/apps/br209267) element to your XAML page.</span></span>

[!code-xml[Canvas](./code/FaceDetection_Win10/cs/MainPage.xaml#SnippetCanvas)]

<span data-ttu-id="b72eb-132">Definieren Sie Membervariablen, um die zu zeichnenden Quadrate zu formatieren.</span><span class="sxs-lookup"><span data-stu-id="b72eb-132">Define some member variables to style the squares that will be drawn.</span></span>

[!code-cs[ClassVariables2](./code/FaceDetection_Win10/cs/MainPage.xaml.cs#SnippetClassVariables2)]

<span data-ttu-id="b72eb-133">In der **ShowDetectedFaces**-Hilfsmethode wird ein neuer [**ImageBrush**](https://msdn.microsoft.com/library/windows/apps/br210101) erstellt, und die Quelle wird auf eine [**SoftwareBitmapSource**](https://msdn.microsoft.com/library/windows/apps/dn997854) festgelegt, die aus der das Quellbild darstellenden **SoftwareBitmap** erstellt wird.</span><span class="sxs-lookup"><span data-stu-id="b72eb-133">In the **ShowDetectedFaces** helper method, a new [**ImageBrush**](https://msdn.microsoft.com/library/windows/apps/br210101) is created and the source is set to a [**SoftwareBitmapSource**](https://msdn.microsoft.com/library/windows/apps/dn997854) created from the **SoftwareBitmap** representing the source image.</span></span> <span data-ttu-id="b72eb-134">Der Hintergrund des XAML **Canvas**-Steuerelements wird auf den Bildpinsel festgelegt.</span><span class="sxs-lookup"><span data-stu-id="b72eb-134">The background of the XAML **Canvas** control is set to the image brush.</span></span>

<span data-ttu-id="b72eb-135">Wenn die Liste der an die Hilfsmethode übergebenen Gesichter nicht leer ist, durchlaufen Sie die einzelnen Gesichter in der Liste, und bestimmen Sie mithilfe der [**FaceBox**](https://msdn.microsoft.com/library/windows/apps/dn974126)-Eigenschaft der [**DetectedFace**](https://msdn.microsoft.com/library/windows/apps/dn974123)-Klasse die Position und Größe des Rechtecks im Bild, das das Gesicht enthält.</span><span class="sxs-lookup"><span data-stu-id="b72eb-135">If the list of faces passed into the helper method isn't empty, loop through each face in the list and use the [**FaceBox**](https://msdn.microsoft.com/library/windows/apps/dn974126) property of the [**DetectedFace**](https://msdn.microsoft.com/library/windows/apps/dn974123) class to determine the position and size of the rectangle within the image that contains the face.</span></span> <span data-ttu-id="b72eb-136">Da die Größe des **Canvas**-Steuerelements sehr wahrscheinlich nicht mit der Größe des Quellbilds übereinstimmt, sollten Sie die X- und Y-Koordinate sowie die Breite und Höhe der **FaceBox** mit einem Skalierungswert multiplizieren, der das Verhältnis der Quellbildgröße zur tatsächlichen Größe des **Canvas**-Steuerelements angibt.</span><span class="sxs-lookup"><span data-stu-id="b72eb-136">Because the **Canvas** control is very likely to be a different size than the source image, you should multiply both the X and Y coordinates and the width and height of the **FaceBox** by a scaling value that is the ratio of the source image size to the actual size of the **Canvas** control.</span></span>

[!code-cs[ShowDetectedFaces](./code/FaceDetection_Win10/cs/MainPage.xaml.cs#SnippetShowDetectedFaces)]

## <a name="track-faces-in-a-sequence-of-frames"></a><span data-ttu-id="b72eb-137">Verfolgen von Gesichtern in einer Framesequenz</span><span class="sxs-lookup"><span data-stu-id="b72eb-137">Track faces in a sequence of frames</span></span>

<span data-ttu-id="b72eb-138">Für die Gesichtserkennung in einem Video ist es effizienter, die [**FaceTracker**](https://msdn.microsoft.com/library/windows/apps/dn974150)-Klasse anstelle der [**FaceDetector**](https://msdn.microsoft.com/library/windows/apps/dn974129)-Klasse zu verwenden. Die Implementierungsschritte sind jedoch sehr ähnlich.</span><span class="sxs-lookup"><span data-stu-id="b72eb-138">If you want to detect faces in video, it is more efficient to use the [**FaceTracker**](https://msdn.microsoft.com/library/windows/apps/dn974150) class rather than the [**FaceDetector**](https://msdn.microsoft.com/library/windows/apps/dn974129) class, although the implementation steps are very similar.</span></span> <span data-ttu-id="b72eb-139">Der **FaceTracker** optimiert den Erkennungsprozess anhand von Informationen über bereits verarbeitete Frames.</span><span class="sxs-lookup"><span data-stu-id="b72eb-139">The **FaceTracker** uses information about previously processed frames to optimize the detection process.</span></span>

[!code-cs[FaceTrackingUsing](./code/FaceDetection_Win10/cs/MainPage.xaml.cs#SnippetFaceTrackingUsing)]

<span data-ttu-id="b72eb-140">Deklarieren Sie eine Klassenvariable für das **FaceTracker**-Objekt.</span><span class="sxs-lookup"><span data-stu-id="b72eb-140">Declare a class variable for the **FaceTracker** object.</span></span> <span data-ttu-id="b72eb-141">In diesem Beispiel wird ein [**ThreadPoolTimer**](https://msdn.microsoft.com/library/windows/apps/br230587) verwendet, um die Gesichtsverfolgung für ein definiertes Intervall zu initiieren.</span><span class="sxs-lookup"><span data-stu-id="b72eb-141">This example uses a [**ThreadPoolTimer**](https://msdn.microsoft.com/library/windows/apps/br230587) to initiate face tracking on a defined interval.</span></span> <span data-ttu-id="b72eb-142">Mit einem [SemaphoreSlim](https://msdn.microsoft.com/library/system.threading.semaphoreslim.aspx) wird sichergestellt, dass immer nur ein Gesichtsverfolgungsvorgang ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="b72eb-142">A [SemaphoreSlim](https://msdn.microsoft.com/library/system.threading.semaphoreslim.aspx) is used to make sure that only one face tracking operation is running at a time.</span></span>

[!code-cs[ClassVariables3](./code/FaceDetection_Win10/cs/MainPage.xaml.cs#SnippetClassVariables3)]

<span data-ttu-id="b72eb-143">Erstellen Sie zum Initialisieren des Gesichtsverfolgungsvorgangs ein neues **FaceTracker**-Objekt, indem Sie [**CreateAsync**](https://msdn.microsoft.com/library/windows/apps/dn974151) aufrufen.</span><span class="sxs-lookup"><span data-stu-id="b72eb-143">To initialize the face tracking operation, create a new **FaceTracker** object by calling [**CreateAsync**](https://msdn.microsoft.com/library/windows/apps/dn974151).</span></span> <span data-ttu-id="b72eb-144">Initialisieren Sie das gewünschte Timerintervall, und erstellen Sie dann den Timer.</span><span class="sxs-lookup"><span data-stu-id="b72eb-144">Initialize the desired timer interval and then create the timer.</span></span> <span data-ttu-id="b72eb-145">Immer wenn das angegebene Intervall verstrichen ist, wird die **ProcessCurrentVideoFrame**-Hilfsmethode aufgerufen.</span><span class="sxs-lookup"><span data-stu-id="b72eb-145">The **ProcessCurrentVideoFrame** helper method will be called every time the specified interval elapses.</span></span>

[!code-cs[TrackingInit](./code/FaceDetection_Win10/cs/MainPage.xaml.cs#SnippetTrackingInit)]

<span data-ttu-id="b72eb-146">Die **ProcessCurrentVideoFrame**-Hilfsmethode wird vom Timer asynchron aufgerufen. Deshalb ruft die Methode zunächst die **Wait**-Methode des Semaphors auf, um festzustellen, ob derzeit ein Verfolgungsvorgang ausgeführt wird. Wenn dies der Fall ist, wird die Methode beendet, ohne dass versucht wird, Gesichter zu erkennen.</span><span class="sxs-lookup"><span data-stu-id="b72eb-146">The **ProcessCurrentVideoFrame** helper is called asynchronously by the timer, so the method first calls the semaphore's **Wait** method to see if a tracking operation is ongoing, and if it is the method returns without trying to detect faces.</span></span> <span data-ttu-id="b72eb-147">Am Ende dieser Methode wird die **Release**-Methode des Semaphors aufgerufen, sodass mit dem nachfolgenden Aufruf von **ProcessCurrentVideoFrame** fortgefahren werden kann.</span><span class="sxs-lookup"><span data-stu-id="b72eb-147">At the end of this method, the semaphore's **Release** method is called, which allows the subsequent call to **ProcessCurrentVideoFrame** to continue.</span></span>

<span data-ttu-id="b72eb-148">Die [**FaceTracker**](https://msdn.microsoft.com/library/windows/apps/dn974150) Klasse arbeitet mit [**VideoFrame**](https://msdn.microsoft.com/library/windows/apps/dn930917)-Objekten.</span><span class="sxs-lookup"><span data-stu-id="b72eb-148">The [**FaceTracker**](https://msdn.microsoft.com/library/windows/apps/dn974150) class operates on [**VideoFrame**](https://msdn.microsoft.com/library/windows/apps/dn930917) objects.</span></span> <span data-ttu-id="b72eb-149">Es gibt mehrere Möglichkeiten, ein **VideoFrame** zu erhalten, z. B. durch Aufzeichnen eines Vorschauframes aus einem derzeit ausgeführten [MediaCapture](capture-photos-and-video-with-mediacapture.md)-Objekt oder durch Implementieren der [**ProcessFrame**](https://msdn.microsoft.com/library/windows/apps/dn764784)-Methode von [**IBasicVideoEffect**](https://msdn.microsoft.com/library/windows/apps/dn764788).</span><span class="sxs-lookup"><span data-stu-id="b72eb-149">There are multiple ways you can obtain a **VideoFrame** including capturing a preview frame from a running [MediaCapture](capture-photos-and-video-with-mediacapture.md) object or by implementing the [**ProcessFrame**](https://msdn.microsoft.com/library/windows/apps/dn764784) method of the [**IBasicVideoEffect**](https://msdn.microsoft.com/library/windows/apps/dn764788).</span></span> <span data-ttu-id="b72eb-150">In diesem Beispiel wird die nicht definierte Hilfsmethode **GetLatestFrame**, die einen Videoframe zurückgibt, als Platzhalter für diesen Vorgang verwendet.</span><span class="sxs-lookup"><span data-stu-id="b72eb-150">This example uses an undefined helper method that returns a video frame, **GetLatestFrame**, as a placeholder for this operation.</span></span> <span data-ttu-id="b72eb-151">Informationen zum Abrufen von Videoframes aus dem Vorschaudatenstrom eines derzeit ausgeführten Medienaufnahmegeräts finden Sie unter [Abrufen eines Vorschauframes](get-a-preview-frame.md).</span><span class="sxs-lookup"><span data-stu-id="b72eb-151">For information about getting video frames from the preview stream of a running media capture device, see [Get a preview frame](get-a-preview-frame.md).</span></span>

<span data-ttu-id="b72eb-152">**FaceDetector** unterstützt wie **FaceTracker** eine begrenzte Anzahl von Pixelformaten.</span><span class="sxs-lookup"><span data-stu-id="b72eb-152">As with **FaceDetector**, the **FaceTracker** supports a limited set of pixel formats.</span></span> <span data-ttu-id="b72eb-153">In diesem Beispiel wird die Gesichtserkennung abgebrochen, wenn der bereitgestellte Frame nicht das Format Nv12 aufweist.</span><span class="sxs-lookup"><span data-stu-id="b72eb-153">This example abandons face detection if the supplied frame is not in the Nv12 format.</span></span>

<span data-ttu-id="b72eb-154">Rufen Sie [**ProcessNextFrameAsync**](https://msdn.microsoft.com/library/windows/apps/dn974157) auf, um eine Liste von [**DetectedFace**](https://msdn.microsoft.com/library/windows/apps/dn974123)-Objekten, die die Gesichter im Frame darstellen, abzurufen.</span><span class="sxs-lookup"><span data-stu-id="b72eb-154">Call [**ProcessNextFrameAsync**](https://msdn.microsoft.com/library/windows/apps/dn974157) to retrieve a list of [**DetectedFace**](https://msdn.microsoft.com/library/windows/apps/dn974123) objects representing the faces in the frame.</span></span> <span data-ttu-id="b72eb-155">Sobald Sie über die Liste der Gesichter verfügen, können Sie sie (auf die gleiche Weise wie weiter oben für die Gesichtserkennung beschrieben) anzeigen.</span><span class="sxs-lookup"><span data-stu-id="b72eb-155">After you have the list of faces, you can display them in the same manner described above for face detection.</span></span> <span data-ttu-id="b72eb-156">Beachten Sie, dass alle UI-Aktualisierungen in einem Aufruf von [**CoredDispatcher.RunAsync**](https://msdn.microsoft.com/library/windows/apps/hh750317) erfolgen müssen, da die Hilfsmethode für die Gesichtsverfolgung nicht im UI-Thread aufgerufen wird.</span><span class="sxs-lookup"><span data-stu-id="b72eb-156">Note that, because the face tracking helper method is not called on the UI thread, you must make any UI updates in within a call [**CoredDispatcher.RunAsync**](https://msdn.microsoft.com/library/windows/apps/hh750317).</span></span>

[!code-cs[ProcessCurrentVideoFrame](./code/FaceDetection_Win10/cs/MainPage.xaml.cs#SnippetProcessCurrentVideoFrame)]

## <a name="related-topics"></a><span data-ttu-id="b72eb-157">Verwandte Themen</span><span class="sxs-lookup"><span data-stu-id="b72eb-157">Related topics</span></span>

* [<span data-ttu-id="b72eb-158">Szenenanalyse für die Medienaufnahme</span><span class="sxs-lookup"><span data-stu-id="b72eb-158">Scene analysis for media capture</span></span>](scene-analysis-for-media-capture.md)
* [<span data-ttu-id="b72eb-159">Beispiel „Basic Face Detection“</span><span class="sxs-lookup"><span data-stu-id="b72eb-159">Basic Face Detection sample</span></span>](http://go.microsoft.com/fwlink/p/?LinkId=620512&clcid=0x409)
* [<span data-ttu-id="b72eb-160">Beispiel „Basic Face Tracking“</span><span class="sxs-lookup"><span data-stu-id="b72eb-160">Basic Face Tracking sample</span></span>](http://go.microsoft.com/fwlink/p/?LinkId=620513&clcid=0x409)
* [<span data-ttu-id="b72eb-161">Kamera</span><span class="sxs-lookup"><span data-stu-id="b72eb-161">Camera</span></span>](camera.md)
* [<span data-ttu-id="b72eb-162">Allgemeine Foto-, Video- und Audioaufnahme mit „MediaCapture“</span><span class="sxs-lookup"><span data-stu-id="b72eb-162">Basic photo, video, and audio capture with MediaCapture</span></span>](basic-photo-video-and-audio-capture-with-MediaCapture.md)
* [<span data-ttu-id="b72eb-163">Medienwiedergabe</span><span class="sxs-lookup"><span data-stu-id="b72eb-163">Media playback</span></span>](media-playback.md)
