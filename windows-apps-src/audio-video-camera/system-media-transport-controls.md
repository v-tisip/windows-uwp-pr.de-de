---
author: drewbatgit
ms.assetid: EFCF84D0-2F4C-454D-97DA-249E9EAA806C
description: Mit der SystemMediaTransportControls-Klasse kann Ihre App die Steuerelemente für den Systemmedientransport verwenden, die in Windows integriert sind, und die Metadaten aktualisieren, die die Steuerelemente zu den von der App aktuell wiedergegebenen Medien anzeigen.
title: Manuelle Steuerung der Steuerelemente für den Systemmedientransport
ms.author: drewbat
ms.date: 02/08/2017
ms.topic: article
keywords: Windows 10, UWP
ms.localizationpriority: medium
ms.openlocfilehash: b0ece9a25a2fd2892553d66847c39637e7faae70
ms.sourcegitcommit: 3257416aebb5a7b1515e107866806f8bd57845a8
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 11/16/2018
ms.locfileid: "7145975"
---
# <a name="manual-control-of-the-system-media-transport-controls"></a><span data-ttu-id="91223-104">Manuelle Steuerung der Steuerelemente für den Systemmedientransport</span><span class="sxs-lookup"><span data-stu-id="91223-104">Manual control of the System Media Transport Controls</span></span>


<span data-ttu-id="91223-105">Ab Windows10, Version1607, werden UWP-Apps, welche die [**MediaPlayer**](https://msdn.microsoft.com/library/windows/apps/Windows.Media.Playback.MediaPlayer)-Klasse für die Medienwiedergabe verwenden, standardmäßig und automatisch in die Steuerelemente für den Systemmedientransport (System Media Transport Controls, SMTC) integriert.</span><span class="sxs-lookup"><span data-stu-id="91223-105">Starting with Windows 10, version 1607, UWP apps that use the [**MediaPlayer**](https://msdn.microsoft.com/library/windows/apps/Windows.Media.Playback.MediaPlayer) class to play media are automatically integrated with the System Media Transport Controls (SMTC) by default.</span></span> <span data-ttu-id="91223-106">Dies ist für die meisten Szenarien die empfohlene Methode für die Interaktion mit den SMTC.</span><span class="sxs-lookup"><span data-stu-id="91223-106">This is the recommended way of interacting with the SMTC for most scenarios.</span></span> <span data-ttu-id="91223-107">Weitere Informationen zum Anpassen der standardmäßigen SMTC-Integration mit **MediaPlayer** finden Sie unter [Integration in die Steuerelemente für den Systemmedientransport](integrate-with-systemmediatransportcontrols.md).</span><span class="sxs-lookup"><span data-stu-id="91223-107">For more information on customizing the SMTC's default integration with **MediaPlayer**, see [Integrate with the System Media Transport Controls](integrate-with-systemmediatransportcontrols.md).</span></span>

<span data-ttu-id="91223-108">In verschiedenen Szenarien müssen Sie eine manuelle Steuerung der SMTC implementieren.</span><span class="sxs-lookup"><span data-stu-id="91223-108">There are a few scenarios where you may need to implement manual control of the SMTC.</span></span> <span data-ttu-id="91223-109">Hierzu gehört die Verwendung einer [**MediaTimelineController**](https://msdn.microsoft.com/library/windows/apps/Windows.Media.MediaTimelineController)-Klasse zum Steuern der Wiedergabe eines oder mehrerer Medienplayer.</span><span class="sxs-lookup"><span data-stu-id="91223-109">These include if you are using a [**MediaTimelineController**](https://msdn.microsoft.com/library/windows/apps/Windows.Media.MediaTimelineController) to control playback of one or more media players.</span></span> <span data-ttu-id="91223-110">Ein anderes Szenario ist die Verwendung mehrerer Medienplayer mit nur einer Instanz der SMTC für Ihre App.</span><span class="sxs-lookup"><span data-stu-id="91223-110">Or if you are using multiple media players and only want to have one instance of SMTC for your app.</span></span> <span data-ttu-id="91223-111">Bei der Medienwiedergabe mithilfe der [**MediaElement**](https://msdn.microsoft.com/library/windows/apps/Windows.UI.Xaml.Controls.MediaElement)-Klasse müssen Sie die SMTC manuell steuern.</span><span class="sxs-lookup"><span data-stu-id="91223-111">You must manually control the SMTC if you are using [**MediaElement**](https://msdn.microsoft.com/library/windows/apps/Windows.UI.Xaml.Controls.MediaElement) to play media.</span></span>

## <a name="set-up-transport-controls"></a><span data-ttu-id="91223-112">Einrichten von Transportsteuerelementen</span><span class="sxs-lookup"><span data-stu-id="91223-112">Set up transport controls</span></span>
<span data-ttu-id="91223-113">Wenn Sie für die Medienwiedergabe **MediaPlayer** verwenden, können Sie eine Instanz der [**SystemMediaTransportControls**](https://msdn.microsoft.com/library/windows/apps/Windows.Media.SystemMediaTransportControls)-Klasse abrufen, indem Sie auf die [**MediaPlayer.SystemMediaTransportControls**](https://msdn.microsoft.com/library/windows/apps/Windows.Media.Playback.MediaPlayer.SystemMediaTransportControls)-Eigenschaft zugreifen.</span><span class="sxs-lookup"><span data-stu-id="91223-113">If you are using **MediaPlayer** to play media, you can get an instance of the [**SystemMediaTransportControls**](https://msdn.microsoft.com/library/windows/apps/Windows.Media.SystemMediaTransportControls) class by accessing the [**MediaPlayer.SystemMediaTransportControls**](https://msdn.microsoft.com/library/windows/apps/Windows.Media.Playback.MediaPlayer.SystemMediaTransportControls) property.</span></span> <span data-ttu-id="91223-114">Wenn Sie die SMTC manuell steuern möchten, sollten Sie die automatische Integration von **MediaPlayer** deaktivieren, indem Sie die [**CommandManager.IsEnabled**](https://msdn.microsoft.com/library/windows/apps/Windows.Media.Playback.MediaPlaybackCommandManager.IsEnabled)-Eigenschaft auf „false“ festlegen.</span><span class="sxs-lookup"><span data-stu-id="91223-114">If you are going to manually control the SMTC, you should disable the automatic integration provided by **MediaPlayer** by setting the [**CommandManager.IsEnabled**](https://msdn.microsoft.com/library/windows/apps/Windows.Media.Playback.MediaPlaybackCommandManager.IsEnabled) property to false.</span></span>

> [!NOTE] 
> <span data-ttu-id="91223-115">Wenn Sie [**MediaPlaybackCommandManager**](https://msdn.microsoft.com/library/windows/apps/Windows.Media.Playback.MediaPlaybackCommandManager) für [**MediaPlayer**](https://msdn.microsoft.com/library/windows/apps/Windows.Media.Playback.MediaPlayer) deaktivieren, indem Sie [**IsEnabled**](https://msdn.microsoft.com/library/windows/apps/Windows.Media.Playback.MediaPlaybackCommandManager.IsEnabled) auf „false“ festlegen, wird die von **MediaPlayerElement** bereitgestellte Verknüpfung zwischen **MediaPlayer** und [**TransportControls**](https://msdn.microsoft.com/library/windows/apps/Windows.UI.Xaml.Controls.MediaPlayerElement.TransportControls) getrennt, sodass die integrierten Transportsteuerelemente nicht mehr automatisch die Wiedergabe des Players steuern.</span><span class="sxs-lookup"><span data-stu-id="91223-115">If you disable the [**MediaPlaybackCommandManager**](https://msdn.microsoft.com/library/windows/apps/Windows.Media.Playback.MediaPlaybackCommandManager) of the [**MediaPlayer**](https://msdn.microsoft.com/library/windows/apps/Windows.Media.Playback.MediaPlayer) by setting [**IsEnabled**](https://msdn.microsoft.com/library/windows/apps/Windows.Media.Playback.MediaPlaybackCommandManager.IsEnabled) to false, it will break the link between the **MediaPlayer** the [**TransportControls**](https://msdn.microsoft.com/library/windows/apps/Windows.UI.Xaml.Controls.MediaPlayerElement.TransportControls) provided by the **MediaPlayerElement**, so the built-in transport controls will no longer automatically control the playback of the player.</span></span> <span data-ttu-id="91223-116">Stattdessen müssen Sie Ihre eigenen Steuerelemente zum Steuern des **MediaPlayers** implementieren.</span><span class="sxs-lookup"><span data-stu-id="91223-116">Instead, you must implement your own controls to control the **MediaPlayer**.</span></span>

[!code-cs[InitSMTCMediaPlayer](./code/SMTCWin10/cs/MainPage.xaml.cs#SnippetInitSMTCMediaPlayer)]

<span data-ttu-id="91223-117">Sie können auch eine Instanz der [**SystemMediaTransportControls**](https://msdn.microsoft.com/library/windows/apps/dn278677)-Klasse abrufen, indem Sie [**GetForCurrentView**](https://msdn.microsoft.com/library/windows/apps/dn278708) aufrufen.</span><span class="sxs-lookup"><span data-stu-id="91223-117">You can also get an instance of the [**SystemMediaTransportControls**](https://msdn.microsoft.com/library/windows/apps/dn278677) by calling [**GetForCurrentView**](https://msdn.microsoft.com/library/windows/apps/dn278708).</span></span> <span data-ttu-id="91223-118">Sie müssen das Objekt mit dieser Methode abrufen, wenn Sie für die Medienwiedergabe **MediaElement** verwenden.</span><span class="sxs-lookup"><span data-stu-id="91223-118">You must get the object with this method if you are using **MediaElement** to play media.</span></span>

[!code-cs[InitSMTCMediaElement](./code/SMTCWin10/cs/MainPage.xaml.cs#SnippetInitSMTCMediaElement)]

<span data-ttu-id="91223-119">Legen Sie zum Aktivieren der von Ihrer App verwendeten Schaltflächen die entsprechende „IsEnabled“-Eigenschaft des **SystemMediaTransportControls**-Objekts fest, z.B. [**IsPlayEnabled**](https://msdn.microsoft.com/library/windows/apps/dn278714), [**IsPauseEnabled**](https://msdn.microsoft.com/library/windows/apps/dn278713), [**IsNextEnabled**](https://msdn.microsoft.com/library/windows/apps/dn278712) und [**IsPreviousEnabled**](https://msdn.microsoft.com/library/windows/apps/dn278715).</span><span class="sxs-lookup"><span data-stu-id="91223-119">Enable the buttons that your app will use by setting the corresponding "is enabled" property of the **SystemMediaTransportControls** object, such as [**IsPlayEnabled**](https://msdn.microsoft.com/library/windows/apps/dn278714), [**IsPauseEnabled**](https://msdn.microsoft.com/library/windows/apps/dn278713), [**IsNextEnabled**](https://msdn.microsoft.com/library/windows/apps/dn278712), and [**IsPreviousEnabled**](https://msdn.microsoft.com/library/windows/apps/dn278715).</span></span> <span data-ttu-id="91223-120">Eine vollständige Liste der verfügbaren Steuerelemente finden Sie in der Referenzdokumentation zu **SystemMediaTransportControls**.</span><span class="sxs-lookup"><span data-stu-id="91223-120">See the **SystemMediaTransportControls** reference documentation for a complete list of available controls.</span></span>

[!code-cs[EnableContols](./code/SMTCWin10/cs/MainPage.xaml.cs#SnippetEnableContols)]

<span data-ttu-id="91223-121">Registrieren Sie einen Handler für das [**ButtonPressed**](https://msdn.microsoft.com/library/windows/apps/dn278706)-Ereignis, um Benachrichtigungen zu empfangen, wenn der Benutzer eine Schaltfläche betätigt.</span><span class="sxs-lookup"><span data-stu-id="91223-121">Register a handler for the [**ButtonPressed**](https://msdn.microsoft.com/library/windows/apps/dn278706) event to receive notifications when the user presses a button.</span></span>

[!code-cs[RegisterButtonPressed](./code/SMTCWin10/cs/MainPage.xaml.cs#SnippetRegisterButtonPressed)]

## <a name="handle-system-media-transport-controls-button-presses"></a><span data-ttu-id="91223-122">Behandeln von Klicks auf Schaltflächen von Systemmedientransport-Steuerelementen</span><span class="sxs-lookup"><span data-stu-id="91223-122">Handle system media transport controls button presses</span></span>

<span data-ttu-id="91223-123">Das [**ButtonPressed**](https://msdn.microsoft.com/library/windows/apps/dn278706)-Ereignis wird von den Systemsteuerelementen für den Medientransport ausgelöst, wenn eine der aktivierten Schaltflächen betätigt wird.</span><span class="sxs-lookup"><span data-stu-id="91223-123">The [**ButtonPressed**](https://msdn.microsoft.com/library/windows/apps/dn278706) event is raised by the system transport controls when one of the enabled buttons is pressed.</span></span> <span data-ttu-id="91223-124">Die an den Ereignishandler übergebene [**Button**](https://msdn.microsoft.com/library/windows/apps/dn278685)-Eigenschaft der [**SystemMediaTransportControlsButtonPressedEventArgs**](https://msdn.microsoft.com/library/windows/apps/dn278683)-Klasse ist ein Element der [**SystemMediaTransportControlsButton**](https://msdn.microsoft.com/library/windows/apps/dn278681)-Enumeration, die angibt, welche der aktivierten Schaltflächen betätigt wurde.</span><span class="sxs-lookup"><span data-stu-id="91223-124">The [**Button**](https://msdn.microsoft.com/library/windows/apps/dn278685) property of the [**SystemMediaTransportControlsButtonPressedEventArgs**](https://msdn.microsoft.com/library/windows/apps/dn278683) passed into the event handler is a member of the [**SystemMediaTransportControlsButton**](https://msdn.microsoft.com/library/windows/apps/dn278681) enumeration that indicates which of the enabled buttons was pressed.</span></span>

<span data-ttu-id="91223-125">Zum Aktualisieren von Objekten im UI-Thread des [**ButtonPressed**](https://msdn.microsoft.com/library/windows/apps/dn278706)-Ereignishandlers (z.B. ein [**MediaElement**](https://msdn.microsoft.com/library/windows/apps/br242926)-Objekt) müssen Sie die Aufrufe über den [**CoreDispatcher**](https://msdn.microsoft.com/library/windows/apps/br208211) marshallen.</span><span class="sxs-lookup"><span data-stu-id="91223-125">In order to update objects on the UI thread from the [**ButtonPressed**](https://msdn.microsoft.com/library/windows/apps/dn278706) event handler, such as a [**MediaElement**](https://msdn.microsoft.com/library/windows/apps/br242926) object, you must marshal the calls through the [**CoreDispatcher**](https://msdn.microsoft.com/library/windows/apps/br208211).</span></span> <span data-ttu-id="91223-126">Der Grund hierfür ist, dass der **ButtonPressed**-Ereignishandler nicht vom Benutzeroberflächenthread aufgerufen wird und daher eine Ausnahme ausgelöst wird, wenn Sie versuchen, die Benutzeroberfläche direkt zu ändern.</span><span class="sxs-lookup"><span data-stu-id="91223-126">This is because the **ButtonPressed** event handler is not called from the UI thread and therefore an exception will be thrown if you attempt to modify the UI directly.</span></span>

[!code-cs[SystemMediaTransportControlsButtonPressed](./code/SMTCWin10/cs/MainPage.xaml.cs#SnippetSystemMediaTransportControlsButtonPressed)]

## <a name="update-the-system-media-transport-controls-with-the-current-media-status"></a><span data-ttu-id="91223-127">Aktualisieren der Steuerelemente für den Systemmedientransport mit dem aktuellen Medienstatus</span><span class="sxs-lookup"><span data-stu-id="91223-127">Update the system media transport controls with the current media status</span></span>

<span data-ttu-id="91223-128">Melden Sie der [**SystemMediaTransportControls**](https://msdn.microsoft.com/library/windows/apps/dn278677)-Klasse eine Änderung des Medienstatus, damit das System die Steuerelemente entsprechend dem aktuellen Zustand aktualisieren kann.</span><span class="sxs-lookup"><span data-stu-id="91223-128">You should notify the [**SystemMediaTransportControls**](https://msdn.microsoft.com/library/windows/apps/dn278677) when the state of the media has changed so that the system can update the controls to reflect the current state.</span></span> <span data-ttu-id="91223-129">Legen Sie dazu die [**PlaybackStatus**](https://msdn.microsoft.com/library/windows/apps/dn278719)-Eigenschaft auf den entsprechenden [**MediaPlaybackStatus**](https://msdn.microsoft.com/library/windows/apps/dn278665)-Wert innerhalb des [**CurrentStateChanged**](https://msdn.microsoft.com/library/windows/apps/br227375)-Ereignisses der [**MediaElement**](https://msdn.microsoft.com/library/windows/apps/br242926)-Klasse fest, die bei Änderungen des Medienstatus ausgelöst wird.</span><span class="sxs-lookup"><span data-stu-id="91223-129">To do this, set the [**PlaybackStatus**](https://msdn.microsoft.com/library/windows/apps/dn278719) property to the appropriate [**MediaPlaybackStatus**](https://msdn.microsoft.com/library/windows/apps/dn278665) value from within the [**CurrentStateChanged**](https://msdn.microsoft.com/library/windows/apps/br227375) event of the [**MediaElement**](https://msdn.microsoft.com/library/windows/apps/br242926), which is raised when the media state changes.</span></span>

[!code-cs[SystemMediaTransportControlsStateChange](./code/SMTCWin10/cs/MainPage.xaml.cs#SnippetSystemMediaTransportControlsStateChange)]

## <a name="update-the-system-media-transport-controls-with-media-info-and-thumbnails"></a><span data-ttu-id="91223-130">Aktualisieren der Steuerelemente für den Systemmedientransport mit Medieninformationen und Miniaturansichten</span><span class="sxs-lookup"><span data-stu-id="91223-130">Update the system media transport controls with media info and thumbnails</span></span>

<span data-ttu-id="91223-131">Verwenden Sie die [**SystemMediaTransportControlsDisplayUpdater**](https://msdn.microsoft.com/library/windows/apps/dn278686)-Klasse, um die von den Transportsteuerelementen angezeigten Medieninfos (z.B. den Songtitel oder das Albumbild) für das aktuell wiedergegebene Medienelement zu aktualisieren.</span><span class="sxs-lookup"><span data-stu-id="91223-131">Use the [**SystemMediaTransportControlsDisplayUpdater**](https://msdn.microsoft.com/library/windows/apps/dn278686) class to update the media info that is displayed by the transport controls, such as the song title or the album art for the currently playing media item.</span></span> <span data-ttu-id="91223-132">Rufen Sie eine Instanz dieser Klasse mit der [**SystemMediaTransportControls.DisplayUpdater**](https://msdn.microsoft.com/library/windows/apps/dn278707)-Eigenschaft ab.</span><span class="sxs-lookup"><span data-stu-id="91223-132">Get an instance of this class with the [**SystemMediaTransportControls.DisplayUpdater**](https://msdn.microsoft.com/library/windows/apps/dn278707) property.</span></span> <span data-ttu-id="91223-133">Für gewöhnliche Szenarien wird empfohlen, die Metadaten mit dem Aufruf der [**CopyFromFileAsync**](https://msdn.microsoft.com/library/windows/apps/dn278694)-Methode und in der aktuell wiedergegebenen Mediendatei zu übergeben.</span><span class="sxs-lookup"><span data-stu-id="91223-133">For typical scenarios, the recommended way to pass the metadata is to call [**CopyFromFileAsync**](https://msdn.microsoft.com/library/windows/apps/dn278694), passing in the currently playing media file.</span></span> <span data-ttu-id="91223-134">Die Anzeigeaktualisierung wird die Metadaten und das Miniaturbild automatisch aus der Datei extrahieren.</span><span class="sxs-lookup"><span data-stu-id="91223-134">The display updater will automatically extract the metadata and thumbnail image from the file.</span></span>

<span data-ttu-id="91223-135">Rufen Sie die [**Update**](https://msdn.microsoft.com/library/windows/apps/dn278701)-Methode auf, damit die Benutzeroberflächen der Steuerelemente für den Systemmedientransport mit den neuen Metadaten und der Miniaturansicht aktualisiert werden.</span><span class="sxs-lookup"><span data-stu-id="91223-135">Call the [**Update**](https://msdn.microsoft.com/library/windows/apps/dn278701) to cause the system media transport controls to update its UI with the new metadata and thumbnail.</span></span>

[!code-cs[SystemMediaTransportControlsUpdater](./code/SMTCWin10/cs/MainPage.xaml.cs#SnippetSystemMediaTransportControlsUpdater)]

<span data-ttu-id="91223-136">Wenn es Ihr Szenario erfordert, können Sie die von den Steuerelementen für den Systemmedientransport angezeigten Metadaten manuell aktualisieren, indem Sie die Werte der [**MusicProperties**](https://msdn.microsoft.com/library/windows/apps/dn278696)-, [**ImageProperties**](https://msdn.microsoft.com/library/windows/apps/dn278695)- oder [**VideoProperties**](https://msdn.microsoft.com/library/windows/apps/dn278702)-Objekte festlegen, die von der [**DisplayUpdater**](https://msdn.microsoft.com/library/windows/apps/dn278707)-Klasse zur Verfügung gestellt werden.</span><span class="sxs-lookup"><span data-stu-id="91223-136">If your scenario requires it, you can update the metadata displayed by the system media transport controls manually by setting the values of the [**MusicProperties**](https://msdn.microsoft.com/library/windows/apps/dn278696), [**ImageProperties**](https://msdn.microsoft.com/library/windows/apps/dn278695), or [**VideoProperties**](https://msdn.microsoft.com/library/windows/apps/dn278702) objects exposed by the [**DisplayUpdater**](https://msdn.microsoft.com/library/windows/apps/dn278707) class.</span></span>

[!code-cs[SystemMediaTransportControlsUpdaterManual](./code/SMTCWin10/cs/MainPage.xaml.cs#SystemMediaTransportControlsUpdaterManual)]

## <a name="update-the-system-media-transport-controls-timeline-properties"></a><span data-ttu-id="91223-137">Aktualisieren der Zeitskalaeigenschaften der Steuerelemente für den Systemmedientransport</span><span class="sxs-lookup"><span data-stu-id="91223-137">Update the system media transport controls timeline properties</span></span>

<span data-ttu-id="91223-138">Die Steuerelemente für den Systemmedientransport zeigen Informationen über die Zeitskala des aktuell wiedergegebenen Medienelements an, z.B. die aktuelle Wiedergabeposition, die Startzeit und die Endzeit des Medienelements.</span><span class="sxs-lookup"><span data-stu-id="91223-138">The system transport controls display information about the timeline of the currently playing media item, including the current playback position, the start time, and the end time of the media item.</span></span> <span data-ttu-id="91223-139">Erstellen Sie zum Aktualisieren der Zeitskalaeigenschaften der Steuerelemente für den Systemmedientransport ein neues [**SystemMediaTransportControlsTimelineProperties**](https://msdn.microsoft.com/library/windows/apps/mt218746)-Objekt.</span><span class="sxs-lookup"><span data-stu-id="91223-139">To update the system transport controls timeline properties, create a new [**SystemMediaTransportControlsTimelineProperties**](https://msdn.microsoft.com/library/windows/apps/mt218746) object.</span></span> <span data-ttu-id="91223-140">Legen Sie die Eigenschaften des Objekts so fest, dass sich der aktuelle Zustand des wiedergegebenen Medienelements widerspiegelt.</span><span class="sxs-lookup"><span data-stu-id="91223-140">Set the properties of the object to reflect the current state of the playing media item.</span></span> <span data-ttu-id="91223-141">Rufen Sie die [**SystemMediaTransportControls.UpdateTimelineProperties**](https://msdn.microsoft.com/library/windows/apps/mt218760)-Methode auf, damit die Zeitskala durch die Steuerelemente aktualisiert wird.</span><span class="sxs-lookup"><span data-stu-id="91223-141">Call [**SystemMediaTransportControls.UpdateTimelineProperties**](https://msdn.microsoft.com/library/windows/apps/mt218760) to cause the controls to update the timeline.</span></span>

[!code-cs[UpdateTimelineProperties](./code/SMTCWin10/cs/MainPage.xaml.cs#SnippetUpdateTimelineProperties)]

-   <span data-ttu-id="91223-142">Sie müssen einen Wert für die [**StartTime**](https://msdn.microsoft.com/library/windows/apps/mt218751)-, [**EndTime**](https://msdn.microsoft.com/library/windows/apps/mt218747)- und [**Position**](https://msdn.microsoft.com/library/windows/apps/mt218755)-Eigenschaften angeben, um eine Zeitskala für das wiedergegebene Element anzuzeigen.</span><span class="sxs-lookup"><span data-stu-id="91223-142">You must provide a value for the [**StartTime**](https://msdn.microsoft.com/library/windows/apps/mt218751), [**EndTime**](https://msdn.microsoft.com/library/windows/apps/mt218747) and [**Position**](https://msdn.microsoft.com/library/windows/apps/mt218755) in order for the system controls to display a timeline for your playing item.</span></span>

-   <span data-ttu-id="91223-143">[**MinSeekTime**](https://msdn.microsoft.com/library/windows/apps/mt218749) und [**MaxSeekTime**](https://msdn.microsoft.com/library/windows/apps/mt218748) ermöglichen Ihnen die Angabe des Bereichs innerhalb der Zeitskala, den die Benutzer durchsuchen können.</span><span class="sxs-lookup"><span data-stu-id="91223-143">[**MinSeekTime**](https://msdn.microsoft.com/library/windows/apps/mt218749) and [**MaxSeekTime**](https://msdn.microsoft.com/library/windows/apps/mt218748) allow you to specify the range within the timeline that the user can seek.</span></span> <span data-ttu-id="91223-144">Ein typisches Szenario hierfür ist es, den Anbietern Werbepausen in ihren Medien zu ermöglichen.</span><span class="sxs-lookup"><span data-stu-id="91223-144">A typical scenario for this is to allow content providers to include advertisement breaks in their media.</span></span>

    <span data-ttu-id="91223-145">Sie müssen die [**MinSeekTime**](https://msdn.microsoft.com/library/windows/apps/mt218749)- und [**MaxSeekTime**](https://msdn.microsoft.com/library/windows/apps/mt218748)-Eigenschaften festlegen, um [**PositionChangeRequest**](https://msdn.microsoft.com/library/windows/apps/mt218755) auszulösen.</span><span class="sxs-lookup"><span data-stu-id="91223-145">You must set [**MinSeekTime**](https://msdn.microsoft.com/library/windows/apps/mt218749) and [**MaxSeekTime**](https://msdn.microsoft.com/library/windows/apps/mt218748) in order for the [**PositionChangeRequest**](https://msdn.microsoft.com/library/windows/apps/mt218755) to be raised.</span></span>

-   <span data-ttu-id="91223-146">Es wird empfohlen, die Steuerelemente mit der Medienwiedergabe zu synchronisieren, indem diese Eigenschaften etwa alle fünf Sekunden während der Wiedergabe und bei Änderung des Wiedergabestatus aktualisiert werden, z. B. beim Anhalten der Wiedergabe oder bei der Suche nach einer neuen Wiedergabeposition.</span><span class="sxs-lookup"><span data-stu-id="91223-146">It is recommended that you keep the system controls in sync with your media playback by updating these properties approximately every 5 seconds during playback and again whenever the state of playback changes, such as pausing or seeking to a new position.</span></span>

## <a name="respond-to-player-property-changes"></a><span data-ttu-id="91223-147">Reaktion auf Änderungen der Playereigenschaften</span><span class="sxs-lookup"><span data-stu-id="91223-147">Respond to player property changes</span></span>

<span data-ttu-id="91223-148">Es gibt eine Reihe von Steuerelementeigenschaften für den Systemmedientransport, die sich auf den Zustand des Media Players selbst, und nicht auf den Zustand des wiedergegebenen Medienelements beziehen.</span><span class="sxs-lookup"><span data-stu-id="91223-148">There is a set of system transport controls properties that relate to the current state of the media player itself, rather than the state of the playing media item.</span></span> <span data-ttu-id="91223-149">Jede dieser Eigenschaften ist einem Ereignis zugeordnet, das ausgelöst wird, wenn der Benutzer das zugeordnete Steuerelement anpasst.</span><span class="sxs-lookup"><span data-stu-id="91223-149">Each of these properties is matched with an event that is raised when the user adjusts the associated control.</span></span> <span data-ttu-id="91223-150">Diese Eigenschaften und Ereignisse sind folgende:</span><span class="sxs-lookup"><span data-stu-id="91223-150">These properties and events include:</span></span>

| <span data-ttu-id="91223-151">Eigenschaft</span><span class="sxs-lookup"><span data-stu-id="91223-151">Property</span></span>                                                                  | <span data-ttu-id="91223-152">Ereignis</span><span class="sxs-lookup"><span data-stu-id="91223-152">Event</span></span>                                                                                                   |
|---------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------|
| [**<span data-ttu-id="91223-153">AutoRepeatMode</span><span class="sxs-lookup"><span data-stu-id="91223-153">AutoRepeatMode</span></span>**](https://msdn.microsoft.com/library/windows/apps/mt218753) | [**<span data-ttu-id="91223-154">AutoRepeatModeChangeRequested</span><span class="sxs-lookup"><span data-stu-id="91223-154">AutoRepeatModeChangeRequested</span></span>**](https://msdn.microsoft.com/library/windows/apps/mt218754) |
| [**<span data-ttu-id="91223-155">PlaybackRate</span><span class="sxs-lookup"><span data-stu-id="91223-155">PlaybackRate</span></span>**](https://msdn.microsoft.com/library/windows/apps/mt218756)     | [**<span data-ttu-id="91223-156">PlaybackRateChangeRequested</span><span class="sxs-lookup"><span data-stu-id="91223-156">PlaybackRateChangeRequested</span></span>**](https://msdn.microsoft.com/library/windows/apps/mt218757)     |
| [**<span data-ttu-id="91223-157">ShuffleEnabled</span><span class="sxs-lookup"><span data-stu-id="91223-157">ShuffleEnabled</span></span>**](https://msdn.microsoft.com/library/windows/apps/mt218758) | [**<span data-ttu-id="91223-158">ShuffleEnabledChangeRequested</span><span class="sxs-lookup"><span data-stu-id="91223-158">ShuffleEnabledChangeRequested</span></span>**](https://msdn.microsoft.com/library/windows/apps/mt218759) |

 
<span data-ttu-id="91223-159">Registrieren Sie zum Behandeln von Benutzerinteraktionen mit einem der folgenden Steuerelemente zunächst einen Handler für das zugeordnete Ereignis.</span><span class="sxs-lookup"><span data-stu-id="91223-159">To handle user interaction with one of these controls, first register a handler for the associated event.</span></span>

[!code-cs[RegisterPlaybackChangedHandler](./code/SMTCWin10/cs/MainPage.xaml.cs#SnippetRegisterPlaybackChangedHandler)]

<span data-ttu-id="91223-160">Stellen Sie im Handler für das Ereignis zunächst sicher, dass der angeforderte Wert innerhalb eines gültigen und erwarteten Bereichs liegt.</span><span class="sxs-lookup"><span data-stu-id="91223-160">In the handler for the event, first make sure that the requested value is within a valid and expected range.</span></span> <span data-ttu-id="91223-161">Wenn dies der Fall ist, legen Sie die entsprechende Eigenschaft für die [**MediaElement**](https://msdn.microsoft.com/library/windows/apps/br242926)-Klasse fest und anschließend die entsprechende Eigenschaft für das [**SystemMediaTransportControls**](https://msdn.microsoft.com/library/windows/apps/dn278677)-Objekt.</span><span class="sxs-lookup"><span data-stu-id="91223-161">If it is, set the corresponding property on [**MediaElement**](https://msdn.microsoft.com/library/windows/apps/br242926) and then set the corresponding property on the [**SystemMediaTransportControls**](https://msdn.microsoft.com/library/windows/apps/dn278677) object.</span></span>

[!code-cs[PlaybackChangedHandler](./code/SMTCWin10/cs/MainPage.xaml.cs#SnippetPlaybackChangedHandler)]

-   <span data-ttu-id="91223-162">Sie müssen einen Anfangswert für die Eigenschaft festlegen, damit eines dieser Ereignisse der Playereigenschaft ausgelöst wird.</span><span class="sxs-lookup"><span data-stu-id="91223-162">In order for one of these player property events to be raised, you must set an initial value for the property.</span></span> <span data-ttu-id="91223-163">[**PlaybackRateChangeRequested**](https://msdn.microsoft.com/library/windows/apps/mt218757) wird beispielsweise erst ausgelöst, wenn ein Wert für die [**PlaybackRate**](https://msdn.microsoft.com/library/windows/apps/mt218756)-Eigenschaft mindestens ein Mal festgelegt wurde.</span><span class="sxs-lookup"><span data-stu-id="91223-163">For example, [**PlaybackRateChangeRequested**](https://msdn.microsoft.com/library/windows/apps/mt218757) will not be raised until after you have set a value for the [**PlaybackRate**](https://msdn.microsoft.com/library/windows/apps/mt218756) property at least one time.</span></span>

## <a name="use-the-system-media-transport-controls-for-background-audio"></a><span data-ttu-id="91223-164">Verwenden der Steuerelemente für den Systemmedientransport für Audiowiedergabe im Hintergrund</span><span class="sxs-lookup"><span data-stu-id="91223-164">Use the system media transport controls for background audio</span></span>

<span data-ttu-id="91223-165">Wenn Sie die automatische SMTC-Integration von **MediaPlayer** nicht verwenden, müssen Sie die SMTC manuell integrieren, um Hintergrundaudio zu aktivieren.</span><span class="sxs-lookup"><span data-stu-id="91223-165">If you are not using the automatic SMTC integration provided by **MediaPlayer** you must manually integrate with the SMTC to enable background audio.</span></span> <span data-ttu-id="91223-166">Sie sollten für Ihre App mindestens die Schaltflächen „Wiedergeben“ und „Anhalten“ aktivieren, indem Sie [**IsPlayEnabled**](https://msdn.microsoft.com/library/windows/apps/dn278714) und [**IsPauseEnabled**](https://msdn.microsoft.com/library/windows/apps/dn278713) auf „true“ festlegen.</span><span class="sxs-lookup"><span data-stu-id="91223-166">At a minimum, your app must enable the play and pause buttons by setting [**IsPlayEnabled**](https://msdn.microsoft.com/library/windows/apps/dn278714) and [**IsPauseEnabled**](https://msdn.microsoft.com/library/windows/apps/dn278713) to true.</span></span> <span data-ttu-id="91223-167">Außerdem muss die App das [**ButtonPressed**](https://msdn.microsoft.com/library/windows/apps/dn278706)-Ereignis behandeln.</span><span class="sxs-lookup"><span data-stu-id="91223-167">Your app must also handle the [**ButtonPressed**](https://msdn.microsoft.com/library/windows/apps/dn278706) event.</span></span> <span data-ttu-id="91223-168">Wenn Ihre App diese Anforderungen nicht erfüllt, wird die Audiowiedergabe bei Verschieben der App in den Hintergrund beendet.</span><span class="sxs-lookup"><span data-stu-id="91223-168">If your app does not meet these requirements, audio playback will stop when your app moves to the background.</span></span>

<span data-ttu-id="91223-169">Apps, in denen das neue Einzelprozessmodell für Hintergrundaudio verwendet wird, sollten eine Instanz der [**SystemMediaTransportControls**](https://msdn.microsoft.com/library/windows/apps/dn278677)-Klasse abrufen, indem sie [**GetForCurrentView**](https://msdn.microsoft.com/library/windows/apps/dn278708) aufrufen.</span><span class="sxs-lookup"><span data-stu-id="91223-169">Apps that use the new one-process model for background audio should get an instance of the [**SystemMediaTransportControls**](https://msdn.microsoft.com/library/windows/apps/dn278677) by calling [**GetForCurrentView**](https://msdn.microsoft.com/library/windows/apps/dn278708).</span></span> <span data-ttu-id="91223-170">Apps, die das vorherige Modell mit zwei Prozessen für die Audiowiedergabe im Hintergrund verwenden, müssen [**BackgroundMediaPlayer.Current.SystemMediaTransportControls**](https://msdn.microsoft.com/library/windows/apps/dn926635) verwenden, um über den Hintergrundprozess Zugriff auf die SMTC zu erhalten.</span><span class="sxs-lookup"><span data-stu-id="91223-170">Apps that use the legacy two-process model for background audio must use [**BackgroundMediaPlayer.Current.SystemMediaTransportControls**](https://msdn.microsoft.com/library/windows/apps/dn926635) to get access to the SMTC from their background process.</span></span>

<span data-ttu-id="91223-171">Weitere Informationen zur Audiowiedergabe im Hintergrund finden Sie unter [Wiedergeben von Medien im Hintergrund](background-audio.md).</span><span class="sxs-lookup"><span data-stu-id="91223-171">For more information on playing audio in the background, see [Play media in the background](background-audio.md).</span></span>

## <a name="related-topics"></a><span data-ttu-id="91223-172">Verwandte Themen</span><span class="sxs-lookup"><span data-stu-id="91223-172">Related topics</span></span>
* [<span data-ttu-id="91223-173">Medienwiedergabe</span><span class="sxs-lookup"><span data-stu-id="91223-173">Media playback</span></span>](media-playback.md)
* [<span data-ttu-id="91223-174">Integration in die Steuerelemente für den Systemmedientransport</span><span class="sxs-lookup"><span data-stu-id="91223-174">Integrate with the System Media Transport Controls</span></span>](integrate-with-systemmediatransportcontrols.md) 
* [<span data-ttu-id="91223-175">Beispiel für den Systemmedientransport</span><span class="sxs-lookup"><span data-stu-id="91223-175">System Media Tranport sample</span></span>](https://github.com/Microsoft/Windows-universal-samples/tree/dev/Samples/SystemMediaTransportControls) 

 




