---
author: drewbatgit
ms.assetid: D20C8E01-4E78-4115-A2E8-07BB3E67DDDC
description: In diesem Artikel wird beschrieben, wie Sie auf die Taschenlampe eines Geräts zugreifen und diese verwenden, sofern vorhanden. Die Taschenlampenfunktion wird unabhängig von der Kamera des Geräts und der Blitzfunktion der Kamera verwaltet.
title: Kameraunabhängige Taschenlampe
ms.author: drewbat
ms.date: 02/08/2017
ms.topic: article
keywords: Windows10, UWP
ms.localizationpriority: medium
ms.openlocfilehash: 913faf70531509a604cde52bb71886c128edae46
ms.sourcegitcommit: 9f8010fe67bb3372db1840de9f0be36097ed6258
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 11/16/2018
ms.locfileid: "7104360"
---
# <a name="camera-independent-flashlight"></a><span data-ttu-id="8d5aa-105">Kameraunabhängige Taschenlampe</span><span class="sxs-lookup"><span data-stu-id="8d5aa-105">Camera-independent Flashlight</span></span>



<span data-ttu-id="8d5aa-106">In diesem Artikel wird beschrieben, wie Sie auf die Taschenlampe eines Geräts zugreifen und diese verwenden, sofern vorhanden.</span><span class="sxs-lookup"><span data-stu-id="8d5aa-106">This article shows how to access and use a device's lamp, if one is present.</span></span> <span data-ttu-id="8d5aa-107">Die Taschenlampenfunktion wird unabhängig von der Kamera des Geräts und der Blitzfunktion der Kamera verwaltet.</span><span class="sxs-lookup"><span data-stu-id="8d5aa-107">Lamp functionality is managed separately from the device's camera and camera flash functionality.</span></span> <span data-ttu-id="8d5aa-108">Neben dem Abrufen eines Verweises auf die Leuchte und dem Anpassen ihrer Einstellungen erfahren Sie in diesem Artikel auch, wie die Leuchtenressourcen korrekt freigegeben werden, wenn sie nicht verwendet wird. Außerdem wird beschrieben, wie Sie ermitteln können, wann sich die Verfügbarkeit der Leuchte ändert, falls sie von einer anderen App verwendet wird.</span><span class="sxs-lookup"><span data-stu-id="8d5aa-108">In addition to acquiring a reference to the lamp and adjusting its settings, this article also shows you how to properly free up the lamp resource when it's not in use, and how to detect when the lamp's availability changes in case it is being used by another app.</span></span>

## <a name="get-the-devices-default-lamp"></a><span data-ttu-id="8d5aa-109">Abrufen der Standardleuchte des Geräts</span><span class="sxs-lookup"><span data-stu-id="8d5aa-109">Get the device's default lamp</span></span>

<span data-ttu-id="8d5aa-110">Um die Standardleuchte des Geräts abzurufen, rufen Sie [**Lamp.GetDefaultAsync**](https://msdn.microsoft.com/library/windows/apps/dn894327) auf.</span><span class="sxs-lookup"><span data-stu-id="8d5aa-110">To get a device's default lamp device, call [**Lamp.GetDefaultAsync**](https://msdn.microsoft.com/library/windows/apps/dn894327).</span></span> <span data-ttu-id="8d5aa-111">Die Leuchten-APIs sind im [**Windows.Devices.Lights**](https://msdn.microsoft.com/library/windows/apps/dn894331)-Namespace zu finden.</span><span class="sxs-lookup"><span data-stu-id="8d5aa-111">The lamp APIs are found in the [**Windows.Devices.Lights**](https://msdn.microsoft.com/library/windows/apps/dn894331) namespace.</span></span> <span data-ttu-id="8d5aa-112">Achten Sie darauf, dass Sie eine „using“-Direktive für diesen Namespace hinzufügen, bevor Sie versuchen, auf diese APIs zuzugreifen.</span><span class="sxs-lookup"><span data-stu-id="8d5aa-112">Be sure to add a using directive for this namespace before attempting to access these APIs.</span></span>

[!code-cs[LightsNamespace](./code/Lamp/cs/MainPage.xaml.cs#SnippetLightsNamespace)]


[!code-cs[DeclareLamp](./code/Lamp/cs/MainPage.xaml.cs#SnippetDeclareLamp)]


[!code-cs[GetDefaultLamp](./code/Lamp/cs/MainPage.xaml.cs#SnippetGetDefaultLamp)]

<span data-ttu-id="8d5aa-113">Wenn das zurückgegebene Objekt **null** ist, wird die **Lamp**-API auf dem Gerät nicht unterstützt.</span><span class="sxs-lookup"><span data-stu-id="8d5aa-113">If the returned object is **null**, the **Lamp** API is unsupported on the device.</span></span> <span data-ttu-id="8d5aa-114">Einige Geräte unterstützen möglicherweise die **Lamp**-API nicht, auch wenn auf dem Gerät tatsächlich eine Leuchte vorhanden ist.</span><span class="sxs-lookup"><span data-stu-id="8d5aa-114">Some devices may not support the **Lamp** API even if there is a lamp physically present on the device.</span></span>

## <a name="get-a-specific-lamp-using-the-lamp-selector-string"></a><span data-ttu-id="8d5aa-115">Abrufen einer bestimmten Leuchte mithilfe der Leuchtenauswahlzeichenfolge</span><span class="sxs-lookup"><span data-stu-id="8d5aa-115">Get a specific lamp using the lamp selector string</span></span>

<span data-ttu-id="8d5aa-116">Einige Geräte verfügen möglicherweise über mehrere Leuchten.</span><span class="sxs-lookup"><span data-stu-id="8d5aa-116">Some devices may have more than one lamp.</span></span> <span data-ttu-id="8d5aa-117">Um eine Liste der auf dem Gerät verfügbaren Leuchten zu erhalten, rufen Sie die Geräteauswahlzeichenfolge ab, indem Sie [**GetDeviceSelector**](https://msdn.microsoft.com/library/windows/apps/dn894328) aufrufen.</span><span class="sxs-lookup"><span data-stu-id="8d5aa-117">To obtain a list of lamps available on the device, get the device selector string by calling [**GetDeviceSelector**](https://msdn.microsoft.com/library/windows/apps/dn894328).</span></span> <span data-ttu-id="8d5aa-118">Diese Auswahlzeichenfolge kann dann an [**DeviceInformation.FindAllAsync**](https://msdn.microsoft.com/library/windows/apps/br225432) übergeben werden.</span><span class="sxs-lookup"><span data-stu-id="8d5aa-118">This selector string can then be passed into [**DeviceInformation.FindAllAsync**](https://msdn.microsoft.com/library/windows/apps/br225432).</span></span> <span data-ttu-id="8d5aa-119">Diese Methode wird verwendet, um viele verschiedene Arten von Geräten aufzulisten. Mit der Auswahlzeichenfolge kann die Methode angewiesen werden, dass nur Geräte mit Leuchten zurückgegeben werden sollen.</span><span class="sxs-lookup"><span data-stu-id="8d5aa-119">This method is used to enumerate many different kinds of devices and the selector string lets the method know to return only lamp devices.</span></span> <span data-ttu-id="8d5aa-120">Das von **FindAllAsync** zurückgegeben [**DeviceInformationCollection**](https://msdn.microsoft.com/library/windows/apps/br225395)-Objekt ist eine Sammlung von [**DeviceInformation**](https://msdn.microsoft.com/library/windows/apps/br225393)-Objekten, die die auf dem Gerät verfügbaren Leuchten darstellen.</span><span class="sxs-lookup"><span data-stu-id="8d5aa-120">The [**DeviceInformationCollection**](https://msdn.microsoft.com/library/windows/apps/br225395) object returned from **FindAllAsync** is a collection of [**DeviceInformation**](https://msdn.microsoft.com/library/windows/apps/br225393) objects representing the lamps available on the device.</span></span> <span data-ttu-id="8d5aa-121">Wählen Sie eines der Objekte in der Liste aus, und übergeben Sie dann die [**Id**](https://msdn.microsoft.com/library/windows/apps/br225437)-Eigenschaft an [**Lamp.FromIdAsync**](https://msdn.microsoft.com/library/windows/apps/dn894326), um einen Verweis auf die angeforderte Leuchte abzurufen.</span><span class="sxs-lookup"><span data-stu-id="8d5aa-121">Select one of the objects in the list and then pass the [**Id**](https://msdn.microsoft.com/library/windows/apps/br225437) property to [**Lamp.FromIdAsync**](https://msdn.microsoft.com/library/windows/apps/dn894326) to get a reference to the requested lamp.</span></span> <span data-ttu-id="8d5aa-122">In diesem Beispiel wird die **GetFirstOrDefault**-Erweiterungsmethode aus dem **System.Linq**-Namespace zum Auswählen des **DeviceInformation**-Objekts verwendet, wobei die [**EnclosureLocation.Panel**](https://msdn.microsoft.com/library/windows/apps/br229906)-Eigenschaft den Wert **Back** aufweist. Dadurch wird eine Leuchte auf der Rückseite des Gerätegehäuses ausgewählt, sofern vorhanden.</span><span class="sxs-lookup"><span data-stu-id="8d5aa-122">This example uses the **GetFirstOrDefault** extension method from the **System.Linq** namespace to select the **DeviceInformation** object where the [**EnclosureLocation.Panel**](https://msdn.microsoft.com/library/windows/apps/br229906) property has a value of **Back**, which selects a lamp that is on the back of the device's enclosure, if one exists.</span></span>

<span data-ttu-id="8d5aa-123">Beachten Sie, dass sich die [**DeviceInformation**](https://msdn.microsoft.com/library/windows/apps/br225393)-APIs im [**Windows.Devices.Enumeration**](https://msdn.microsoft.com/library/windows/apps/br225459)-Namespace befinden.</span><span class="sxs-lookup"><span data-stu-id="8d5aa-123">Note that the [**DeviceInformation**](https://msdn.microsoft.com/library/windows/apps/br225393) APIs are found in the [**Windows.Devices.Enumeration**](https://msdn.microsoft.com/library/windows/apps/br225459) namespace.</span></span>

[!code-cs[EnumerationNamespace](./code/Lamp/cs/MainPage.xaml.cs#SnippetEnumerationNamespace)]

[!code-cs[GetLampWithSelectionString](./code/Lamp/cs/MainPage.xaml.cs#SnippetGetLampWithSelectionString)]

## <a name="adjust-lamp-settings"></a><span data-ttu-id="8d5aa-124">Anpassen der Leuchteneinstellungen</span><span class="sxs-lookup"><span data-stu-id="8d5aa-124">Adjust lamp settings</span></span>

<span data-ttu-id="8d5aa-125">Nachdem Sie über eine Instanz der [**Lamp**](https://msdn.microsoft.com/library/windows/apps/dn894310)-Klasse verfügen, aktivieren Sie die Leuchte, indem Sie die [**IsEnabled**](https://msdn.microsoft.com/library/windows/apps/dn894330)-Eigenschaft auf **true** setzen.</span><span class="sxs-lookup"><span data-stu-id="8d5aa-125">After you have an instance of the [**Lamp**](https://msdn.microsoft.com/library/windows/apps/dn894310) class, turn the lamp on by setting the [**IsEnabled**](https://msdn.microsoft.com/library/windows/apps/dn894330) property to **true**.</span></span>

[!code-cs[LampSettingsOn](./code/Lamp/cs/MainPage.xaml.cs#SnippetLampSettingsOn)]

<span data-ttu-id="8d5aa-126">Schalten Sie die Leuchte aus, indem Sie die [**IsEnabled**](https://msdn.microsoft.com/library/windows/apps/dn894330)-Eigenschaft auf **false** setzen.</span><span class="sxs-lookup"><span data-stu-id="8d5aa-126">Turn the lamp off by setting the [**IsEnabled**](https://msdn.microsoft.com/library/windows/apps/dn894330) property to **false**.</span></span>

[!code-cs[LampSettingsOff](./code/Lamp/cs/MainPage.xaml.cs#SnippetLampSettingsOff)]

<span data-ttu-id="8d5aa-127">Einige Geräte haben Leuchten, die Farbwerte unterstützen.</span><span class="sxs-lookup"><span data-stu-id="8d5aa-127">Some devices have lamps that support color values.</span></span> <span data-ttu-id="8d5aa-128">Überprüfen Sie, ob eine Leuchte Farben unterstützt, indem Sie die [**IsColorSettable**](https://msdn.microsoft.com/library/windows/apps/dn894329)-Eigenschaft überprüfen.</span><span class="sxs-lookup"><span data-stu-id="8d5aa-128">Check if a lamp supports color by checking the [**IsColorSettable**](https://msdn.microsoft.com/library/windows/apps/dn894329) property.</span></span> <span data-ttu-id="8d5aa-129">Wenn dieser Wert **true** ist, können Sie die Farbe der Leuchte mit der [**Color**](https://msdn.microsoft.com/library/windows/apps/dn894322)-Eigenschaft festlegen.</span><span class="sxs-lookup"><span data-stu-id="8d5aa-129">If this value is **true**, you can set the color of the lamp with the [**Color**](https://msdn.microsoft.com/library/windows/apps/dn894322) property.</span></span>

[!code-cs[LampSettingsColor](./code/Lamp/cs/MainPage.xaml.cs#SnippetLampSettingsColor)]

## <a name="register-to-be-notified-if-the-lamp-availability-changes"></a><span data-ttu-id="8d5aa-130">Registrierung für Benachrichtigung, wenn sich die Leuchtenverfügbarkeit ändert</span><span class="sxs-lookup"><span data-stu-id="8d5aa-130">Register to be notified if the lamp availability changes</span></span>

<span data-ttu-id="8d5aa-131">Zugriff auf die Leuchte wird der letzten App gewährt, die den Zugriff angefordert hat.</span><span class="sxs-lookup"><span data-stu-id="8d5aa-131">Lamp access is granted to the most recent app to request access.</span></span> <span data-ttu-id="8d5aa-132">Wenn also eine andere App gestartet wird, die eine Leuchtenressource anfordert, die Ihre App gerade verwendet, kann Ihre App die Leuchte erst wieder steuern, wenn die andere App die Ressource freigegeben hat.</span><span class="sxs-lookup"><span data-stu-id="8d5aa-132">So, if another app is launched and requests a lamp resource that your app is currently using, your app will no longer be able to control the lamp until the other app has released the resource.</span></span> <span data-ttu-id="8d5aa-133">Um eine Benachrichtigung zu erhalten, wenn sich die Verfügbarkeit der Leuchte ändert, registrieren Sie einen Handler für das [**Lamp.AvailabilityChanged**](https://msdn.microsoft.com/library/windows/apps/dn894317)-Ereignis.</span><span class="sxs-lookup"><span data-stu-id="8d5aa-133">To receive a notification when the availability of the lamp changes, register a handler for the [**Lamp.AvailabilityChanged**](https://msdn.microsoft.com/library/windows/apps/dn894317) event.</span></span>

[!code-cs[AvailabilityChanged](./code/Lamp/cs/MainPage.xaml.cs#SnippetAvailabilityChanged)]

<span data-ttu-id="8d5aa-134">Überprüfen Sie im Handler für das Ereignis, ob es sich bei der Eigenschaftenänderung, die das Ereignis ausgelöst hat, um die [**LampAvailabilityChanged.IsAvailable**](https://msdn.microsoft.com/library/windows/apps/dn894315)-Eigenschaft handelte.</span><span class="sxs-lookup"><span data-stu-id="8d5aa-134">In the handler for the event, check the [**LampAvailabilityChanged.IsAvailable**](https://msdn.microsoft.com/library/windows/apps/dn894315) property to determine if the lamp is available.</span></span> <span data-ttu-id="8d5aa-135">In diesem Beispiel wird ein Umschalter zum An- und Ausschalten der Leuchte je nach Verfügbarkeit der Leuchte aktiviert oder deaktiviert.</span><span class="sxs-lookup"><span data-stu-id="8d5aa-135">In this example, a toggle switch for turning the lamp on and off is enabled or disabled based on the lamp availability.</span></span>

[!code-cs[AvailabilityChangedHandler](./code/Lamp/cs/MainPage.xaml.cs#SnippetAvailabilityChangedHandler)]

## <a name="properly-dispose-of-the-lamp-resource-when-not-in-use"></a><span data-ttu-id="8d5aa-136">Ordnungsgemäßes Freigeben der Leuchtenressourcen, wenn diese nicht verwendet wird</span><span class="sxs-lookup"><span data-stu-id="8d5aa-136">Properly dispose of the lamp resource when not in use</span></span>

<span data-ttu-id="8d5aa-137">Wenn Sie die Leuchte nicht mehr verwenden, sollten Sie sie deaktivieren und [**Lamp.Close**](https://msdn.microsoft.com/library/windows/apps/dn894320) aufrufen, um die Ressource freizugeben und anderen Apps den Zugriff auf die Leuchte zu ermöglichen.</span><span class="sxs-lookup"><span data-stu-id="8d5aa-137">When you are no longer using the lamp, you should disable it and call [**Lamp.Close**](https://msdn.microsoft.com/library/windows/apps/dn894320) to release the resource and allow other apps to access the lamp.</span></span> <span data-ttu-id="8d5aa-138">Diese Eigenschaft ist der **Dispose**-Methode zugewiesen, wenn Sie C# verwenden.</span><span class="sxs-lookup"><span data-stu-id="8d5aa-138">This property is mapped to the **Dispose** method if you are using C#.</span></span> <span data-ttu-id="8d5aa-139">Wenn Sie sich für [**AvailabilityChanged**](https://msdn.microsoft.com/library/windows/apps/dn894317) registriert haben, sollten Sie die Registrierung des Handlers aufheben, wenn Sie die Leuchtenressource freigeben.</span><span class="sxs-lookup"><span data-stu-id="8d5aa-139">If you registered for the [**AvailabilityChanged**](https://msdn.microsoft.com/library/windows/apps/dn894317), you should unregister the handler when you dispose of the lamp resource.</span></span> <span data-ttu-id="8d5aa-140">Der richtige Stelle in Ihrem Code für das Freigeben der Leuchtenressource ist von Ihrer App abhängig.</span><span class="sxs-lookup"><span data-stu-id="8d5aa-140">The right place in your code to dispose of the lamp resource depends on your app.</span></span> <span data-ttu-id="8d5aa-141">Um den Leuchtenzugriff auf eine einzige Seite zu beschränken, geben Sie die Ressource im [**OnNavigatingFrom**](https://msdn.microsoft.com/library/windows/apps/br227509)-Ereignis frei.</span><span class="sxs-lookup"><span data-stu-id="8d5aa-141">To scope lamp access to a single page, release the resource in the [**OnNavigatingFrom**](https://msdn.microsoft.com/library/windows/apps/br227509) event.</span></span>

[!code-cs[DisposeLamp](./code/Lamp/cs/MainPage.xaml.cs#SnippetDisposeLamp)]

## <a name="related-topics"></a><span data-ttu-id="8d5aa-142">Verwandte Themen</span><span class="sxs-lookup"><span data-stu-id="8d5aa-142">Related topics</span></span>
- [<span data-ttu-id="8d5aa-143">Medienwiedergabe</span><span class="sxs-lookup"><span data-stu-id="8d5aa-143">Media playback</span></span>](media-playback.md)

 




