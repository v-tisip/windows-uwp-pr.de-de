---
author: drewbatgit
ms.assetid: CB924E17-C726-48E7-A445-364781F4CCA1
description: In diesem Artikel wird gezeigt, wie die APIs im Windows.Media.Audio-Namespace zum Erstellen von Audiodiagrammen für Audiorouting sowie Misch- und Verarbeitungsszenarien verwendet werden.
title: Audiodiagramme
ms.author: drewbat
ms.date: 02/08/2017
ms.topic: article
keywords: Windows10, UWP
ms.localizationpriority: medium
ms.openlocfilehash: cdd1548a4d120027afd06a178cc338c88cb5cc4b
ms.sourcegitcommit: ed0304b8a214c03b8aab74b8ef12c9f82b8e3c5f
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 11/19/2018
ms.locfileid: "7302042"
---
# <a name="audio-graphs"></a><span data-ttu-id="f5d66-104">Audiodiagramme</span><span class="sxs-lookup"><span data-stu-id="f5d66-104">Audio graphs</span></span>



<span data-ttu-id="f5d66-105">In diesem Artikel wird gezeigt, wie die APIs im [**Windows.Media.Audio**](https://msdn.microsoft.com/library/windows/apps/dn914341)-Namespace zum Erstellen von Audiodiagrammen für Audiorouting sowie Misch- und Verarbeitungsszenarien verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="f5d66-105">This article shows how to use the APIs in the [**Windows.Media.Audio**](https://msdn.microsoft.com/library/windows/apps/dn914341) namespace to create audio graphs for audio routing, mixing, and processing scenarios.</span></span>

<span data-ttu-id="f5d66-106">Ein *Audiodiagramm* ist ein Satz von miteinander verbundenen Audioknoten, über die Audiodaten fließen.</span><span class="sxs-lookup"><span data-stu-id="f5d66-106">An *audio graph* is a set of interconnected audio nodes through which audio data flows.</span></span> 

- <span data-ttu-id="f5d66-107">*Audioeingabeknoten* liefern dem Diagramm Audiodaten von Audioeingangsgeräten, Audiodateien oder aus benutzerdefiniertem Code.</span><span class="sxs-lookup"><span data-stu-id="f5d66-107">*Audio input nodes* supply audio data to the graph from audio input devices, audio files, or from custom code.</span></span> 

- <span data-ttu-id="f5d66-108">*Audioausgabeknoten* sind das Ziel von Audiodaten, die vom Diagramm verarbeitet wurden.</span><span class="sxs-lookup"><span data-stu-id="f5d66-108">*Audio output nodes* are the destination for audio processed by the graph.</span></span> <span data-ttu-id="f5d66-109">Audiodaten können außerhalb des Diagramms an Audioausgabegeräte, Audiodateien oder benutzerdefinierten Code weitergeleitet werden.</span><span class="sxs-lookup"><span data-stu-id="f5d66-109">Audio can be routed out of the graph to audio output devices, audio files, or custom code.</span></span> 

- <span data-ttu-id="f5d66-110">*Submixknoten* kombinieren Audiodaten von mindestens einem Knoten in einer einzigen Ausgabe, die an andere Knoten in dem Diagramm weitergeleitet werden kann.</span><span class="sxs-lookup"><span data-stu-id="f5d66-110">*Submix nodes* take audio from one or more nodes and combine them into a single output that can be routed to other nodes in the graph.</span></span> 

<span data-ttu-id="f5d66-111">Nachdem alle Knoten erstellt und die Verbindungen zwischen ihnen eingerichtet wurden, starten Sie einfach das Audiodiagramm. Daraufhin fließen die Audiodaten von den Eingabeknoten über Submixknoten an die Ausgabeknoten.</span><span class="sxs-lookup"><span data-stu-id="f5d66-111">After all of the nodes have been created and the connections between them set up, you simply start the audio graph and the audio data flows from the input nodes, through any submix nodes, to the output nodes.</span></span> <span data-ttu-id="f5d66-112">Dank dieses Modells können Szenarien wie die Aufzeichnung vom Mikrofon eines Geräts in einer Audiodatei, das Wiedergeben von Audiodaten aus einer Datei auf einem Gerätelautsprecher oder das Mischen von Audiodaten aus mehreren Quellen schnell und einfach implementiert werden.</span><span class="sxs-lookup"><span data-stu-id="f5d66-112">This model makes scenarios such as recording from a device's microphone to an audio file, playing audio from a file to a device's speaker, or mixing audio from multiple sources quick and easy to implement.</span></span>

<span data-ttu-id="f5d66-113">Weitere Szenarien werden durch das Hinzufügen von Audioeffekten zum Audiodiagramm ermöglicht.</span><span class="sxs-lookup"><span data-stu-id="f5d66-113">Additional scenarios are enabled with the addition of audio effects to the audio graph.</span></span> <span data-ttu-id="f5d66-114">Jeder Knoten in einem Audiodiagramm kann mit null oder mehr Audioeffekten gefüllt werden, die die Audioverarbeitung für die Audiodaten durchführen, die den Knoten durchlaufen.</span><span class="sxs-lookup"><span data-stu-id="f5d66-114">Every node in an audio graph can be populated with zero or more audio effects that perform audio processing on the audio passing through the node.</span></span> <span data-ttu-id="f5d66-115">Es gibt verschiedene integrierte Effekte wie Echo, Equalizer, Begrenzungen und Halleffekt, die mit nur wenigen Codezeilen an einen Audioknoten angefügt werden können.</span><span class="sxs-lookup"><span data-stu-id="f5d66-115">There are several built-in effects such as echo, equalizer, limiting, and reverb that can be attached to an audio node with just a few lines of code.</span></span> <span data-ttu-id="f5d66-116">Sie können auch eigene benutzerdefinierte Audioeffekte erstellen, die genau wie die integrierten Effekte funktionieren.</span><span class="sxs-lookup"><span data-stu-id="f5d66-116">You can also create your own custom audio effects that work exactly the same as the built-in effects.</span></span>

> [!NOTE]
> <span data-ttu-id="f5d66-117">Im [UWP-Beispiel für AudioGraph](http://go.microsoft.com/fwlink/?LinkId=619481) wird der in dieser Übersicht erläuterte Code implementiert.</span><span class="sxs-lookup"><span data-stu-id="f5d66-117">The [AudioGraph UWP sample](http://go.microsoft.com/fwlink/?LinkId=619481) implements the code discussed in this overview.</span></span> <span data-ttu-id="f5d66-118">Sie können das Beispiel herunterladen, um den Code im Kontext anzuzeigen oder ihn als Ausgangspunkt für Ihre eigene App zu verwenden.</span><span class="sxs-lookup"><span data-stu-id="f5d66-118">You can download the sample to see the code in context or to use as a starting point for your own app.</span></span>

## <a name="choosing-windows-runtime-audiograph-or-xaudio2"></a><span data-ttu-id="f5d66-119">Auswählen von Windows-Runtime-AudioGraph oder -XAudio2</span><span class="sxs-lookup"><span data-stu-id="f5d66-119">Choosing Windows Runtime AudioGraph or XAudio2</span></span>

<span data-ttu-id="f5d66-120">Die Audiodiagramm-APIs der Windows-Runtime bieten Funktionen, die auch über die COM-basierten [XAudio2-APIs](https://msdn.microsoft.com/library/windows/desktop/hh405049) implementiert werden können.</span><span class="sxs-lookup"><span data-stu-id="f5d66-120">The Windows Runtime audio graph APIs offer functionality that can also be implemented by using the COM-based [XAudio2 APIs](https://msdn.microsoft.com/library/windows/desktop/hh405049).</span></span> <span data-ttu-id="f5d66-121">Nachfolgend sind die Features des Audiodiagramm-Frameworks von Windows-Runtime aufgeführt, die von XAudio2 abweichen.</span><span class="sxs-lookup"><span data-stu-id="f5d66-121">The following are features of the Windows Runtime audio graph framework that differ from XAudio2.</span></span>

<span data-ttu-id="f5d66-122">Die Audiodiagramm-APIs von Windows-Runtime</span><span class="sxs-lookup"><span data-stu-id="f5d66-122">The Windows Runtime audio graph APIs:</span></span>

-   <span data-ttu-id="f5d66-123">sind wesentlich benutzerfreundlicher als XAudio2.</span><span class="sxs-lookup"><span data-stu-id="f5d66-123">Are significantly easier to use than XAudio2.</span></span>
-   <span data-ttu-id="f5d66-124">können von C# verwendet werden und werden auch für C++ unterstützt.</span><span class="sxs-lookup"><span data-stu-id="f5d66-124">Can be used from C# in addition to being supported for C++.</span></span>
-   <span data-ttu-id="f5d66-125">können Audiodateien einschließlich komprimierter Dateiformate direkt verwenden.</span><span class="sxs-lookup"><span data-stu-id="f5d66-125">Can use audio files, including compressed file formats, directly.</span></span> <span data-ttu-id="f5d66-126">XAudio2 funktioniert nur auf Audiopuffern und stellt keine Datei-E/A-Funktionen bereit.</span><span class="sxs-lookup"><span data-stu-id="f5d66-126">XAudio2 only operates on audio buffers and does not provide any file I/O capabilities.</span></span>
-   <span data-ttu-id="f5d66-127">Die audiopipeline mit geringer Latenz können in Windows 10.</span><span class="sxs-lookup"><span data-stu-id="f5d66-127">Can use the low-latency audio pipeline in Windows10.</span></span>
-   <span data-ttu-id="f5d66-128">unterstützen eine automatische Endpunktumschaltung, wenn standardmäßige Endpunktparameter verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="f5d66-128">Support automatic endpoint switching when default endpoint parameters are used.</span></span> <span data-ttu-id="f5d66-129">Wenn der Benutzer beispielsweise vom Lautsprecher eines Geräts zu einem Headset wechselt, werden die Audiodaten automatisch an den neuen Eingang umgeleitet.</span><span class="sxs-lookup"><span data-stu-id="f5d66-129">For example, if the user switches from a device's speaker to a headset, the audio is automatically redirected to the new input.</span></span>

## <a name="audiograph-class"></a><span data-ttu-id="f5d66-130">AudioGraph-Klasse</span><span class="sxs-lookup"><span data-stu-id="f5d66-130">AudioGraph class</span></span>

<span data-ttu-id="f5d66-131">Die [**AudioGraph**](https://msdn.microsoft.com/library/windows/apps/dn914176)-Klasse ist das übergeordnete Element aller Knoten, aus denen das Diagramm besteht.</span><span class="sxs-lookup"><span data-stu-id="f5d66-131">The [**AudioGraph**](https://msdn.microsoft.com/library/windows/apps/dn914176) class is the parent of all nodes that make up the graph.</span></span> <span data-ttu-id="f5d66-132">Verwenden Sie dieses Objekt, um Instanzen aller Audioknotentypen zu erstellen.</span><span class="sxs-lookup"><span data-stu-id="f5d66-132">Use this object to create instances of all of the audio node types.</span></span> <span data-ttu-id="f5d66-133">Erstellen Sie eine Instanz der **AudioGraph**-Klasse, indem Sie ein [**AudioGraphSettings**](https://msdn.microsoft.com/library/windows/apps/dn914185)-Objekt, das Konfigurationseinstellungen für das Diagramm enthält, initialisieren und dann [**AudioGraph.CreateAsync**](https://msdn.microsoft.com/library/windows/apps/dn914216) aufrufen.</span><span class="sxs-lookup"><span data-stu-id="f5d66-133">Create an instance of the **AudioGraph** class by initializing an [**AudioGraphSettings**](https://msdn.microsoft.com/library/windows/apps/dn914185) object containing configuration settings for the graph, and then calling [**AudioGraph.CreateAsync**](https://msdn.microsoft.com/library/windows/apps/dn914216).</span></span> <span data-ttu-id="f5d66-134">Die zurückgegebene [**CreateAudioGraphResult**](https://msdn.microsoft.com/library/windows/apps/dn914273)-Klasse ermöglicht den Zugriff auf das erstellte Audiodiagramm oder gibt einen Fehler zurück, wenn bei der Erstellung des Audiodiagramms ein Fehler auftritt.</span><span class="sxs-lookup"><span data-stu-id="f5d66-134">The returned [**CreateAudioGraphResult**](https://msdn.microsoft.com/library/windows/apps/dn914273) gives access to the created audio graph or provides an error value if audio graph creation fails.</span></span>

[!code-cs[DeclareAudioGraph](./code/AudioGraph/cs/MainPage.xaml.cs#SnippetDeclareAudioGraph)]

[!code-cs[InitAudioGraph](./code/AudioGraph/cs/MainPage.xaml.cs#SnippetInitAudioGraph)]

-   <span data-ttu-id="f5d66-135">Alle Audioknotentypen werden mithilfe der Create\*-Methoden der **AudioGraph**-Klasse erstellt.</span><span class="sxs-lookup"><span data-stu-id="f5d66-135">All audio node types are created by using the Create\* methods of the **AudioGraph** class.</span></span>
-   <span data-ttu-id="f5d66-136">Die [**AudioGraph.Start**](https://msdn.microsoft.com/library/windows/apps/dn914244)-Methode bewirkt, dass das Audiodiagramm mit der Verarbeitung der Audiodaten beginnt.</span><span class="sxs-lookup"><span data-stu-id="f5d66-136">The [**AudioGraph.Start**](https://msdn.microsoft.com/library/windows/apps/dn914244) method causes the audio graph to start processing audio data.</span></span> <span data-ttu-id="f5d66-137">Die [**AudioGraph.Stop**](https://msdn.microsoft.com/library/windows/apps/dn914245)-Methode beendet die Audioverarbeitung.</span><span class="sxs-lookup"><span data-stu-id="f5d66-137">The [**AudioGraph.Stop**](https://msdn.microsoft.com/library/windows/apps/dn914245) method stops audio processing.</span></span> <span data-ttu-id="f5d66-138">Jeder Knoten im Diagramm kann während der Ausführung des Diagramms unabhängig gestartet und beendet werden. Es sind aber keine Knoten aktiv, wenn das Diagramm beendet wird.</span><span class="sxs-lookup"><span data-stu-id="f5d66-138">Each node in the graph can be started and stopped independently while the graph is running, but no nodes are active when the graph is stopped.</span></span> <span data-ttu-id="f5d66-139">[**ResetAllNodes**](https://msdn.microsoft.com/library/windows/apps/dn914242) bewirkt, dass alle Knoten im Diagramm alle Daten löschen, die sich derzeit in ihren Audiopuffern befinden.</span><span class="sxs-lookup"><span data-stu-id="f5d66-139">[**ResetAllNodes**](https://msdn.microsoft.com/library/windows/apps/dn914242) causes all nodes in the graph to discard any data currently in their audio buffers.</span></span>
-   <span data-ttu-id="f5d66-140">Das [**QuantumStarted**](https://msdn.microsoft.com/library/windows/apps/dn914241)-Ereignis tritt auf, wenn das Diagramm die Verarbeitung eines neuen Quantums von Audiodaten beginnt.</span><span class="sxs-lookup"><span data-stu-id="f5d66-140">The [**QuantumStarted**](https://msdn.microsoft.com/library/windows/apps/dn914241) event occurs when the graph is starting the processing of a new quantum of audio data.</span></span> <span data-ttu-id="f5d66-141">Das [**QuantumProcessed**](https://msdn.microsoft.com/library/windows/apps/dn914240)-Ereignis tritt auf, wenn die Verarbeitung eines Quantums abgeschlossen ist.</span><span class="sxs-lookup"><span data-stu-id="f5d66-141">The [**QuantumProcessed**](https://msdn.microsoft.com/library/windows/apps/dn914240) event occurs when the processing of a quantum is completed.</span></span>

-   <span data-ttu-id="f5d66-142">Als einzige [**AudioGraphSettings**](https://msdn.microsoft.com/library/windows/apps/dn914185)-Eigenschaft ist [**AudioRenderCategory**](https://msdn.microsoft.com/library/windows/apps/dn297724) erforderlich.</span><span class="sxs-lookup"><span data-stu-id="f5d66-142">The only [**AudioGraphSettings**](https://msdn.microsoft.com/library/windows/apps/dn914185) property that is required is [**AudioRenderCategory**](https://msdn.microsoft.com/library/windows/apps/dn297724).</span></span> <span data-ttu-id="f5d66-143">Durch Angabe dieses Werts kann das System die Audiopipeline für die angegebene Kategorie optimieren.</span><span class="sxs-lookup"><span data-stu-id="f5d66-143">Specifying this value allows the system to optimize the audio pipeline for the specified category.</span></span>
-   <span data-ttu-id="f5d66-144">Die Quantumgröße des Audiodiagramms bestimmt die Anzahl der Samples, die gleichzeitig verarbeitet werden.</span><span class="sxs-lookup"><span data-stu-id="f5d66-144">The quantum size of the audio graph determines the number of samples that are processed at one time.</span></span> <span data-ttu-id="f5d66-145">Standardmäßig beträgt die Quantumgröße 10ms basierend auf der Standard-Samplingrate.</span><span class="sxs-lookup"><span data-stu-id="f5d66-145">By default, the quantum size is 10 ms based at the default sample rate.</span></span> <span data-ttu-id="f5d66-146">Wenn Sie eine benutzerdefinierte Quantumgröße durch Festlegen der [**DesiredSamplesPerQuantum**](https://msdn.microsoft.com/library/windows/apps/dn914205)-Eigenschaft angeben, müssen Sie auch die [**QuantumSizeSelectionMode**](https://msdn.microsoft.com/library/windows/apps/dn914208)-Eigenschaft auf **ClosestToDesired** festlegen, oder der angegebene Wert wird ignoriert.</span><span class="sxs-lookup"><span data-stu-id="f5d66-146">If you specify a custom quantum size by setting the [**DesiredSamplesPerQuantum**](https://msdn.microsoft.com/library/windows/apps/dn914205) property, you must also set the [**QuantumSizeSelectionMode**](https://msdn.microsoft.com/library/windows/apps/dn914208) property to **ClosestToDesired** or the supplied value is ignored.</span></span> <span data-ttu-id="f5d66-147">Wenn dieser Wert verwendet wird, wählt das System eine Quantumgröße aus, die möglich nah an der von Ihnen angegebenen Größe liegt.</span><span class="sxs-lookup"><span data-stu-id="f5d66-147">If this value is used, the system will choose a quantum size as close as possible to the one you specify.</span></span> <span data-ttu-id="f5d66-148">Um die tatsächliche Quantumgröße zu bestimmen, überprüfen Sie die [**SamplesPerQuantum**](https://msdn.microsoft.com/library/windows/apps/dn914243)-Eigenschaft der **AudioGraph**-Klasse, nachdem sie erstellt wurde.</span><span class="sxs-lookup"><span data-stu-id="f5d66-148">To determine the actual quantum size, check the [**SamplesPerQuantum**](https://msdn.microsoft.com/library/windows/apps/dn914243) of the **AudioGraph** after it has been created.</span></span>
-   <span data-ttu-id="f5d66-149">Wenn Sie das Audiodiagramm nur mit Dateien verwenden möchten und keine Ausgabe an ein Audiogerät planen, wird empfohlen, dass Sie die Standard-Quantumgröße verwenden, indem Sie die [**DesiredSamplesPerQuantum**](https://msdn.microsoft.com/library/windows/apps/dn914205)-Eigenschaft nicht festlegen.</span><span class="sxs-lookup"><span data-stu-id="f5d66-149">If you only plan to use the audio graph with files and don't plan to output to an audio device, it is recommended that you use the default quantum size by not setting the [**DesiredSamplesPerQuantum**](https://msdn.microsoft.com/library/windows/apps/dn914205) property.</span></span>
-   <span data-ttu-id="f5d66-150">Die [**DesiredRenderDeviceAudioProcessing**](https://msdn.microsoft.com/library/windows/apps/dn958522)-Eigenschaft bestimmt Verarbeitungsleistung, die das primäre Darstellungsgerät für die Ausgabe des Audiodiagramms durchführt.</span><span class="sxs-lookup"><span data-stu-id="f5d66-150">The [**DesiredRenderDeviceAudioProcessing**](https://msdn.microsoft.com/library/windows/apps/dn958522) property determines the amount of processing the primary render device performs on the output of the audio graph.</span></span> <span data-ttu-id="f5d66-151">Über die **Default**-Einstellung kann das System die Standardaudioverarbeitung für die angegebene Audiowiedergabekategorie verwenden.</span><span class="sxs-lookup"><span data-stu-id="f5d66-151">The **Default** setting allows the system to use the default audio processing for the specified audio render category.</span></span> <span data-ttu-id="f5d66-152">Durch diese Verarbeitung kann der Sound der Audiodaten auf einigen Geräten wesentlich verbessert werden, insbesondere auf mobilen Geräten mit kleinen Lautsprechern.</span><span class="sxs-lookup"><span data-stu-id="f5d66-152">This processing can significantly improve the sound of audio on some devices, particularly mobile devices with small speakers.</span></span> <span data-ttu-id="f5d66-153">Durch die **Raw**-Einstellung kann die Leistung durch Minimieren der Signalverarbeitungsleistung verbessert werden. Dies kann jedoch zu einer schlechteren Tonqualität auf einigen Geräten führen.</span><span class="sxs-lookup"><span data-stu-id="f5d66-153">The **Raw** setting can improve performance by minimizing the amount of signal processing performed, but can result in inferior sound quality on some devices.</span></span>
-   <span data-ttu-id="f5d66-154">Wenn die [**QuantumSizeSelectionMode**](https://msdn.microsoft.com/library/windows/apps/dn914208)-Eigenschaft auf **LowestLatency** festgelegt wird, verwendet das Audiodiagramm für [**DesiredRenderDeviceAudioProcessing**](https://msdn.microsoft.com/library/windows/apps/dn958522) automatisch **Raw**.</span><span class="sxs-lookup"><span data-stu-id="f5d66-154">If the [**QuantumSizeSelectionMode**](https://msdn.microsoft.com/library/windows/apps/dn914208) is set to **LowestLatency**, the audio graph will automatically use **Raw** for [**DesiredRenderDeviceAudioProcessing**](https://msdn.microsoft.com/library/windows/apps/dn958522).</span></span>
- <span data-ttu-id="f5d66-155">Ab Windows 10, Version 1803, können Sie die Eigenschaft [**AudioGraphSettings.MaxPlaybackSpeedFactor**](https://docs.microsoft.com/uwp/api/windows.media.audio.audiographsettings.maxplaybackspeedfactor) auf einen Maximalwert für [**AudioFileInputNode.PlaybackSpeedFactor**](https://docs.microsoft.com/uwp/api/windows.media.audio.audiofileinputnode.playbackspeedfactor), [**AudioFrameInputNode.PlaybackSpeedFactor**](https://docs.microsoft.com/uwp/api/windows.media.audio.audioframeinputnode.playbackspeedfactor) und [**MediaSourceInputNode.PlaybackSpeedFactor**](https://docs.microsoft.com/uwp/api/windows.media.audio.mediasourceinputnode.playbackspeedfactor) festlegen.</span><span class="sxs-lookup"><span data-stu-id="f5d66-155">Starting with Windows 10, version 1803, you can set the [**AudioGraphSettings.MaxPlaybackSpeedFactor**](https://docs.microsoft.com/uwp/api/windows.media.audio.audiographsettings.maxplaybackspeedfactor) property to set a maximum value used for the [**AudioFileInputNode.PlaybackSpeedFactor**](https://docs.microsoft.com/uwp/api/windows.media.audio.audiofileinputnode.playbackspeedfactor), [**AudioFrameInputNode.PlaybackSpeedFactor**](https://docs.microsoft.com/uwp/api/windows.media.audio.audioframeinputnode.playbackspeedfactor), and [**MediaSourceInputNode.PlaybackSpeedFactor**](https://docs.microsoft.com/uwp/api/windows.media.audio.mediasourceinputnode.playbackspeedfactor) properties.</span></span> <span data-ttu-id="f5d66-156">Wenn ein Audiodiagramm einen Wiedergabegeschwindigkeitsfaktor höher als 1 unterstützt, muss ihm das System zusätzlichen Speicher zuweisen, um einen ausreichenden Puffer der Audiodaten zu gewährleisten.</span><span class="sxs-lookup"><span data-stu-id="f5d66-156">When an audio graph supports a playback speed factor greater than 1, the system must allocate additional memory in order to maintain a sufficient buffer of audio data.</span></span> <span data-ttu-id="f5d66-157">Daher minimiert das Festlegen der Einstellung **MaxPlaybackSpeedFactor** auf den niedrigsten Wert, der von der App erforderlich ist, den Speicherbedarf Ihrer App.</span><span class="sxs-lookup"><span data-stu-id="f5d66-157">For this reason, setting **MaxPlaybackSpeedFactor** to the lowest value required by your app will reduce the memory consumption of your app.</span></span> <span data-ttu-id="f5d66-158">Wenn Ihre App nur Inhalte in normaler Geschwindigkeit wiedergibt, empfiehlt es sich, dass Sie MaxPlaybackSpeedFactor auf 1 festgelegt.</span><span class="sxs-lookup"><span data-stu-id="f5d66-158">If your app will only play back content at normal speed, it is recommended that you set MaxPlaybackSpeedFactor to 1.</span></span>
-   <span data-ttu-id="f5d66-159">Die [**EncodingProperties**](https://msdn.microsoft.com/library/windows/apps/dn958523)-Eigenschaft bestimmt das vom Diagramm verwendete Audioformat.</span><span class="sxs-lookup"><span data-stu-id="f5d66-159">The [**EncodingProperties**](https://msdn.microsoft.com/library/windows/apps/dn958523) determines the audio format used by the graph.</span></span> <span data-ttu-id="f5d66-160">Es werden nur 32-Bit-Float-Formate unterstützt.</span><span class="sxs-lookup"><span data-stu-id="f5d66-160">Only 32-bit float formats are supported.</span></span>
-   <span data-ttu-id="f5d66-161">Die [**PrimaryRenderDevice**](https://msdn.microsoft.com/library/windows/apps/dn958524)-Eigenschaft legt das primäre Darstellungsgerät für das Audiodiagramm fest.</span><span class="sxs-lookup"><span data-stu-id="f5d66-161">The [**PrimaryRenderDevice**](https://msdn.microsoft.com/library/windows/apps/dn958524) sets the primary render device for the audio graph.</span></span> <span data-ttu-id="f5d66-162">Wenn Sie diese Eigenschaft nicht festlegen, wird das Standardsystemgerät verwendet.</span><span class="sxs-lookup"><span data-stu-id="f5d66-162">If you don't set this, the default system device is used.</span></span> <span data-ttu-id="f5d66-163">Das primäre Darstellungsgerät wird zur Berechnung der Quantumgrößen für andere Knoten im Diagramm verwendet.</span><span class="sxs-lookup"><span data-stu-id="f5d66-163">The primary render device is used to calculate the quantum sizes for other nodes in the graph.</span></span> <span data-ttu-id="f5d66-164">Wenn in dem System keine Audiowiedergabegeräte vorhanden sind, tritt bei der Erstellung des Audiodiagramms ein Fehler auf.</span><span class="sxs-lookup"><span data-stu-id="f5d66-164">If there are no audio render devices present on the system, audio graph creation will fail.</span></span>

<span data-ttu-id="f5d66-165">Sie können für das Audiodiagramm das Standard-Audiowiedergabegerät festlegen oder die [**Windows.Devices.Enumeration.DeviceInformation**](https://msdn.microsoft.com/library/windows/apps/br225393)-Klasse verwenden, um eine Liste der verfügbaren Audiowiedergabegeräte abzurufen, indem Sie [**FindAllAsync**](https://msdn.microsoft.com/library/windows/apps/br225432) aufrufen und die von [**Windows.Media.Devices.MediaDevice.GetAudioRenderSelector**](https://msdn.microsoft.com/library/windows/apps/br226817) zurückgegebene Auswahl des Audiowiedergabegeräts übergeben.</span><span class="sxs-lookup"><span data-stu-id="f5d66-165">You can let the audio graph use the default audio render device or use the [**Windows.Devices.Enumeration.DeviceInformation**](https://msdn.microsoft.com/library/windows/apps/br225393) class to get a list of the system's available audio render devices by calling [**FindAllAsync**](https://msdn.microsoft.com/library/windows/apps/br225432) and passing in the audio render device selector returned by [**Windows.Media.Devices.MediaDevice.GetAudioRenderSelector**](https://msdn.microsoft.com/library/windows/apps/br226817).</span></span> <span data-ttu-id="f5d66-166">Sie können eines der zurückgegebenen **DeviceInformation**-Objekte programmgesteuert auswählen oder die Benutzeroberfläche anzeigen, damit der Benutzer ein Gerät auswählen und dieses dann zum Festlegen der [**PrimaryRenderDevice**](https://msdn.microsoft.com/library/windows/apps/dn958524)-Eigenschaft verwenden kann.</span><span class="sxs-lookup"><span data-stu-id="f5d66-166">You can choose one of the returned **DeviceInformation** objects programatically or show UI to allow the user to select a device and then use it to set the [**PrimaryRenderDevice**](https://msdn.microsoft.com/library/windows/apps/dn958524) property.</span></span>

[!code-cs[EnumerateAudioRenderDevices](./code/AudioGraph/cs/MainPage.xaml.cs#SnippetEnumerateAudioRenderDevices)]

##  <a name="device-input-node"></a><span data-ttu-id="f5d66-167">Geräteingabeknoten</span><span class="sxs-lookup"><span data-stu-id="f5d66-167">Device input node</span></span>

<span data-ttu-id="f5d66-168">Eine Geräteingabeknoten liefert Audiodaten von einem an das System angeschlossenen Audioaufnahmegerät wie etwa einem Mikrofon an das Diagramm.</span><span class="sxs-lookup"><span data-stu-id="f5d66-168">A device input node feeds audio into the graph from an audio capture device connected to the system, such as a microphone.</span></span> <span data-ttu-id="f5d66-169">Erstellen Sie ein [**DeviceInputNode**](https://msdn.microsoft.com/library/windows/apps/dn914082)-Objekt, das das standardmäßige Audioaufnahmegerät des Systems verwendet, indem Sie die [**CreateDeviceInputNodeAsync**](https://msdn.microsoft.com/library/windows/apps/dn914218)-Methode aufrufen.</span><span class="sxs-lookup"><span data-stu-id="f5d66-169">Create a [**DeviceInputNode**](https://msdn.microsoft.com/library/windows/apps/dn914082) object that uses the system's default audio capture device by calling [**CreateDeviceInputNodeAsync**](https://msdn.microsoft.com/library/windows/apps/dn914218).</span></span> <span data-ttu-id="f5d66-170">Geben Sie eine [**AudioRenderCategory**](https://msdn.microsoft.com/library/windows/apps/dn297724)-Enumeration an, damit das System die Audiopipeline für die angegebene Kategorie optimieren kann.</span><span class="sxs-lookup"><span data-stu-id="f5d66-170">Provide an [**AudioRenderCategory**](https://msdn.microsoft.com/library/windows/apps/dn297724) to allow the system to optimize the audio pipeline for the specified category.</span></span>

[!code-cs[DeclareDeviceInputNode](./code/AudioGraph/cs/MainPage.xaml.cs#SnippetDeclareDeviceInputNode)]


[!code-cs[CreateDeviceInputNode](./code/AudioGraph/cs/MainPage.xaml.cs#SnippetCreateDeviceInputNode)]

<span data-ttu-id="f5d66-171">Wenn Sie ein spezielles Audioaufnahmegerät für den Geräteeingabeknoten festlegen möchten, können Sie die [**Windows.Devices.Enumeration.DeviceInformation**](https://msdn.microsoft.com/library/windows/apps/br225393)-Klasse verwenden, um eine Liste der verfügbaren Audioaufnahmegeräte abzurufen, indem Sie [**FindAllAsync**](https://msdn.microsoft.com/library/windows/apps/br225432) aufrufen und die von [**Windows.Media.Devices.MediaDevice.GetAudioRenderSelector**](https://msdn.microsoft.com/library/windows/apps/br226817) zurückgegebene Auswahl des Audioaufnahmegeräts übergeben.</span><span class="sxs-lookup"><span data-stu-id="f5d66-171">If you want to specify a specific audio capture device for the device input node, you can use the [**Windows.Devices.Enumeration.DeviceInformation**](https://msdn.microsoft.com/library/windows/apps/br225393) class to get a list of the system's available audio capture devices by calling [**FindAllAsync**](https://msdn.microsoft.com/library/windows/apps/br225432) and passing in the audio render device selector returned by [**Windows.Media.Devices.MediaDevice.GetAudioRenderSelector**](https://msdn.microsoft.com/library/windows/apps/br226817).</span></span> <span data-ttu-id="f5d66-172">Sie können eines der zurückgegebenen **DeviceInformation**-Objekte programmgesteuert auswählen oder Benutzeroberfläche anzeigen, damit der Benutzer ein Gerät auswählen und dieses dann an die [**CreateDeviceInputNodeAsync**](https://msdn.microsoft.com/library/windows/apps/dn914218)-Methode übergeben kann.</span><span class="sxs-lookup"><span data-stu-id="f5d66-172">You can choose one of the returned **DeviceInformation** objects programmatically or show UI to allow the user to select a device and then pass it into [**CreateDeviceInputNodeAsync**](https://msdn.microsoft.com/library/windows/apps/dn914218).</span></span>

[!code-cs[EnumerateAudioCaptureDevices](./code/AudioGraph/cs/MainPage.xaml.cs#SnippetEnumerateAudioCaptureDevices)]

##  <a name="device-output-node"></a><span data-ttu-id="f5d66-173">Gerätausgabeknoten</span><span class="sxs-lookup"><span data-stu-id="f5d66-173">Device output node</span></span>

<span data-ttu-id="f5d66-174">Ein Gerätausgabeknoten überträgt Audiodaten von dem Diagramm an ein Audiowiedergabegerät, z. B. Lautsprecher oder ein Headset.</span><span class="sxs-lookup"><span data-stu-id="f5d66-174">A device output node pushes audio from the graph to an audio render device, such as speakers or a headset.</span></span> <span data-ttu-id="f5d66-175">Erstellen Sie eine [**DeviceOutputNode**](https://msdn.microsoft.com/library/windows/apps/dn914098)-Klasse, indem Sie die [**CreateDeviceOutputNodeAsync**](https://msdn.microsoft.com/library/windows/apps/dn958525)-Methode aufrufen.</span><span class="sxs-lookup"><span data-stu-id="f5d66-175">Create a [**DeviceOutputNode**](https://msdn.microsoft.com/library/windows/apps/dn914098) by calling [**CreateDeviceOutputNodeAsync**](https://msdn.microsoft.com/library/windows/apps/dn958525).</span></span> <span data-ttu-id="f5d66-176">Der Ausgabeknoten verwendet die [**PrimaryRenderDevice**](https://msdn.microsoft.com/library/windows/apps/dn958524)-Eigenschaft des Audiodiagramms.</span><span class="sxs-lookup"><span data-stu-id="f5d66-176">The output node uses the [**PrimaryRenderDevice**](https://msdn.microsoft.com/library/windows/apps/dn958524) of the audio graph.</span></span>

[!code-cs[DeclareDeviceOutputNode](./code/AudioGraph/cs/MainPage.xaml.cs#SnippetDeclareDeviceOutputNode)]

[!code-cs[CreateDeviceOutputNode](./code/AudioGraph/cs/MainPage.xaml.cs#SnippetCreateDeviceOutputNode)]

##  <a name="file-input-node"></a><span data-ttu-id="f5d66-177">Dateieingabeknoten</span><span class="sxs-lookup"><span data-stu-id="f5d66-177">File input node</span></span>

<span data-ttu-id="f5d66-178">Mit einem Dateieingabeknoten können Sie Daten aus einer Audiodatei in das Diagramm übertragen.</span><span class="sxs-lookup"><span data-stu-id="f5d66-178">A file input node allows you to feed data from an audio file into the graph.</span></span> <span data-ttu-id="f5d66-179">Erstellen Sie eine [**AudioFileInputNode**](https://msdn.microsoft.com/library/windows/apps/dn914108)-Klasse, indem Sie die [**CreateFileInputNodeAsync**](https://msdn.microsoft.com/library/windows/apps/dn914226)-Methode aufrufen.</span><span class="sxs-lookup"><span data-stu-id="f5d66-179">Create an [**AudioFileInputNode**](https://msdn.microsoft.com/library/windows/apps/dn914108) by calling [**CreateFileInputNodeAsync**](https://msdn.microsoft.com/library/windows/apps/dn914226).</span></span>

[!code-cs[DeclareFileInputNode](./code/AudioGraph/cs/MainPage.xaml.cs#SnippetDeclareFileInputNode)]


[!code-cs[CreateFileInputNode](./code/AudioGraph/cs/MainPage.xaml.cs#SnippetCreateFileInputNode)]

-   <span data-ttu-id="f5d66-180">Dateieingabeknoten unterstützen die Dateiformate MP3, WAV, WMA und M4A.</span><span class="sxs-lookup"><span data-stu-id="f5d66-180">File input nodes support the following file formats: mp3, wav, wma, m4a.</span></span>
-   <span data-ttu-id="f5d66-181">Legen Sie die [**StartTime**](https://msdn.microsoft.com/library/windows/apps/dn914130)-Eigenschaft so fest, dass in der Datei der Zeitoffset angegeben wird, an dem die Wiedergabe beginnen soll.</span><span class="sxs-lookup"><span data-stu-id="f5d66-181">Set the [**StartTime**](https://msdn.microsoft.com/library/windows/apps/dn914130) property to specify the time offset into the file where playback should begin.</span></span> <span data-ttu-id="f5d66-182">Wenn diese Eigenschaft null ist, wird der Anfang der Datei verwendet.</span><span class="sxs-lookup"><span data-stu-id="f5d66-182">If this property is null, the beginning of the file is used.</span></span> <span data-ttu-id="f5d66-183">Legen Sie die [**EndTime**](https://msdn.microsoft.com/library/windows/apps/dn914118)-Eigenschaft so fest, dass in der Datei der Zeitoffset angegeben wird, an dem die Wiedergabe enden soll.</span><span class="sxs-lookup"><span data-stu-id="f5d66-183">Set the [**EndTime**](https://msdn.microsoft.com/library/windows/apps/dn914118) property to specify the time offset into the file where playback should end.</span></span> <span data-ttu-id="f5d66-184">Wenn diese Eigenschaft null ist, wird das Ende der Datei verwendet.</span><span class="sxs-lookup"><span data-stu-id="f5d66-184">If this property is null, the end of the file is used.</span></span> <span data-ttu-id="f5d66-185">Die Startzeit muss vor der Endzeit liegen, und der Wert für die Endzeit muss kleiner oder gleich der Dauer der Audiodatei sein. Sie können die Richtigkeit anhand des [**Duration**](https://msdn.microsoft.com/library/windows/apps/dn914116)-Eigenschaftswerts prüfen.</span><span class="sxs-lookup"><span data-stu-id="f5d66-185">The start time value must be lower than the end time value, and the end time value must be less than or equal to the duration of the audio file, which can be determined by checking the [**Duration**](https://msdn.microsoft.com/library/windows/apps/dn914116) property value.</span></span>
-   <span data-ttu-id="f5d66-186">Suchen Sie eine Position in der Audiodatei, indem Sie die [**Seek**](https://msdn.microsoft.com/library/windows/apps/dn914127)-Methode aufrufen und den Zeitoffset in der Datei angeben, an den die Wiedergabeposition verschoben werden soll.</span><span class="sxs-lookup"><span data-stu-id="f5d66-186">Seek to a position in the audio file by calling [**Seek**](https://msdn.microsoft.com/library/windows/apps/dn914127) and specifying the time offset into the file to which the playback position should be moved.</span></span> <span data-ttu-id="f5d66-187">Der angegebene Wert muss zwischen den Eigenschaften [**StartTime**](https://msdn.microsoft.com/library/windows/apps/dn914130) und [**EndTime**](https://msdn.microsoft.com/library/windows/apps/dn914118) liegen.</span><span class="sxs-lookup"><span data-stu-id="f5d66-187">The specified value must be within the [**StartTime**](https://msdn.microsoft.com/library/windows/apps/dn914130) and [**EndTime**](https://msdn.microsoft.com/library/windows/apps/dn914118) range.</span></span> <span data-ttu-id="f5d66-188">Die aktuelle Wiedergabeposition des Knotens können Sie mit der schreibgeschützten [**Position**](https://msdn.microsoft.com/library/windows/apps/dn914124)-Eigenschaft abrufen.</span><span class="sxs-lookup"><span data-stu-id="f5d66-188">Get the current playback position of the node with the read-only [**Position**](https://msdn.microsoft.com/library/windows/apps/dn914124) property.</span></span>
-   <span data-ttu-id="f5d66-189">Aktivieren Sie Schleifen für die Audiodatei, indem Sie die [**LoopCount**](https://msdn.microsoft.com/library/windows/apps/dn914120)-Eigenschaft festlegen.</span><span class="sxs-lookup"><span data-stu-id="f5d66-189">Enable looping of the audio file by setting the [**LoopCount**](https://msdn.microsoft.com/library/windows/apps/dn914120) property.</span></span> <span data-ttu-id="f5d66-190">Wenn diese nicht Null ist, gibt dieser Wert die Anzahl der Wiederholungen der Datei nach der ersten Wiedergabe an.</span><span class="sxs-lookup"><span data-stu-id="f5d66-190">When non-null, this value indicates the number of times the file will be played in after the initial playback.</span></span> <span data-ttu-id="f5d66-191">Wenn Sie **LoopCount** beispielsweise auf1 festlegen, wird die Datei insgesamt zweimal wiedergegeben. Wenn Sie den Wert auf5 festlegen, wird die Datei insgesamt sechs Mal wiedergegeben.</span><span class="sxs-lookup"><span data-stu-id="f5d66-191">So, for example, setting **LoopCount** to 1 will cause the file to be played 2 times in total, and setting it to 5 will cause the file to be played 6 times in total.</span></span> <span data-ttu-id="f5d66-192">Indem Sie **LoopCount** auf Null setzen, wird die Datei in einer Schleife unbegrenzt wiedergegeben.</span><span class="sxs-lookup"><span data-stu-id="f5d66-192">Setting **LoopCount** to null causes the file to be looped indefinitely.</span></span> <span data-ttu-id="f5d66-193">Um die Schleife zu beenden, setzen Sie den Wert auf0 fest.</span><span class="sxs-lookup"><span data-stu-id="f5d66-193">To stop looping, set the value to 0.</span></span>
-   <span data-ttu-id="f5d66-194">Legen Sie zum Anpassen der Geschwindigkeit, mit der die Audiodatei wiedergegeben wird, die [**PlaybackSpeedFactor**](https://msdn.microsoft.com/library/windows/apps/dn914123)-Eigenschaft fest.</span><span class="sxs-lookup"><span data-stu-id="f5d66-194">Adjust the speed at which the audio file is played back by setting the [**PlaybackSpeedFactor**](https://msdn.microsoft.com/library/windows/apps/dn914123).</span></span> <span data-ttu-id="f5d66-195">Der Wert1 zeigt die ursprüngliche Geschwindigkeit der Datei an. Der Wert0,5 legt die halbe Geschwindigkeit und der Wert2 ist die doppelte Geschwindigkeit fest.</span><span class="sxs-lookup"><span data-stu-id="f5d66-195">A value of 1 indicates the original speed of the file, .5 is half-speed, and 2 is double speed.</span></span>

##  <a name="mediasource-input-node"></a><span data-ttu-id="f5d66-196">MediaSource-Eingabeknoten</span><span class="sxs-lookup"><span data-stu-id="f5d66-196">MediaSource input node</span></span>

<span data-ttu-id="f5d66-197">Die [**MediaSource**](https://docs.microsoft.com/uwp/api/Windows.Media.Core.MediaSource)-Klasse, die allgemein zum Verweisen auf Medien aus verschiedenen Quellen sowie zum Wiedergeben dieser Medien verwendet wird bietet ein gemeinsames Modell für den Mediendatenzugriff – unabhängig vom zugrunde liegenden Medienformat, was eine Datei auf einem Datenträger, einem Stream oder einer streamenden Netzwerkquelle sein kann.</span><span class="sxs-lookup"><span data-stu-id="f5d66-197">The [**MediaSource**](https://docs.microsoft.com/uwp/api/Windows.Media.Core.MediaSource) class provides a common way to reference media from different sources and exposes a common model for accessing media data regardless of the underlying media format which could be a file on disk, a stream, or an adaptive streaming network source.</span></span> <span data-ttu-id="f5d66-198">Mit dem [\*\*MediaSourceAudioInputNode](https://docs.microsoft.com/uwp/api/windows.media.audio.mediasourceaudioinputnode)-Knoten können Sie die **MediaSource**-Daten in ein Audiodiagramm umleiten.</span><span class="sxs-lookup"><span data-stu-id="f5d66-198">A [\*\*MediaSourceAudioInputNode](https://docs.microsoft.com/uwp/api/windows.media.audio.mediasourceaudioinputnode) node lets you direct audio data from a **MediaSource** into the audio graph.</span></span> <span data-ttu-id="f5d66-199">Erstellen Sie **MediaSourceAudioInputNode** durch Aufrufen von [**CreateMediaSourceAudioInputNodeAsync**](https://docs.microsoft.com/uwp/api/windows.media.audio.audiograph.createmediasourceaudioinputnodeasync#Windows_Media_Audio_AudioGraph_CreateMediaSourceAudioInputNodeAsync_Windows_Media_Core_MediaSource_), und übergeben Sie ein **MediaSource**-Objekt, das die Inhalte, die Sie abspielen möchten, darstellt.</span><span class="sxs-lookup"><span data-stu-id="f5d66-199">Create a **MediaSourceAudioInputNode** by calling [**CreateMediaSourceAudioInputNodeAsync**](https://docs.microsoft.com/uwp/api/windows.media.audio.audiograph.createmediasourceaudioinputnodeasync#Windows_Media_Audio_AudioGraph_CreateMediaSourceAudioInputNodeAsync_Windows_Media_Core_MediaSource_), passing in a **MediaSource** object representing the content you wish to play.</span></span> <span data-ttu-id="f5d66-200">Ein [\*\* CreateMediaSourceAudioInputNodeResult](https://docs.microsoft.com/uwp/api/windows.media.audio.createmediasourceaudioinputnoderesult) wird zurückgegeben, das Sie verwenden können, um den Status des Vorgangs durch Überprüfen der Eigenschaft [**Status**](https://docs.microsoft.com/uwp/api/windows.media.audio.createmediasourceaudioinputnoderesult.status) zu verwenden.</span><span class="sxs-lookup"><span data-stu-id="f5d66-200">A [\*\*CreateMediaSourceAudioInputNodeResult](https://docs.microsoft.com/uwp/api/windows.media.audio.createmediasourceaudioinputnoderesult) is returned which you can use to determine the status of the operation by checking the [**Status**](https://docs.microsoft.com/uwp/api/windows.media.audio.createmediasourceaudioinputnoderesult.status) property.</span></span> <span data-ttu-id="f5d66-201">Wenn der Status **Erfolg** ist, erhalten Sie das erstellte **MediaSourceAudioInputNode** durch den Zugriff auf die [**Knoten**](https://docs.microsoft.com/uwp/api/windows.media.audio.createmediasourceaudioinputnoderesult.node)-Eigenschaft.</span><span class="sxs-lookup"><span data-stu-id="f5d66-201">If the status is **Success**, you can get the created **MediaSourceAudioInputNode** by accessing the [**Node**](https://docs.microsoft.com/uwp/api/windows.media.audio.createmediasourceaudioinputnoderesult.node) property.</span></span> <span data-ttu-id="f5d66-202">Das folgende Beispiel zeigt die Erstellung eines Knotens aus einem AdaptiveMediaSource-Objekt, das das Streaming von Inhalten über das Netzwerk darstellt.</span><span class="sxs-lookup"><span data-stu-id="f5d66-202">The following example shows the creation of a node from an AdaptiveMediaSource object representing content streaming over the network.</span></span> <span data-ttu-id="f5d66-203">Weitere Informationen zur Verwendung der **MediaSource** finden Sie unter [Medienelemente, Wiedergabelisten und Titel](media-playback-with-mediasource.md).</span><span class="sxs-lookup"><span data-stu-id="f5d66-203">For more inforation on working with **MediaSource**, see [Media items, playlists, and tracks](media-playback-with-mediasource.md).</span></span> <span data-ttu-id="f5d66-204">Weitere Informationen zum Streamen von Media-Inhalten über das Internet finden Sie unter [adaptives Streaming](adaptive-streaming.md).</span><span class="sxs-lookup"><span data-stu-id="f5d66-204">For more information on streaming media content over the internet, see [Adaptive streaming](adaptive-streaming.md).</span></span>

[!code-cs[DeclareMediaSourceInputNode](./code/AudioGraph/cs/MainPage.xaml.cs#SnippetDeclareMediaSourceInputNode)]

[!code-cs[CreateMediaSourceInputNode](./code/AudioGraph/cs/MainPage.xaml.cs#SnippetCreateMediaSourceInputNode)]

<span data-ttu-id="f5d66-205">Um eine Benachrichtigung zu erhalten, wenn die Wiedergabe das Ende des **MediaSource**-Inhalts erreicht hat, registrieren Sie einen Handler für das [**MediaSourceCompleted**](https://docs.microsoft.com/uwp/api/windows.media.audio.mediasourceaudioinputnode.mediasourcecompleted)-Ereignis.</span><span class="sxs-lookup"><span data-stu-id="f5d66-205">To receive a notification when playback has reached the end of the **MediaSource** content, register a handler for the [**MediaSourceCompleted**](https://docs.microsoft.com/uwp/api/windows.media.audio.mediasourceaudioinputnode.mediasourcecompleted) event.</span></span> 

[!code-cs[RegisterMediaSourceCompleted](./code/AudioGraph/cs/MainPage.xaml.cs#SnippetRegisterMediaSourceCompleted)]

[!code-cs[MediaSourceCompleted](./code/AudioGraph/cs/MainPage.xaml.cs#SnippetMediaSourceCompleted)]

<span data-ttu-id="f5d66-206">Während eine Datei aus Diskis wahrscheinlich immer erfolgreich abgespielt werden kann, kann das Streamen von Medien von einer Netzwerkquelle während der Wiedergabe aufgrund einer Änderung der Netzwerkverbindung oder anderer Probleme fehlschlagen, die außerhalb der Kontrolle des Audiodiagramms liegen.</span><span class="sxs-lookup"><span data-stu-id="f5d66-206">While playing a file from diskis likely to always complete successfully, media streamed from a network source may fail during playback due to a change in network connection or other issues that are outside the control of the audio graph.</span></span> <span data-ttu-id="f5d66-207">Wenn eine **MediaSource** während der Wiedergabe fehlschlägt, löst das Audiodiagramm ein [**UnrecoverableErrorOccurred**](https://docs.microsoft.com/uwp/api/windows.media.audio.audiograph.unrecoverableerroroccurred)-Ereignis aus.</span><span class="sxs-lookup"><span data-stu-id="f5d66-207">If a **MediaSource** becomes unplayable during playback, the audio graph will raise the [**UnrecoverableErrorOccurred**](https://docs.microsoft.com/uwp/api/windows.media.audio.audiograph.unrecoverableerroroccurred) event.</span></span> <span data-ttu-id="f5d66-208">Sie können für dieses Ereignis den Handler verwenden, um das Audiodiagramm zu beenden und zu löschen und und das Diagramm erneut zu initialisieren.</span><span class="sxs-lookup"><span data-stu-id="f5d66-208">You can use the handler for this event to stop and dispose of the audio graph and then reinitialize your graph.</span></span> 

[!code-cs[RegisterUnrecoverableError](./code/AudioGraph/cs/MainPage.xaml.cs#SnippetRegisterUnrecoverableError)]

[!code-cs[UnrecoverableError](./code/AudioGraph/cs/MainPage.xaml.cs#SnippetUnrecoverableError)]

##  <a name="file-output-node"></a><span data-ttu-id="f5d66-209">Dateiausgabeknoten</span><span class="sxs-lookup"><span data-stu-id="f5d66-209">File output node</span></span>

<span data-ttu-id="f5d66-210">Mit einem Dateiausgabeknoten können Sie die Audiodaten aus dem Diagramm in eine Audiodatei umleiten.</span><span class="sxs-lookup"><span data-stu-id="f5d66-210">A file output node lets you direct audio data from the graph into an audio file.</span></span> <span data-ttu-id="f5d66-211">Erstellen Sie eine [**AudioFileOutputNode**](https://msdn.microsoft.com/library/windows/apps/dn914133)-Klasse, indem Sie die [**CreateFileOutputNodeAsync**](https://msdn.microsoft.com/library/windows/apps/dn914227)-Methode aufrufen.</span><span class="sxs-lookup"><span data-stu-id="f5d66-211">Create an [**AudioFileOutputNode**](https://msdn.microsoft.com/library/windows/apps/dn914133) by calling [**CreateFileOutputNodeAsync**](https://msdn.microsoft.com/library/windows/apps/dn914227).</span></span>

[!code-cs[DeclareFileOutputNode](./code/AudioGraph/cs/MainPage.xaml.cs#SnippetDeclareFileOutputNode)]


[!code-cs[CreateFileOutputNode](./code/AudioGraph/cs/MainPage.xaml.cs#SnippetCreateFileOutputNode)]

-   <span data-ttu-id="f5d66-212">Dateiausgabeknoten unterstützen die Dateiformate MP3, WAV, WMA und M4A.</span><span class="sxs-lookup"><span data-stu-id="f5d66-212">File output nodes support the following file formats: mp3, wav, wma, m4a.</span></span>
-   <span data-ttu-id="f5d66-213">Um die Verarbeitung des Knotens zu beenden, rufen Sie erst die [**AudioFileOutputNode.Stop**](https://msdn.microsoft.com/library/windows/apps/dn914144)-Methode und dann die [**AudioFileOutputNode.FinalizeAsync**](https://msdn.microsoft.com/library/windows/apps/dn914140)-Methode auf. Andernfalls wird eine Ausnahme ausgelöst.</span><span class="sxs-lookup"><span data-stu-id="f5d66-213">You must call [**AudioFileOutputNode.Stop**](https://msdn.microsoft.com/library/windows/apps/dn914144) to stop the node's processing before calling [**AudioFileOutputNode.FinalizeAsync**](https://msdn.microsoft.com/library/windows/apps/dn914140) or an exception will be thrown.</span></span>

##  <a name="audio-frame-input-node"></a><span data-ttu-id="f5d66-214">Audioframe-Eingabeknoten</span><span class="sxs-lookup"><span data-stu-id="f5d66-214">Audio frame input node</span></span>

<span data-ttu-id="f5d66-215">Mit einem Audioframe-Eingabeknoten können Sie Audiodaten, die Sie in Ihrem eigenen Code generieren, in das Audiodiagramm übertragen.</span><span class="sxs-lookup"><span data-stu-id="f5d66-215">An audio frame input node allows you to push audio data that you generate in your own code into the audio graph.</span></span> <span data-ttu-id="f5d66-216">Dies ermöglicht Szenarien wie das Erstellen eines benutzerdefinierten Softwaresynthesizers.</span><span class="sxs-lookup"><span data-stu-id="f5d66-216">This enables scenarios like creating a custom software synthesizer.</span></span> <span data-ttu-id="f5d66-217">Erstellen Sie eine [**AudioFrameInputNode**](https://msdn.microsoft.com/library/windows/apps/dn914147)-Klasse, indem Sie die [**CreateFrameInputNode**](https://msdn.microsoft.com/library/windows/apps/dn914230)-Methode aufrufen.</span><span class="sxs-lookup"><span data-stu-id="f5d66-217">Create an [**AudioFrameInputNode**](https://msdn.microsoft.com/library/windows/apps/dn914147) by calling [**CreateFrameInputNode**](https://msdn.microsoft.com/library/windows/apps/dn914230).</span></span>

[!code-cs[DeclareFrameInputNode](./code/AudioGraph/cs/MainPage.xaml.cs#SnippetDeclareFrameInputNode)]


[!code-cs[CreateFrameInputNode](./code/AudioGraph/cs/MainPage.xaml.cs#SnippetCreateFrameInputNode)]

<span data-ttu-id="f5d66-218">Das [**FrameInputNode.QuantumStarted**](https://msdn.microsoft.com/library/windows/apps/dn958507)-Ereignis wird ausgelöst, wenn das Audiodiagramm bereit ist, die Verarbeitung des nächsten Quantums von Audiodaten zu verarbeiten.</span><span class="sxs-lookup"><span data-stu-id="f5d66-218">The [**FrameInputNode.QuantumStarted**](https://msdn.microsoft.com/library/windows/apps/dn958507) event is raised when the audio graph is ready to begin processing the next quantum of audio data.</span></span> <span data-ttu-id="f5d66-219">Sie stellen die benutzerdefinierten generierten Audiodaten vom Handler für dieses Ereignis bereit.</span><span class="sxs-lookup"><span data-stu-id="f5d66-219">You supply your custom generated audio data from within the handler to this event.</span></span>

[!code-cs[QuantumStarted](./code/AudioGraph/cs/MainPage.xaml.cs#SnippetQuantumStarted)]

-   <span data-ttu-id="f5d66-220">Durch das an den **QuantumStarted**-Ereignishandler übergebene [**FrameInputNodeQuantumStartedEventArgs**](https://msdn.microsoft.com/library/windows/apps/dn958533)-Objekt wird die [**RequiredSamples**](https://msdn.microsoft.com/library/windows/apps/dn958534)-Eigenschaft verfügbar, die angibt, wie viele Sample das Audiodiagramm füllen muss, damit das Quantum verarbeitet wird.</span><span class="sxs-lookup"><span data-stu-id="f5d66-220">The [**FrameInputNodeQuantumStartedEventArgs**](https://msdn.microsoft.com/library/windows/apps/dn958533) object passed into the **QuantumStarted** event handler exposes the [**RequiredSamples**](https://msdn.microsoft.com/library/windows/apps/dn958534) property that indicates how many samples the audio graph needs to fill up the quantum to be processed.</span></span>
-   <span data-ttu-id="f5d66-221">Rufen Sie die [**AudioFrameInputNode.AddFrame**](https://msdn.microsoft.com/library/windows/apps/dn914148)-Methode auf, um ein mit Audiodaten gefülltes [**AudioFrame**](https://msdn.microsoft.com/library/windows/apps/dn930871)-Objekt an das Diagramm zu übergeben.</span><span class="sxs-lookup"><span data-stu-id="f5d66-221">Call [**AudioFrameInputNode.AddFrame**](https://msdn.microsoft.com/library/windows/apps/dn914148) to pass an [**AudioFrame**](https://msdn.microsoft.com/library/windows/apps/dn930871) object filled with audio data into the graph.</span></span>
- <span data-ttu-id="f5d66-222">Es wurde ein neuer Satz von APIs für die Verwendung von **MediaFrameReader** mit Audiodaten in Windows10, Version 1803 eingeführt.</span><span class="sxs-lookup"><span data-stu-id="f5d66-222">A new set of APIs for using **MediaFrameReader** with audio data were introduced in Windows 10, version 1803.</span></span> <span data-ttu-id="f5d66-223">Diese APIs ermöglichen es Ihnen, **AudioFrame**-Objekte von einer Medieframenquelle zu erhalten, die an ein **FrameInputNode** mithilfe der **AddFrame** Methode übergeben werden kann.</span><span class="sxs-lookup"><span data-stu-id="f5d66-223">These APIs allow you to obtain **AudioFrame** objects from a media frame source, which can be passed into a **FrameInputNode** using the **AddFrame** method.</span></span> <span data-ttu-id="f5d66-224">Weitere Informationen finden Sie unter [Verarbeiten von Audioframes mit MediaFrameReader](process-audio-frames-with-mediaframereader.md).</span><span class="sxs-lookup"><span data-stu-id="f5d66-224">For more information, see [Process audio frames with MediaFrameReader](process-audio-frames-with-mediaframereader.md).</span></span>
-   <span data-ttu-id="f5d66-225">Nachfolgend sehen Sie ein Beispiel einer Implementierung der **GenerateAudioData**-Hilfsmethode.</span><span class="sxs-lookup"><span data-stu-id="f5d66-225">An example implementation of the **GenerateAudioData** helper method is shown below.</span></span>

<span data-ttu-id="f5d66-226">Zum Auffüllen eines [**AudioFrame**](https://msdn.microsoft.com/library/windows/apps/dn930871)-Objekts mit Audiodaten benötigen Sie Zugriff auf den zugrunde liegenden Speicherpuffer des Audioframes.</span><span class="sxs-lookup"><span data-stu-id="f5d66-226">To populate an [**AudioFrame**](https://msdn.microsoft.com/library/windows/apps/dn930871) with audio data, you must get access to the underlying memory buffer of the audio frame.</span></span> <span data-ttu-id="f5d66-227">Initialisieren Sie zu diesem Zweck die **IMemoryBufferByteAccess**-COM-Schnittstelle, indem Sie dem Namespace den folgenden Code hinzufügen.</span><span class="sxs-lookup"><span data-stu-id="f5d66-227">To do this you must initialize the **IMemoryBufferByteAccess** COM interface by adding the following code within your namespace.</span></span>

[!code-cs[ComImportIMemoryBufferByteAccess](./code/AudioGraph/cs/MainPage.xaml.cs#SnippetComImportIMemoryBufferByteAccess)]

<span data-ttu-id="f5d66-228">Der folgende Code zeigt ein Beispiel einer Implementierung der **GenerateAudioData**-Hilfsmethode, die ein [**AudioFrame**](https://msdn.microsoft.com/library/windows/apps/dn930871)-Objekt erstellt und dieses mit Audiodaten füllt.</span><span class="sxs-lookup"><span data-stu-id="f5d66-228">The following code shows an example implementation of a **GenerateAudioData** helper method that creates an [**AudioFrame**](https://msdn.microsoft.com/library/windows/apps/dn930871) and populates it with audio data.</span></span>

[!code-cs[GenerateAudioData](./code/AudioGraph/cs/MainPage.xaml.cs#SnippetGenerateAudioData)]

-   <span data-ttu-id="f5d66-229">Da diese Methode auf den Rohdatenpuffer zugreift, der Windows-Runtime-Typen zugrunde liegt, muss diese mithilfe des Schlüsselworts **unsafe** deklariert werden.</span><span class="sxs-lookup"><span data-stu-id="f5d66-229">Because this method accesses the raw buffer underlying the Windows Runtime types, it must be declared using the **unsafe** keyword.</span></span> <span data-ttu-id="f5d66-230">Außerdem müssen Sie das Projekt in Microsoft Visual Studio so konfigurieren, dass die Kompilierung von unsicherem Code zugelassen wird. Öffnen Sie hierfür die Seite **Eigenschaften** des Projekts, klicken Sie auf die Eigenschaftenseite **Build**, und aktivieren Sie das Kontrollkästchen **Unsicheren Code zulassen**.</span><span class="sxs-lookup"><span data-stu-id="f5d66-230">You must also configure your project in Microsoft Visual Studio to allow the compilation of unsafe code by opening the project's **Properties** page, clicking the **Build** property page, and selecting the **Allow Unsafe Code** checkbox.</span></span>
-   <span data-ttu-id="f5d66-231">Initialisieren Sie im **Windows.Media**-Namespace eine neue Instanz des [**AudioFrame**](https://msdn.microsoft.com/library/windows/apps/dn930871)-Objekts, indem Sie die gewünschte Puffergröße an den Konstruktor übergeben.</span><span class="sxs-lookup"><span data-stu-id="f5d66-231">Initialize a new instance of [**AudioFrame**](https://msdn.microsoft.com/library/windows/apps/dn930871), in the **Windows.Media** namespace, by passing in the desired buffer size to the constructor.</span></span> <span data-ttu-id="f5d66-232">Die Puffergröße ist die Sample-Anzahl multipliziert mit der Größe der einzelnen Sample.</span><span class="sxs-lookup"><span data-stu-id="f5d66-232">The buffer size is the number of samples multiplied by the size of each sample.</span></span>
-   <span data-ttu-id="f5d66-233">Rufen Sie das [**AudioBuffer**](https://msdn.microsoft.com/library/windows/apps/dn958454)-Objekt des Audioframes ab, indem Sie die [**LockBuffer**](https://msdn.microsoft.com/library/windows/apps/dn930878)-Methode aufrufen.</span><span class="sxs-lookup"><span data-stu-id="f5d66-233">Get the [**AudioBuffer**](https://msdn.microsoft.com/library/windows/apps/dn958454) of the audio frame by calling [**LockBuffer**](https://msdn.microsoft.com/library/windows/apps/dn930878).</span></span>
-   <span data-ttu-id="f5d66-234">Rufen Sie eine Instanz der [**IMemoryBufferByteAccess**](https://msdn.microsoft.com/library/windows/desktop/mt297505)-COM-Schnittstelle aus dem Audiopuffer ab, indem Sie [**CreateReference**](https://msdn.microsoft.com/library/windows/apps/dn958457) aufrufen.</span><span class="sxs-lookup"><span data-stu-id="f5d66-234">Get an instance of the [**IMemoryBufferByteAccess**](https://msdn.microsoft.com/library/windows/desktop/mt297505) COM interface from the audio buffer by calling [**CreateReference**](https://msdn.microsoft.com/library/windows/apps/dn958457).</span></span>
-   <span data-ttu-id="f5d66-235">Rufen Sie einen Zeiger auf die Rohdaten des Audiopuffers ab, indem Sie die [**IMemoryBufferByteAccess.GetBuffer**](https://msdn.microsoft.com/library/windows/desktop/mt297506)-Methode aufrufen und in den Beispieldatentyp der Audiodaten umwandeln.</span><span class="sxs-lookup"><span data-stu-id="f5d66-235">Get a pointer to raw audio buffer data by calling [**IMemoryBufferByteAccess.GetBuffer**](https://msdn.microsoft.com/library/windows/desktop/mt297506) and cast it to the sample data type of the audio data.</span></span>
-   <span data-ttu-id="f5d66-236">Füllen Sie den Puffer mit Daten, und geben Sie das [**AudioFrame**](https://msdn.microsoft.com/library/windows/apps/dn930871)-Objekt für die Übermittlung an das Audiodiagramm zurück.</span><span class="sxs-lookup"><span data-stu-id="f5d66-236">Fill the buffer with data and return the [**AudioFrame**](https://msdn.microsoft.com/library/windows/apps/dn930871) for submission into the audio graph.</span></span>

##  <a name="audio-frame-output-node"></a><span data-ttu-id="f5d66-237">Audioframe-Ausgabeknoten</span><span class="sxs-lookup"><span data-stu-id="f5d66-237">Audio frame output node</span></span>

<span data-ttu-id="f5d66-238">Mit einem Audioframe-Ausgabeknoten können Sie eine Audiodatenausgabe aus dem Audiodiagramm mit benutzerdefiniertem Code empfangen und verarbeiten.</span><span class="sxs-lookup"><span data-stu-id="f5d66-238">An audio frame output node allows you to receive and process audio data output from the audio graph with custom code that you create.</span></span> <span data-ttu-id="f5d66-239">Ein Beispielszenario hierfür ist das Durchführen einer Signalanalyse für die Audioausgabe.</span><span class="sxs-lookup"><span data-stu-id="f5d66-239">An example scenario for this is performing signal analysis on the audio output.</span></span> <span data-ttu-id="f5d66-240">Erstellen Sie ein [**AudioFrameOutputNode**](https://msdn.microsoft.com/library/windows/apps/dn914166)-Objekt, indem Sie die [**CreateFrameOutputNode**](https://msdn.microsoft.com/library/windows/apps/dn914233)-Methode aufrufen.</span><span class="sxs-lookup"><span data-stu-id="f5d66-240">Create an [**AudioFrameOutputNode**](https://msdn.microsoft.com/library/windows/apps/dn914166) by calling [**CreateFrameOutputNode**](https://msdn.microsoft.com/library/windows/apps/dn914233).</span></span>

[!code-cs[DeclareFrameOutputNode](./code/AudioGraph/cs/MainPage.xaml.cs#SnippetDeclareFrameOutputNode)]

[!code-cs[CreateFrameOutputNode](./code/AudioGraph/cs/MainPage.xaml.cs#SnippetCreateFrameOutputNode)]

<span data-ttu-id="f5d66-241">Das [**AudioGraph.QuantumStarted**](https://docs.microsoft.com/uwp/api/Windows.Media.Audio.AudioGraph.QuantumStarted)-Ereignis wird ausgelöst, wenn das Audiodiagramm mit der Verarbeitung eines Quantums von Audiodaten beginnt.</span><span class="sxs-lookup"><span data-stu-id="f5d66-241">The [**AudioGraph.QuantumStarted**](https://docs.microsoft.com/uwp/api/Windows.Media.Audio.AudioGraph.QuantumStarted) event is raised when the audio graph has begins processing a quantum of audio data.</span></span> <span data-ttu-id="f5d66-242">Sie können innerhalb des Handlers für dieses Ereignis auf die Audiodaten zugreifen.</span><span class="sxs-lookup"><span data-stu-id="f5d66-242">You can access the audio data from within the handler for this event.</span></span> 

> [!NOTE]
> <span data-ttu-id="f5d66-243">Wenn Sie Audioframes regelmäßig (mit dem Audiodiagramm synchronisiert) abrufen möchten, rufen Sie [AudioFrameOutputNode.GetFrame](https://docs.microsoft.com/uwp/api/windows.media.audio.audioframeoutputnode.GetFrame) von innerhalb des synchronen **QuantumStarted**-Ereignishandlers auf.</span><span class="sxs-lookup"><span data-stu-id="f5d66-243">If you want to retrieve audio frames on a regular cadence, synchronized with the audio graph, call [AudioFrameOutputNode.GetFrame](https://docs.microsoft.com/uwp/api/windows.media.audio.audioframeoutputnode.GetFrame) from within the synchronous **QuantumStarted** event handler.</span></span> <span data-ttu-id="f5d66-244">Das **QuantumProcessed**-Ereignis wird nach der Audioverarbeitung durch das Audiomodul asynchron ausgelöst, was bedeutet, dass der Rhythmus möglicherweise unregelmäßig ist.</span><span class="sxs-lookup"><span data-stu-id="f5d66-244">The **QuantumProcessed** event is raised asynchronously after the audio engine has completed audio processing, which means its cadence may be irregular.</span></span> <span data-ttu-id="f5d66-245">Aus diesem Grund sollten Sie das **QuantumProcessed**-Ereignis nicht für die synchronisierte Verarbeitung von Audioframedaten verwenden.</span><span class="sxs-lookup"><span data-stu-id="f5d66-245">Therefore you should not use the **QuantumProcessed** event for synchronized processing of audio frame data.</span></span>

[!code-cs[SnippetQuantumStartedFrameOutput](./code/AudioGraph/cs/MainPage.xaml.cs#SnippetQuantumStartedFrameOutput)]

-   <span data-ttu-id="f5d66-246">Rufen Sie die [**GetFrame**](https://msdn.microsoft.com/library/windows/apps/dn914171)-Methode auf, um ein mit Audiodaten gefülltes [**AudioFrame**](https://msdn.microsoft.com/library/windows/apps/dn930871)-Objekt mit Audiodaten aus dem Diagramm abzurufen.</span><span class="sxs-lookup"><span data-stu-id="f5d66-246">Call [**GetFrame**](https://msdn.microsoft.com/library/windows/apps/dn914171) to get an [**AudioFrame**](https://msdn.microsoft.com/library/windows/apps/dn930871) object filled with audio data from the graph.</span></span>
-   <span data-ttu-id="f5d66-247">Nachfolgend sehen Sie ein Beispiel einer Implementierung der **ProcessFrameOutput**-Hilfsmethode.</span><span class="sxs-lookup"><span data-stu-id="f5d66-247">An example implementation of the **ProcessFrameOutput** helper method is shown below.</span></span>

[!code-cs[ProcessFrameOutput](./code/AudioGraph/cs/MainPage.xaml.cs#SnippetProcessFrameOutput)]

-   <span data-ttu-id="f5d66-248">Wie in dem Beispiel oben für den Audioframe-Eingabeknoten müssen Sie die **IMemoryBufferByteAccess**-COM-Schnittstelle deklarieren und das Projekt so konfigurieren, dass unsicherer Code zugelassen wird, damit Sie auf den zugrunde liegenden Audiopuffer zugreifen können.</span><span class="sxs-lookup"><span data-stu-id="f5d66-248">Like the audio frame input node example above, you will need to declare the **IMemoryBufferByteAccess** COM interface and configure your project to allow unsafe code in order to access the underlying audio buffer.</span></span>
-   <span data-ttu-id="f5d66-249">Rufen Sie das [**AudioBuffer**](https://msdn.microsoft.com/library/windows/apps/dn958454)-Objekt des Audioframes ab, indem Sie die [**LockBuffer**](https://msdn.microsoft.com/library/windows/apps/dn930878)-Methode aufrufen.</span><span class="sxs-lookup"><span data-stu-id="f5d66-249">Get the [**AudioBuffer**](https://msdn.microsoft.com/library/windows/apps/dn958454) of the audio frame by calling [**LockBuffer**](https://msdn.microsoft.com/library/windows/apps/dn930878).</span></span>
-   <span data-ttu-id="f5d66-250">Rufen Sie eine Instanz der **IMemoryBufferByteAccess**-COM-Schnittstelle aus dem Audiopuffer ab, indem Sie [**CreateReference**](https://msdn.microsoft.com/library/windows/apps/dn958457) aufrufen.</span><span class="sxs-lookup"><span data-stu-id="f5d66-250">Get an instance of the **IMemoryBufferByteAccess** COM interface from the audio buffer by calling [**CreateReference**](https://msdn.microsoft.com/library/windows/apps/dn958457).</span></span>
-   <span data-ttu-id="f5d66-251">Rufen Sie einen Zeiger auf die Rohdaten des Audiopuffers ab, indem Sie die **IMemoryBufferByteAccess.GetBuffer**-Methode aufrufen und in den Beispieldatentyp der Audiodaten umwandeln.</span><span class="sxs-lookup"><span data-stu-id="f5d66-251">Get a pointer to raw audio buffer data by calling **IMemoryBufferByteAccess.GetBuffer** and cast it to the sample data type of the audio data.</span></span>

## <a name="node-connections-and-submix-nodes"></a><span data-ttu-id="f5d66-252">Knotenverbindungen und Submixknoten</span><span class="sxs-lookup"><span data-stu-id="f5d66-252">Node connections and submix nodes</span></span>

<span data-ttu-id="f5d66-253">Alle Eingabeknotentypen machen die **AddOutgoingConnection**-Methode verfügbar, die die vom Knoten produzierten Audiodaten an den Knoten weiterleitet, der an die Methode übergeben wird.</span><span class="sxs-lookup"><span data-stu-id="f5d66-253">All input nodes types expose the **AddOutgoingConnection** method that routes the audio produced by the node to the node that is passed into the method.</span></span> <span data-ttu-id="f5d66-254">Im folgenden Beispiel wird eine Verbindung zwischen [**AudioFileInputNode**](https://msdn.microsoft.com/library/windows/apps/dn914108) und [**AudioDeviceOutputNode**](https://msdn.microsoft.com/library/windows/apps/dn914098) hergestellt. Dabei handelt es sich um ein einfaches Setup für die Wiedergabe einer Audiodatei über den Lautsprecher des Geräts.</span><span class="sxs-lookup"><span data-stu-id="f5d66-254">The following example connects an [**AudioFileInputNode**](https://msdn.microsoft.com/library/windows/apps/dn914108) to an [**AudioDeviceOutputNode**](https://msdn.microsoft.com/library/windows/apps/dn914098), which is a simple setup for playing an audio file on the device's speaker.</span></span>

[!code-cs[AddOutgoingConnection1](./code/AudioGraph/cs/MainPage.xaml.cs#SnippetAddOutgoingConnection1)]

<span data-ttu-id="f5d66-255">Von einem Eingabeknoten können mehrere Verbindungen zu anderen Knoten erstellt werden.</span><span class="sxs-lookup"><span data-stu-id="f5d66-255">You can create more than one connection from an input node to other nodes.</span></span> <span data-ttu-id="f5d66-256">Im folgenden Beispiel wird eine Verbindung zwischen [**AudioFileInputNode**](https://msdn.microsoft.com/library/windows/apps/dn914108) und [**AudioFileOutputNode**](https://msdn.microsoft.com/library/windows/apps/dn914133) hinzugefügt.</span><span class="sxs-lookup"><span data-stu-id="f5d66-256">The following example adds another connection from the [**AudioFileInputNode**](https://msdn.microsoft.com/library/windows/apps/dn914108) to an [**AudioFileOutputNode**](https://msdn.microsoft.com/library/windows/apps/dn914133).</span></span> <span data-ttu-id="f5d66-257">Die Audiodaten aus der Audiodatei werden nun über den Lautsprecher des Geräts wiedergegeben und auch in eine Audiodatei geschrieben.</span><span class="sxs-lookup"><span data-stu-id="f5d66-257">Now, the audio from the audio file is played to the device's speaker and is also written out to an audio file.</span></span>

[!code-cs[AddOutgoingConnection2](./code/AudioGraph/cs/MainPage.xaml.cs#SnippetAddOutgoingConnection2)]

<span data-ttu-id="f5d66-258">Ausgabeknoten können auch mehrere Verbindungen von anderen Knoten empfangen.</span><span class="sxs-lookup"><span data-stu-id="f5d66-258">Output nodes can also receive more than one connection from other nodes.</span></span> <span data-ttu-id="f5d66-259">Im folgenden Beispiel wird eine Verbindung zwischen den Knoten [**AudioDeviceInputNode**](https://msdn.microsoft.com/library/windows/apps/dn914082) und [**AudioDeviceOutput**](https://msdn.microsoft.com/library/windows/apps/dn914098) hergestellt.</span><span class="sxs-lookup"><span data-stu-id="f5d66-259">In the following example a connection is made from a [**AudioDeviceInputNode**](https://msdn.microsoft.com/library/windows/apps/dn914082) to the [**AudioDeviceOutput**](https://msdn.microsoft.com/library/windows/apps/dn914098) node.</span></span> <span data-ttu-id="f5d66-260">Da der Ausgabeknoten Verbindungen vom Dateieingabeknoten und dem Geräteingabeknoten aufweist, enthält die Ausgabe eine Audiomischung aus beiden Quellen.</span><span class="sxs-lookup"><span data-stu-id="f5d66-260">Because the output node has connections from the file input node and the device input node, the output will contain a mix of audio from both sources.</span></span> <span data-ttu-id="f5d66-261">**AddOutgoingConnection** bietet eine Überladung, mit der Sie einen Verstärkungswert für das über die Verbindung laufende Signal angeben können.</span><span class="sxs-lookup"><span data-stu-id="f5d66-261">**AddOutgoingConnection** provides an overload that lets you specify a gain value for the signal passing through the connection.</span></span>

[!code-cs[AddOutgoingConnection3](./code/AudioGraph/cs/MainPage.xaml.cs#SnippetAddOutgoingConnection3)]

<span data-ttu-id="f5d66-262">Obwohl Ausgabeknoten Verbindungen von mehreren Knoten annehmen können, sollten Sie eine Zwischenmischung von Signalen von einem oder mehreren Knoten erstellen, bevor Sie die Mischung an eine Ausgabe übergeben.</span><span class="sxs-lookup"><span data-stu-id="f5d66-262">Although output nodes can accept connections from multiple nodes, you may want to create an intermediate mix of signals from one or more nodes before passing the mix to an output.</span></span> <span data-ttu-id="f5d66-263">Angenommen, Sie möchten die Ebene festlegen oder Effekte auf eine Untergruppe der Audiosignale in einem Diagramm anwenden.</span><span class="sxs-lookup"><span data-stu-id="f5d66-263">For example, you may want to set the level or apply effects to a subset of the audio signals in a graph.</span></span> <span data-ttu-id="f5d66-264">Verwenden Sie hierfür die [**AudioSubmixNode**](https://msdn.microsoft.com/library/windows/apps/dn914247)-Klasse.</span><span class="sxs-lookup"><span data-stu-id="f5d66-264">To do this, use the [**AudioSubmixNode**](https://msdn.microsoft.com/library/windows/apps/dn914247).</span></span> <span data-ttu-id="f5d66-265">Sie können keine Verbindung zu einem Submixknoten von einer oder mehreren Eingabeknoten oder anderen Submixknoten herstellen.</span><span class="sxs-lookup"><span data-stu-id="f5d66-265">You can connect to a submix node from one or more input nodes or other submix nodes.</span></span> <span data-ttu-id="f5d66-266">Im folgenden Beispiel wird ein neuer Submixknoten zu [**AudioGraph.CreateSubmixNode**](https://msdn.microsoft.com/library/windows/apps/dn914236) erstellt.</span><span class="sxs-lookup"><span data-stu-id="f5d66-266">In the following example, a new submix node is created with [**AudioGraph.CreateSubmixNode**](https://msdn.microsoft.com/library/windows/apps/dn914236).</span></span> <span data-ttu-id="f5d66-267">Anschließend werden Verbindungen von einem Dateiausgabeknoten und einem Frameausgabeknoten zum Submixknoten hinzugefügt.</span><span class="sxs-lookup"><span data-stu-id="f5d66-267">Then, connections are added from a file input node and a frame output node to the submix node.</span></span> <span data-ttu-id="f5d66-268">Schließlich wird der Submixknoten mit einem Dateiausgabeknoten verbunden.</span><span class="sxs-lookup"><span data-stu-id="f5d66-268">Finally, the submix node is connected to a file output node.</span></span>

[!code-cs[CreateSubmixNode](./code/AudioGraph/cs/MainPage.xaml.cs#SnippetCreateSubmixNode)]

## <a name="starting-and-stopping-audio-graph-nodes"></a><span data-ttu-id="f5d66-269">Starten und Beenden von Audiodiagrammknoten</span><span class="sxs-lookup"><span data-stu-id="f5d66-269">Starting and stopping audio graph nodes</span></span>

<span data-ttu-id="f5d66-270">Wenn die [**AudioGraph.Start**](https://msdn.microsoft.com/library/windows/apps/dn914244)-Methode aufgerufen wird, beginnt das Audiodiagramm mit der Verarbeitung der Audiodaten.</span><span class="sxs-lookup"><span data-stu-id="f5d66-270">When [**AudioGraph.Start**](https://msdn.microsoft.com/library/windows/apps/dn914244) is called, the audio graph begins processing audio data.</span></span> <span data-ttu-id="f5d66-271">Jeder Knoten umfasst eine **Start**- und **Stop**-Methode, die bewirken, dass der jeweilige Knoten die Verarbeitung von Daten beginnt oder beendet.</span><span class="sxs-lookup"><span data-stu-id="f5d66-271">Every node type provides **Start** and **Stop** methods that cause the individual node to start or stop processing data.</span></span> <span data-ttu-id="f5d66-272">Bei Aufruf der [**AudioGraph.Stop**](https://msdn.microsoft.com/library/windows/apps/dn914245)-Methode wird die gesamte Verarbeitung in allen Knoten unabhängig vom Status der einzelnen Knoten beendet. Der Status der einzelnen Knoten kann jedoch festgelegt werden, während das Audiodiagramm beendet wird.</span><span class="sxs-lookup"><span data-stu-id="f5d66-272">When [**AudioGraph.Stop**](https://msdn.microsoft.com/library/windows/apps/dn914245) is called, all audio processing in the all nodes is stopped regardless of the state of individual nodes, but the state of each node can be set while the audio graph is stopped.</span></span> <span data-ttu-id="f5d66-273">Sie können beispielsweise die **Stop**-Methode in einem einzelnen Knoten aufrufen, während das Diagramm beendet wird. Rufen Sie anschließend die **AudioGraph.Start**-Methode auf, damit der einzelne Knoten angehalten bleibt.</span><span class="sxs-lookup"><span data-stu-id="f5d66-273">For example, you could call **Stop** on an individual node while the graph is stopped and then call **AudioGraph.Start**, and the individual node will remain in the stopped state.</span></span>

<span data-ttu-id="f5d66-274">Mit allen Knotentypen wird die **ConsumeInput**-Eigenschaft verfügbar. Diese lest bei Festlegung auf „false“ zu, dass der Knoten die Audioverarbeitung fortsetzt. Gleichzeitig verhinder sie, dass Audiodaten von anderen Knoten verbraucht werden.</span><span class="sxs-lookup"><span data-stu-id="f5d66-274">All node types expose the **ConsumeInput** property that, when set to false, allows the node to continue audio processing but stops it from consuming any audio data being input from other nodes.</span></span>

<span data-ttu-id="f5d66-275">Mit allen Knotentypen wird die **Reset** -Methode verfügbar. Sie bewirkt, dass der Knoten alle Audiodaten löscht, die sich aktuell in seinem Puffer befinden.</span><span class="sxs-lookup"><span data-stu-id="f5d66-275">All node types expose the **Reset** method that causes the node to discard any audio data currently in its buffer.</span></span>

## <a name="adding-audio-effects"></a><span data-ttu-id="f5d66-276">Hinzufügen von Audioeffekten</span><span class="sxs-lookup"><span data-stu-id="f5d66-276">Adding audio effects</span></span>

<span data-ttu-id="f5d66-277">Mit der Audiodiagramm-API können Sie Audioeffekte zu jedem Knotentyp in einem Diagramm hinzufügen.</span><span class="sxs-lookup"><span data-stu-id="f5d66-277">The audio graph API allows you to add audio effects to every type of node in a graph.</span></span> <span data-ttu-id="f5d66-278">Ausgabeknoten, Eingabeknoten und Submixknoten können jeweils eine unbegrenzte Anzahl von Audioeffekten aufweisen. Eine Einschränkung erfolgt lediglich durch die Funktionen der Hardware. Im folgenden Beispiel ist das Hinzufügen des integrierten Echoeffekts zu einem Submixknoten dargestellt.</span><span class="sxs-lookup"><span data-stu-id="f5d66-278">Output nodes, input nodes, and submix nodes can each have an unlimited number of audio effects, limited only by the capabilities of the hardware.The following example demonstrates adding the built-in echo effect to a submix node.</span></span>

[!code-cs[AddEffect](./code/AudioGraph/cs/MainPage.xaml.cs#SnippetAddEffect)]

-   <span data-ttu-id="f5d66-279">Alle Audioeffekte implementieren die [**IAudioEffectDefinition**](https://msdn.microsoft.com/library/windows/apps/dn608044)-Schnittstelle.</span><span class="sxs-lookup"><span data-stu-id="f5d66-279">All audio effects implement [**IAudioEffectDefinition**](https://msdn.microsoft.com/library/windows/apps/dn608044).</span></span> <span data-ttu-id="f5d66-280">Mit jedem Knoten wird eine **EffectDefinitions**-Eigenschaft verfügbar, welche die Liste der auf diesen Knoten angewendeten Effekte darstellt.</span><span class="sxs-lookup"><span data-stu-id="f5d66-280">Every node exposes an **EffectDefinitions** property representing the list of effects applied to that node.</span></span> <span data-ttu-id="f5d66-281">Fügen Sie einen Effekt hinzu, indem Sie sein Definitionsobjekt zu der Liste hinzufügen.</span><span class="sxs-lookup"><span data-stu-id="f5d66-281">Add an effect by adding it's definition object to the list.</span></span>
-   <span data-ttu-id="f5d66-282">Es gibt mehrere Effektdefinitionsklassen, die im **Windows.Media.Audio**-Namespace bereitgestellt werden.</span><span class="sxs-lookup"><span data-stu-id="f5d66-282">There are several effect definition classes that are provided in the **Windows.Media.Audio** namespace.</span></span> <span data-ttu-id="f5d66-283">Dazu zählen:</span><span class="sxs-lookup"><span data-stu-id="f5d66-283">These include:</span></span>
    -   [**<span data-ttu-id="f5d66-284">EchoEffectDefinition</span><span class="sxs-lookup"><span data-stu-id="f5d66-284">EchoEffectDefinition</span></span>**](https://msdn.microsoft.com/library/windows/apps/dn914276)
    -   [**<span data-ttu-id="f5d66-285">EqualizerEffectDefinition</span><span class="sxs-lookup"><span data-stu-id="f5d66-285">EqualizerEffectDefinition</span></span>**](https://msdn.microsoft.com/library/windows/apps/dn914287)
    -   [**<span data-ttu-id="f5d66-286">LimiterEffectDefinition</span><span class="sxs-lookup"><span data-stu-id="f5d66-286">LimiterEffectDefinition</span></span>**](https://msdn.microsoft.com/library/windows/apps/dn914306)
    -   [**<span data-ttu-id="f5d66-287">ReverbEffectDefinition</span><span class="sxs-lookup"><span data-stu-id="f5d66-287">ReverbEffectDefinition</span></span>**](https://msdn.microsoft.com/library/windows/apps/dn914313)
-   <span data-ttu-id="f5d66-288">Sie können Ihre eigenen Audioeffekte zum Implementieren von [**IAudioEffectDefinition**](https://msdn.microsoft.com/library/windows/apps/dn608044) erstellen. Wenden Sie diese anschließend auf einen beliebigen Knoten in einem Audiodiagramm an.</span><span class="sxs-lookup"><span data-stu-id="f5d66-288">You can create your own audio effects that implement [**IAudioEffectDefinition**](https://msdn.microsoft.com/library/windows/apps/dn608044) and apply them to any node in an audio graph.</span></span>
-   <span data-ttu-id="f5d66-289">Mit jedem Knotentyp wird eine **DisableEffectsByDefinition**-Methode verfügbar, die alle Effekte in der **EffectDefinitions**-Liste des Knotens deaktiviert, die mithilfe der angegebenen Definition hinzugefügt wurden.</span><span class="sxs-lookup"><span data-stu-id="f5d66-289">Every node type exposes a **DisableEffectsByDefinition** method that disables all effects in the node's **EffectDefinitions** list that were added using the specified definition.</span></span> <span data-ttu-id="f5d66-290">**EnableEffectsByDefinition** aktiviert die Effekte mit der angegebenen Definition.</span><span class="sxs-lookup"><span data-stu-id="f5d66-290">**EnableEffectsByDefinition** enables the effects with the specified definition.</span></span>

## <a name="spatial-audio"></a><span data-ttu-id="f5d66-291">Räumliche Audiowiedergabe</span><span class="sxs-lookup"><span data-stu-id="f5d66-291">Spatial audio</span></span>
<span data-ttu-id="f5d66-292">Ab Windows 10, Version 1607, unterstützt **AudioGraph** die räumliche Audiowiedergabe. Dabei können Sie eine Position im dreidimensionalen Raum angeben, an der Audiodaten von einem Eingabe- oder Submixknoten ausgegeben werden.</span><span class="sxs-lookup"><span data-stu-id="f5d66-292">Starting with Windows 10, version 1607, **AudioGraph** supports spatial audio, which allows you to specify the location in 3D space from which audio from any input or submix node is emitted.</span></span> <span data-ttu-id="f5d66-293">Sie können auch eine Form und Richtung für die Audioausgabe angeben, eine Geschwindigkeit festlegen, die für die Dopplerverschiebung der Audiodaten des Knotens verwendet wird, und ein Abklingmodell definieren, das beschreibt, wie Klang mit zunehmender Entfernung gedämpft wird.</span><span class="sxs-lookup"><span data-stu-id="f5d66-293">You can also specify a shape and direction in which audio is emitted,a velocity that will be used to Doppler shift the node's audio, and define a decay model that describes how the audio is attenuated with distance.</span></span> 

<span data-ttu-id="f5d66-294">Um einen Emitter zu erstellen, können Sie zunächst eine Form definieren, in der der Sound vom Emitter projiziert wird. Die Klangausbreitung kann kegel- oder kugelförmig sein.</span><span class="sxs-lookup"><span data-stu-id="f5d66-294">To create an emitter, you can first create a shape in which the sound is projected from the emitter, which can be a cone or omnidirectional.</span></span> <span data-ttu-id="f5d66-295">Die [**AudioNodeEmitterShape**](https://msdn.microsoft.com/library/windows/apps/Windows.Media.Audio.AudioNodeEmitterShape)-Klasse bietet statische Methoden zum Erstellen dieser Formen.</span><span class="sxs-lookup"><span data-stu-id="f5d66-295">The [**AudioNodeEmitterShape**](https://msdn.microsoft.com/library/windows/apps/Windows.Media.Audio.AudioNodeEmitterShape) class provides static methods for creating each of these shapes.</span></span> <span data-ttu-id="f5d66-296">Als Nächstes erstellen Sie ein Abklingmodell.</span><span class="sxs-lookup"><span data-stu-id="f5d66-296">Next, create a decay model.</span></span> <span data-ttu-id="f5d66-297">Es definiert, wie die Lautstärke des vom Emitter ausgegebenen Sounds mit zunehmender Entfernung vom Listener (Zuhörer) abnimmt.</span><span class="sxs-lookup"><span data-stu-id="f5d66-297">This defines how the volume of the audio from the emitter decreases as the distance from the listener increases.</span></span> <span data-ttu-id="f5d66-298">Mit der [**CreateNatural**](https://msdn.microsoft.com/library/windows/apps/mt711740)-Methode wird ein Abklingmodell erstellt. Es emuliert das natürliche Abklingen von Sound anhand eines auf einem Abstandsquadrat basierten Abnahmemodells.</span><span class="sxs-lookup"><span data-stu-id="f5d66-298">The [**CreateNatural**](https://msdn.microsoft.com/library/windows/apps/mt711740) method creates a decay model that emulates the natural decay of sound using a distance squared falloff model.</span></span> <span data-ttu-id="f5d66-299">Erstellen Sie zuletzt ein [**AudioNodeEmitterSettings**](https://msdn.microsoft.com/library/windows/apps/Windows.Media.Audio.AudioNodeEmitterSettings)-Objekt.</span><span class="sxs-lookup"><span data-stu-id="f5d66-299">Finally, create an [**AudioNodeEmitterSettings**](https://msdn.microsoft.com/library/windows/apps/Windows.Media.Audio.AudioNodeEmitterSettings) object.</span></span> <span data-ttu-id="f5d66-300">Dieses Objekt wird derzeit nur zum Aktivieren und Deaktivieren der geschwindigkeitsbasierten Dopplerdämpfung der vom Emitter ausgegebenen Audiodaten verwendet.</span><span class="sxs-lookup"><span data-stu-id="f5d66-300">Currently, this object is only used to enable and disable velocity-based Doppler attenuation of the emitter's audio.</span></span> <span data-ttu-id="f5d66-301">Rufen Sie den [**AudioNodeEmitter**](https://msdn.microsoft.com/library/windows/apps/mt694324.aspx)-Konstruktor auf, und übergeben Sie die gerade erstellten Initialisierungsobjekte.</span><span class="sxs-lookup"><span data-stu-id="f5d66-301">Call the [**AudioNodeEmitter**](https://msdn.microsoft.com/library/windows/apps/mt694324.aspx) constructor, passing in the initialization objects you just created.</span></span> <span data-ttu-id="f5d66-302">Der Emitter wird standardmäßig am Ursprung positioniert, Sie können seine Position aber auch mit der [**Position**](https://msdn.microsoft.com/library/windows/apps/Windows.Media.Audio.AudioNodeEmitter.Position)-Eigenschaft festlegen.</span><span class="sxs-lookup"><span data-stu-id="f5d66-302">By default, the emitter is placed at the origin, but you can set the position of the emitter with the [**Position**](https://msdn.microsoft.com/library/windows/apps/Windows.Media.Audio.AudioNodeEmitter.Position) property.</span></span>

> [!NOTE]
> <span data-ttu-id="f5d66-303">Audioknotenemitter können nur Monoaudiodaten mit einer Abtastrate von 48 kHz verarbeiten.</span><span class="sxs-lookup"><span data-stu-id="f5d66-303">Audio node emitters can only process audio that is formatted in mono with a sample rate of 48kHz.</span></span> <span data-ttu-id="f5d66-304">Die Verwendung von Stereoaudiodaten oder Audio mit einer anderen Abtastrate führt zu einer Ausnahme.</span><span class="sxs-lookup"><span data-stu-id="f5d66-304">Attempting to use stereo audio or audio with a different sample rate will result in an exception.</span></span>

<span data-ttu-id="f5d66-305">Sie weisen den Emitter beim Erstellen einem Audioknoten zu, indem Sie die überladene Erstellungsmethode für den gewünschten Knotentyp verwenden.</span><span class="sxs-lookup"><span data-stu-id="f5d66-305">You assign the emitter to an audio node when you create it by using the overloaded creation method for the type of node you want.</span></span> <span data-ttu-id="f5d66-306">In diesem Beispiel wird [**CreateFileInputNodeAsync**](https://msdn.microsoft.com/library/windows/apps/dn914225) verwendet, um einen Dateieingabeknoten aus einer angegebenen Datei und das [**AudioNodeEmitter**](https://msdn.microsoft.com/library/windows/apps/Windows.Media.Audio.AudioNodeEmitter)-Objekt zu erstellen, das Sie dem Knoten zuordnen möchten.</span><span class="sxs-lookup"><span data-stu-id="f5d66-306">In this example, [**CreateFileInputNodeAsync**](https://msdn.microsoft.com/library/windows/apps/dn914225) is used to create a file input node from a specified file and the [**AudioNodeEmitter**](https://msdn.microsoft.com/library/windows/apps/Windows.Media.Audio.AudioNodeEmitter) object you want to associate with the node.</span></span>

[!code-cs[CreateEmitter](./code/AudioGraph/cs/MainPage.xaml.cs#SnippetCreateEmitter)]

<span data-ttu-id="f5d66-307">Die [**AudioDeviceOutputNode**](https://msdn.microsoft.com/library/windows/apps/Windows.Media.Audio.AudioDeviceOutputNode)-Klasse, die Audiodaten aus dem Diagramm für den Benutzer ausgibt, verfügt über ein Listener-Objekt, auf das mit der [**Listener**](https://msdn.microsoft.com/library/windows/apps/Windows.Media.Audio.AudioDeviceOutputNode.Listener)-Eigenschaft zugegriffen wird. Sie gibt die Position, Ausrichtung und Geschwindigkeit des Benutzers im dreidimensionalen Raum an.</span><span class="sxs-lookup"><span data-stu-id="f5d66-307">The [**AudioDeviceOutputNode**](https://msdn.microsoft.com/library/windows/apps/Windows.Media.Audio.AudioDeviceOutputNode) that outputs audio from the graph to the user has a listener object, accessed with the [**Listener**](https://msdn.microsoft.com/library/windows/apps/Windows.Media.Audio.AudioDeviceOutputNode.Listener) property, which represents the location, orientation, and velocity of the user in the 3D space.</span></span> <span data-ttu-id="f5d66-308">Die Positionen aller Emitter im Diagramm verhalten sich relativ zur Position und Ausrichtung des Emitterobjekts.</span><span class="sxs-lookup"><span data-stu-id="f5d66-308">The positions of all of the emitters in the graph are relative to the position and orientation of the emitter object.</span></span> <span data-ttu-id="f5d66-309">Der Listener befindet sich standardmäßig am Ursprung (0,0,0) und ist nach vorne entlang der Z-Achse ausgerichtet. Sie können die Position und Ausrichtung jedoch mit der [**Position**](https://msdn.microsoft.com/library/windows/apps/Windows.Media.Audio.AudioNodeListener.Position)-Eigenschaft und [**Orientation**](https://msdn.microsoft.com/library/windows/apps/Windows.Media.Audio.AudioNodeListener.Orientation)-Eigenschaft festlegen.</span><span class="sxs-lookup"><span data-stu-id="f5d66-309">By default, the listener is located at the origin (0,0,0) facing forward along the Z axis, but you can set it's position and orientation with the [**Position**](https://msdn.microsoft.com/library/windows/apps/Windows.Media.Audio.AudioNodeListener.Position) and [**Orientation**](https://msdn.microsoft.com/library/windows/apps/Windows.Media.Audio.AudioNodeListener.Orientation) properties.</span></span>

[!code-cs[Listener](./code/AudioGraph/cs/MainPage.xaml.cs#SnippetListener)]

<span data-ttu-id="f5d66-310">Sie können die Position, Geschwindigkeit und Richtung von Emittern zur Laufzeit aktualisieren, um die Bewegung einer Audioquelle durch den dreidimensionalen Raum zu simulieren.</span><span class="sxs-lookup"><span data-stu-id="f5d66-310">You can update the location, velocity, and direction of emitters at runtime to simulate the movement of an audio source through 3D space.</span></span>

[!code-cs[UpdateEmitter](./code/AudioGraph/cs/MainPage.xaml.cs#SnippetUpdateEmitter)]

<span data-ttu-id="f5d66-311">Sie können auch die Position, Geschwindigkeit und Ausrichtung des Listener-Objekts zur Laufzeit aktualisieren, um die Bewegung des Benutzers durch den dreidimensionalen Raum zu simulieren.</span><span class="sxs-lookup"><span data-stu-id="f5d66-311">You can also update the location, velocity, and orientation of the listener object at runtime to simulate the movement of the user through 3D space.</span></span>

[!code-cs[UpdateListener](./code/AudioGraph/cs/MainPage.xaml.cs#SnippetUpdateListener)]

<span data-ttu-id="f5d66-312">Die räumliche Audiowiedergabe wird standardmäßig mit dem HRTF-Algorithmus (Head-relative Transfer Function, kopfbezogene Übertragungsfunktion) von Microsoft berechnet, um die Audiowiedergabe basierend auf der Form, Geschwindigkeit und Position relativ zum Listener zu dämpfen.</span><span class="sxs-lookup"><span data-stu-id="f5d66-312">By default, spatial audio is calculated using Microsoft's head-relative transfer function (HRTF) algorithm to attenuate the audio based on its shape, velocity, and position relative to the listener.</span></span> <span data-ttu-id="f5d66-313">Sie können die [**SpatialAudioModel**](https://msdn.microsoft.com/library/windows/apps/Windows.Media.Audio.AudioNodeEmitter.SpatialAudioModel)-Eigenschaft auf **FoldDown** festlegen, um eine einfache Stereomischmethode zum Simulieren der räumlichen Audiowiedergabe zu verwenden. Diese ist zwar weniger genau, erfordert dafür aber weniger CPU-Leistung und Arbeitsspeicher.</span><span class="sxs-lookup"><span data-stu-id="f5d66-313">You can set the [**SpatialAudioModel**](https://msdn.microsoft.com/library/windows/apps/Windows.Media.Audio.AudioNodeEmitter.SpatialAudioModel) property to **FoldDown** to use a simple stereo mix method of simulating spatial audio that is less accurate but requires less CPU and memory resources.</span></span>

## <a name="see-also"></a><span data-ttu-id="f5d66-314">Weitere Informationen</span><span class="sxs-lookup"><span data-stu-id="f5d66-314">See also</span></span>
- [<span data-ttu-id="f5d66-315">Medienwiedergabe</span><span class="sxs-lookup"><span data-stu-id="f5d66-315">Media playback</span></span>](media-playback.md)
 

 




