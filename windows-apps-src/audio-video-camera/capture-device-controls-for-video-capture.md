---
ms.assetid: 708170E1-777A-4E4A-9F77-5AB28B88B107
description: In diesem Artikel wird beschrieben, wie Sie manuelle Gerätesteuerelemente verwenden, um erweiterte Videoaufnahmeszenarien, z.B. HDR-Video und Belichtungspriorität, zu ermöglichen.
title: Manuelle Kamerasteuerelemente für die Videoaufnahme
ms.date: 02/08/2017
ms.topic: article
keywords: Windows10, UWP
ms.localizationpriority: medium
ms.openlocfilehash: f144ef398fc55e79d2f0190c61214cdf1aa93b68
ms.sourcegitcommit: c01c29cd97f1cbf050950526e18e15823b6a12a0
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 12/05/2018
ms.locfileid: "8689999"
---
# <a name="manual-camera-controls-for-video-capture"></a><span data-ttu-id="f0c5b-104">Manuelle Kamerasteuerelemente für die Videoaufnahme</span><span class="sxs-lookup"><span data-stu-id="f0c5b-104">Manual camera controls for video capture</span></span>



<span data-ttu-id="f0c5b-105">In diesem Artikel wird beschrieben, wie Sie manuelle Gerätesteuerelemente verwenden, um erweiterte Videoaufnahmeszenarien, z.B. HDR-Video und Belichtungspriorität, zu ermöglichen.</span><span class="sxs-lookup"><span data-stu-id="f0c5b-105">This article shows you how to use manual device controls to enable enhanced video capture scenarios, including HDR video and exposure priority.</span></span>

<span data-ttu-id="f0c5b-106">Die in diesem Artikel beschriebenen Steuerelemente des Videoaufnahmegeräts werden Ihrer App alle mithilfe desselben Musters hinzugefügt.</span><span class="sxs-lookup"><span data-stu-id="f0c5b-106">The video device controls discussed in this article are all added to your app by using the same pattern.</span></span> <span data-ttu-id="f0c5b-107">Überprüfen Sie zunächst, ob das Steuerelement auf dem aktuellen Gerät unterstützt wird, auf dem Ihre App ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="f0c5b-107">First, check to see if the control is supported on the current device on which your app is running.</span></span> <span data-ttu-id="f0c5b-108">Wenn das Steuerelement unterstützt wird, legen Sie den gewünschten Modus für das Steuerelement fest.</span><span class="sxs-lookup"><span data-stu-id="f0c5b-108">If the control is supported, set the desired mode for the control.</span></span> <span data-ttu-id="f0c5b-109">Wenn ein bestimmtes Steuerelement auf dem aktuellen Gerät nicht unterstützt wird, sollten Sie das UI-Element, über das der Benutzer das Feature aktivieren kann, deaktivieren oder ausblenden.</span><span class="sxs-lookup"><span data-stu-id="f0c5b-109">Typically, if a particular control is unsupported on the current device, you should disable or hide the UI element that allows the user to enable the feature.</span></span>

<span data-ttu-id="f0c5b-110">Alle in diesem Artikel beschriebenen Gerätesteuerelement-APIs gehören dem [**Windows.Media.Devices**](https://msdn.microsoft.com/library/windows/apps/br206902)-Namespace an.</span><span class="sxs-lookup"><span data-stu-id="f0c5b-110">All of the device control APIs discussed in this article are members of the [**Windows.Media.Devices**](https://msdn.microsoft.com/library/windows/apps/br206902) namespace.</span></span>

[!code-cs[VideoControllersUsing](./code/BasicMediaCaptureWin10/cs/MainPage.xaml.cs#SnippetVideoControllersUsing)]

> [!NOTE] 
> <span data-ttu-id="f0c5b-111">Dieser Artikel baut auf Konzepten und Codebeispielen auf, die unter [Allgemeine Foto-, Video- und Audioaufnahme mit „MediaCapture“](basic-photo-video-and-audio-capture-with-MediaCapture.md) erläutert werden. Dort werden die Schritte für die Implementierung einer grundlegenden Foto- und Videoaufnahme beschrieben.</span><span class="sxs-lookup"><span data-stu-id="f0c5b-111">This article builds on concepts and code discussed in [Basic photo, video, and audio capture with MediaCapture](basic-photo-video-and-audio-capture-with-MediaCapture.md), which describes the steps for implementing basic photo and video capture.</span></span> <span data-ttu-id="f0c5b-112">Wir empfehlen Ihnen, sich mit dem grundlegenden Medienaufnahmemuster in diesem Artikel vertraut zu machen, bevor Sie sich komplexeren Aufnahmeszenarien zuwenden.</span><span class="sxs-lookup"><span data-stu-id="f0c5b-112">We recommend that you familiarize yourself with the basic media capture pattern in that article before moving on to more advanced capture scenarios.</span></span> <span data-ttu-id="f0c5b-113">Bei dem Code in diesem Artikel wird davon ausgegangen, dass Ihre App bereits eine Instanz von MediaCapture aufweist, die ordnungsgemäß initialisiert wurde.</span><span class="sxs-lookup"><span data-stu-id="f0c5b-113">The code in this article assumes that your app already has an instance of MediaCapture that has been properly initialized.</span></span>

## <a name="hdr-video"></a><span data-ttu-id="f0c5b-114">HDR-Video</span><span class="sxs-lookup"><span data-stu-id="f0c5b-114">HDR video</span></span>

<span data-ttu-id="f0c5b-115">Die Videofunktion „High Dynamic Range“ (HDR) bezieht sich auf die HDR-Verarbeitung des Videostreams des Aufnahmegeräts.</span><span class="sxs-lookup"><span data-stu-id="f0c5b-115">The high dynamic range (HDR) video feature applies HDR processing to the video stream of the capture device.</span></span> <span data-ttu-id="f0c5b-116">Ermitteln Sie, ob HDR-Video unterstützt wird, indem Sie die [**HdrVideoControl.Supported**](https://msdn.microsoft.com/library/windows/apps/dn926682)-Eigenschaft auswählen.</span><span class="sxs-lookup"><span data-stu-id="f0c5b-116">Determine if HDR video is supported by selecting the [**HdrVideoControl.Supported**](https://msdn.microsoft.com/library/windows/apps/dn926682) property.</span></span>

<span data-ttu-id="f0c5b-117">Das HDR-Videosteuerelement unterstützt drei Modi: ein, aus und automatisch. Dies bedeutet, dass das Gerät dynamisch ermittelt, ob die Medienaufnahme durch die HDR-Videoverarbeitung verbessert wird, und HDR-Video aktiviert, wenn dies der Fall ist.</span><span class="sxs-lookup"><span data-stu-id="f0c5b-117">The HDR video control supports three modes: on, off, and automatic, which means that the device dynamically determines if HDR video processing would improve the media capture and, if so, enables HDR video.</span></span> <span data-ttu-id="f0c5b-118">Um festzustellen, ob ein bestimmter Modus auf dem aktuellen Gerät unterstützt wird, überprüfen Sie, ob die [**HdrVideoControl.SupportedModes**](https://msdn.microsoft.com/library/windows/apps/dn926683)-Auflistung den gewünschten Modus enthält.</span><span class="sxs-lookup"><span data-stu-id="f0c5b-118">To determine if a particular mode is supported on the current device, check to see if the [**HdrVideoControl.SupportedModes**](https://msdn.microsoft.com/library/windows/apps/dn926683) collection contains the desired mode.</span></span>

<span data-ttu-id="f0c5b-119">Aktivieren oder deaktivieren Sie die HDR-Videoverarbeitung, in dem Sie [**HdrVideoControl.Mode**](https://msdn.microsoft.com/library/windows/apps/dn926681) auf den gewünschten Modus festlegen.</span><span class="sxs-lookup"><span data-stu-id="f0c5b-119">Enable or disable HDR video processing by setting the [**HdrVideoControl.Mode**](https://msdn.microsoft.com/library/windows/apps/dn926681) to the desired mode.</span></span>

[!code-cs[SetHdrVideoMode](./code/BasicMediaCaptureWin10/cs/MainPage.xaml.cs#SnippetSetHdrVideoMode)]

## <a name="exposure-priority"></a><span data-ttu-id="f0c5b-120">Belichtungspriorität</span><span class="sxs-lookup"><span data-stu-id="f0c5b-120">Exposure priority</span></span>

<span data-ttu-id="f0c5b-121">Wenn [**ExposurePriorityVideoControl**](https://msdn.microsoft.com/library/windows/apps/dn926644) aktiviert ist, werden die Videoframes des Aufnahmegeräts ausgewertet, um zu bestimmen, ob in dem Video ein Motiv unter schlechten Lichtverhältnissen aufgenommen wird.</span><span class="sxs-lookup"><span data-stu-id="f0c5b-121">The [**ExposurePriorityVideoControl**](https://msdn.microsoft.com/library/windows/apps/dn926644), when enabled, evaluates the video frames from the capture device to determine if the video is capturing a low-light scene.</span></span> <span data-ttu-id="f0c5b-122">Wenn dies der Fall ist, verringert das Steuerelement die Bildfrequenz des aufgenommenen Videos, um die Belichtungszeit für jeden Frame zu erhöhen und die visuelle Qualität des aufgenommenen Videos zu verbessern.</span><span class="sxs-lookup"><span data-stu-id="f0c5b-122">If so, the control lowers the frame rate of the captured video in order to increase the exposure time for each frame and improve the visual quality of the captured video.</span></span>

<span data-ttu-id="f0c5b-123">Ermitteln Sie, ob das Steuerelement für die Belichtungspriorität auf dem aktuellen Gerät unterstützt wird, indem Sie die [**ExposurePriorityVideoControl.Supported**](https://msdn.microsoft.com/library/windows/apps/dn926647)-Eigenschaft überprüfen.</span><span class="sxs-lookup"><span data-stu-id="f0c5b-123">Determine if the exposure priority control is supported on the current device by checking the [**ExposurePriorityVideoControl.Supported**](https://msdn.microsoft.com/library/windows/apps/dn926647) property.</span></span>

<span data-ttu-id="f0c5b-124">Aktivieren oder deaktivieren Sie das Steuerelement für die Belichtungspriorität, indem Sie [**ExposurePriorityVideoControl.Enabled**](https://msdn.microsoft.com/library/windows/apps/dn926646) auf den gewünschten Modus festlegen.</span><span class="sxs-lookup"><span data-stu-id="f0c5b-124">Enable or disable the exposure priority control by setting the [**ExposurePriorityVideoControl.Enabled**](https://msdn.microsoft.com/library/windows/apps/dn926646) to the desired mode.</span></span>

[!code-cs[EnableExposurePriority](./code/BasicMediaCaptureWin10/cs/MainPage.xaml.cs#SnippetEnableExposurePriority)]

## <a name="temporal-denoising"></a><span data-ttu-id="f0c5b-125">Temporäre Entstörung</span><span class="sxs-lookup"><span data-stu-id="f0c5b-125">Temporal denoising</span></span>
<span data-ttu-id="f0c5b-126">Ab Windows10, Version 1803, können Sie die temporäre Entstörung für Videos auf Geräten verwenden, die dies unterstützen.</span><span class="sxs-lookup"><span data-stu-id="f0c5b-126">Starting with Windows 10, version 1803, you can enable temporal denoising for video on devices that support it.</span></span> <span data-ttu-id="f0c5b-127">Dieses Feature fixiert die Bilddaten aus mehreren benachbarten Frames in Echtzeit, und produziert Video-Frames mit weniger visuellen Störungen.</span><span class="sxs-lookup"><span data-stu-id="f0c5b-127">This feature fuses the image data from multiple adjacent frames in real time to produce video frames that have less visual noise.</span></span>

<span data-ttu-id="f0c5b-128">Mit [**VideoTemporalDenoisingControl**](https://docs.microsoft.com/uwp/api/windows.media.devices.videotemporaldenoisingcontrol) kann Ihre App bestimmen, ob die temporäre Entstörung auf dem aktuellen Gerät unterstützt wird und wenn Ja, welche temporäre Entstörungsmodi unterstützt werden.</span><span class="sxs-lookup"><span data-stu-id="f0c5b-128">The [**VideoTemporalDenoisingControl**](https://docs.microsoft.com/uwp/api/windows.media.devices.videotemporaldenoisingcontrol) allows your app to determine if temporal denoising is supported on the current device, and if so, which denoising modes are supported.</span></span> <span data-ttu-id="f0c5b-129">Die verfügbaren Entstörungsmodi sind [**Aus**](https://docs.microsoft.com/uwp/api/windows.media.devices.videotemporaldenoisingmode), [**Ein**](https://docs.microsoft.com/uwp/api/windows.media.devices.videotemporaldenoisingmode), [**Auto**](https://docs.microsoft.com/uwp/api/windows.media.devices.videotemporaldenoisingmode). Ein Gerät unterstützt möglicherweise nicht alle Modi, aber auf allen Geräten muss entweder **Auto** oder **Ein** und **Aus** vorhanden sein.</span><span class="sxs-lookup"><span data-stu-id="f0c5b-129">The available denoising modes are [**Off**](https://docs.microsoft.com/uwp/api/windows.media.devices.videotemporaldenoisingmode), [**On**](https://docs.microsoft.com/uwp/api/windows.media.devices.videotemporaldenoisingmode), and [**Auto**](https://docs.microsoft.com/uwp/api/windows.media.devices.videotemporaldenoisingmode). A device may not support all modes, but every device must support either **Auto** or **On** and **Off**.</span></span>

<span data-ttu-id="f0c5b-130">Das folgende Beispiel verwendet eine einfache Benutzeroberfläche für Optionsfelder, damit der Benutzer zwischen den Entstörungsmodi wechseln kann.</span><span class="sxs-lookup"><span data-stu-id="f0c5b-130">The following example uses a simple UI to provide radio buttons allowing the user to switch between denoising modes.</span></span>

[!code-cs[SnippetDenoiseXAML](./code/BasicMediaCaptureWin10/cs/MainPage.xaml#SnippetDenoiseXAML)]

<span data-ttu-id="f0c5b-131">In der folgenden Methode ist die Eigenschaft [**VideoTemporalDenoisingControl.Supported**](https://docs.microsoft.com/uwp/api/windows.media.devices.videotemporaldenoisingcontrol.supported) festgelegt, um festzustellen, ob die temporäre Entstörung überhaupt auf dem aktuellen Gerät unterstützt wird.</span><span class="sxs-lookup"><span data-stu-id="f0c5b-131">In the following method, the [**VideoTemporalDenoisingControl.Supported**](https://docs.microsoft.com/uwp/api/windows.media.devices.videotemporaldenoisingcontrol.supported) property is checked to see if temporal denoising is supported at all on the current device.</span></span> <span data-ttu-id="f0c5b-132">Wenn Ja, überprüfen Sie, dass **Aus** und **Auto** oder **Ein** unterstützt werden. In diesem Fall machen wir unsere Optionsfelder sichtbar.</span><span class="sxs-lookup"><span data-stu-id="f0c5b-132">If so, then we check to make sure that **Off** and **Auto** or **On** is supported, in which case we make our radio buttons visible.</span></span> <span data-ttu-id="f0c5b-133">Als Nächstes werden die Schaltflächen **Auto** und **Ein** eingeblendet, wenn diese Methoden unterstützt werden.</span><span class="sxs-lookup"><span data-stu-id="f0c5b-133">Next, the **Auto** and **On** buttons are made visible if those methods are supported.</span></span>

[!code-cs[SnippetUpdateDenoiseCapabilities](./code/BasicMediaCaptureWin10/cs/MainPage.ManualControls.xaml.cs#SnippetUpdateDenoiseCapabilities)]

<span data-ttu-id="f0c5b-134">Im **Checked**-Ereignishandler für die Optionsfelder ist der Namen der Schaltfläche aktiviert und der entsprechende Modus festgelegt, indem die [**VideoTemporalDenoisingControl.Mode**](https://docs.microsoft.com/uwp/api/windows.media.devices.videotemporaldenoisingcontrol.mode)-Eigenschaft festgelegt wird.</span><span class="sxs-lookup"><span data-stu-id="f0c5b-134">In the **Checked** event handler for the radio buttons, the name of the button is checked and the corresponding mode is set by setting the [**VideoTemporalDenoisingControl.Mode**](https://docs.microsoft.com/uwp/api/windows.media.devices.videotemporaldenoisingcontrol.mode) property.</span></span>

[!code-cs[SnippetDenoiseButtonChecked](./code/BasicMediaCaptureWin10/cs/MainPage.ManualControls.xaml.cs#SnippetDenoiseButtonChecked)]

### <a name="disabling-temporal-denoising-while-processing-frames"></a><span data-ttu-id="f0c5b-135">Deaktivieren der temporären Entstörung bei der Verarbeitung von Frames</span><span class="sxs-lookup"><span data-stu-id="f0c5b-135">Disabling temporal denoising while processing frames</span></span>
<span data-ttu-id="f0c5b-136">Video, das mit der temporären Entstörung verarbeitet wurde, kann für das menschliche Auge ansprechender wirken.</span><span class="sxs-lookup"><span data-stu-id="f0c5b-136">Video that has been processed using temporal denoising can be more pleasing to the human eye.</span></span> <span data-ttu-id="f0c5b-137">Da die temporäre Entstörung sich auf die Konsistenz der Bilder auswirken kann und die Details der Frame verringern kann, können Apps, die Bildverarbeitung der Frames durchführen wie z.B. die Registrierung oder optische Zeichenerkennung, die Entstörung programmgesteuert deaktivieren, wenn die Bildverarbeitung aktiviert ist.</span><span class="sxs-lookup"><span data-stu-id="f0c5b-137">However, because temporal denoising can impact image consistency and decrease the amount of details in the frame, apps that perform image processing on the frames, such as registration or optical character recognition, may want to programmatically disable denoising when image processing is enabled.</span></span>

<span data-ttu-id="f0c5b-138">Im folgenden Beispiel wird bestimmt, welche Entstörungsmodi unterstützt werden. Diese Informationen werden in einigen Klassenvariablen gespeichert.</span><span class="sxs-lookup"><span data-stu-id="f0c5b-138">The following example determines which denoising modes are supported and stores this information in some class variables.</span></span>

[!code-cs[SnippetDenoiseFrameReaderVars](./code/BasicMediaCaptureWin10/cs/MainPage.ManualControls.xaml.cs#SnippetDenoiseFrameReaderVars)]

[!code-cs[SnippetDenoiseCapabilitiesForFrameProcessing](./code/BasicMediaCaptureWin10/cs/MainPage.ManualControls.xaml.cs#SnippetDenoiseCapabilitiesForFrameProcessing)]

<span data-ttu-id="f0c5b-139">Wenn die App die Frameverarbeitung aktiviert, wird der Entstörungsmodus auf **Aus** festgelegt, wenn dieser Modus unterstützt wird, damit die Frameverarbeitung unformatierte Frames ohne Entstörungsmodus verwenden kann.</span><span class="sxs-lookup"><span data-stu-id="f0c5b-139">When the app enables frame processing, it sets the denoising mode to **Off** if that mode is supported so that the frame processing can use raw frames that have not been denoised.</span></span>

[!code-cs[SnippetEnableFrameProcessing](./code/BasicMediaCaptureWin10/cs/MainPage.ManualControls.xaml.cs#SnippetEnableFrameProcessing)]

<span data-ttu-id="f0c5b-140">Wenn die App die Bildverarbeitung deaktiviert, wird der Entstörungsmodus auf **Ein** oder **Auto** festgelegt, je nachdem, welcher Modus unterstützt wird.</span><span class="sxs-lookup"><span data-stu-id="f0c5b-140">When the app disables frame prcessing, it sets the denoising mode to **On** or **Auto**, depending on which mode is supported.</span></span>

[!code-cs[SnippetDisableFrameProcessing](./code/BasicMediaCaptureWin10/cs/MainPage.ManualControls.xaml.cs#SnippetDisableFrameProcessing)]

<span data-ttu-id="f0c5b-141">Weitere Informationen über das Abrufen von Videoframes für die Bildverarbeitung finden Sie unter [Verarbeiten von Medienframes mit "MediaFrameReader"](process-media-frames-with-mediaframereader.md).</span><span class="sxs-lookup"><span data-stu-id="f0c5b-141">For more information on obtaining video frames for image processing, see [Process media frames with MediaFrameReader](process-media-frames-with-mediaframereader.md).</span></span>

## <a name="related-topics"></a><span data-ttu-id="f0c5b-142">Verwandte Themen</span><span class="sxs-lookup"><span data-stu-id="f0c5b-142">Related topics</span></span>

* [<span data-ttu-id="f0c5b-143">Kamera</span><span class="sxs-lookup"><span data-stu-id="f0c5b-143">Camera</span></span>](camera.md)
* [<span data-ttu-id="f0c5b-144">Allgemeine Foto-, Video- und Audioaufnahme mit MediaCapture</span><span class="sxs-lookup"><span data-stu-id="f0c5b-144">Basic photo, video, and audio capture with MediaCapture</span></span>](basic-photo-video-and-audio-capture-with-MediaCapture.md)
* [<span data-ttu-id="f0c5b-145">Verarbeiten von Medienframes mit „MediaFrameReader“</span><span class="sxs-lookup"><span data-stu-id="f0c5b-145">Process media frames with MediaFrameReader</span></span>](process-media-frames-with-mediaframereader.md)
*  [**<span data-ttu-id="f0c5b-146">VideoTemporalDenoisingControl</span><span class="sxs-lookup"><span data-stu-id="f0c5b-146">VideoTemporalDenoisingControl</span></span>**](https://docs.microsoft.com/uwp/api/windows.media.devices.videotemporaldenoisingcontrol)
 




