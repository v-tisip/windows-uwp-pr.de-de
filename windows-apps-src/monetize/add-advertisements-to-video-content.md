---
author: Xansky
ms.assetid: cc24ba75-a185-4488-b70c-fd4078bc4206
description: Hier erfahren Sie, wie Sie die AdScheduler-Klasse verwenden, um Anzeigen in Videoinhalten anzuzeigen.
title: Anzeigen von Werbung in Videoinhalten
ms.author: mhopkins
ms.date: 03/22/2018
ms.topic: article
keywords: Windows10, UWP, Anzeigen, Werbung, Video, Planer, JavaScript
ms.localizationpriority: medium
ms.openlocfilehash: 158817aa0abea1ddb1247188ec69389a7682e899
ms.sourcegitcommit: 6cc275f2151f78db40c11ace381ee2d35f0155f9
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 10/26/2018
ms.locfileid: "5556237"
---
# <a name="show-ads-in-video-content"></a><span data-ttu-id="64516-104">Anzeigen von Werbung in Videoinhalten</span><span class="sxs-lookup"><span data-stu-id="64516-104">Show ads in video content</span></span>

<span data-ttu-id="64516-105">In dieser exemplarischen Vorgehensweise wird veranschaulicht, wie Sie die **AdScheduler**-Klasse zum Anzeigen von Videoinhalten in einer App für die universelle Windows-Plattform (UWP) verwenden, die mit JavaScript und HTML geschrieben wurde.</span><span class="sxs-lookup"><span data-stu-id="64516-105">This walkthrough shows how to use the **AdScheduler** class to show ads in video content in a Universal Windows Platform (UWP) app that was written using JavaScript with HTML.</span></span>

> [!NOTE]
> <span data-ttu-id="64516-106">Diese Funktion wird derzeit nur für UWP-Apps unterstützt, die mit JavaScript und HTML geschrieben werden.</span><span class="sxs-lookup"><span data-stu-id="64516-106">This feature is currently supported only for UWP apps that are written using JavaScript with HTML.</span></span>

<span data-ttu-id="64516-107">**AdScheduler** funktioniert mit progressiven Medien und Streamingmedien und nutzt Video Ad Serving Template (VAST) 2.0/3.0 nach IAB-Standard und VMAP-Nutzlastformate.</span><span class="sxs-lookup"><span data-stu-id="64516-107">**AdScheduler** works with both progressive and streaming media, and uses IAB standard Video Ad Serving Template (VAST) 2.0/3.0 and VMAP payload formats.</span></span> <span data-ttu-id="64516-108">Durch die Verwendung von Standards ist **AdScheduler** agnostisch gegenüber dem Anzeigendienst, mit dem die Interaktion erfolgt.</span><span class="sxs-lookup"><span data-stu-id="64516-108">By using standards, **AdScheduler** is agnostic to the ad service with which it interacts.</span></span>

<span data-ttu-id="64516-109">Werbung für Videoinhalte variiert in Abhängigkeit davon, ob das Programm kürzer als zehn Minuten (kurzes Format) oder länger als zehn Minuten (langes Format) ist.</span><span class="sxs-lookup"><span data-stu-id="64516-109">Advertising for video content differs based upon whether the program is under ten minutes (short form), or over ten minutes (long form).</span></span> <span data-ttu-id="64516-110">Die Einrichtung des letzteren Formats für den Dienst ist zwar komplizierter, aber es besteht eigentlich kein Unterschied darin, wie der clientseitige Code geschrieben wird.</span><span class="sxs-lookup"><span data-stu-id="64516-110">Although the latter is more complicated to set up on the service, there is actually no difference in how one writes the client side code.</span></span> <span data-ttu-id="64516-111">Wenn **AdScheduler** eine VAST-Nutzlast mit einer einzelnen Werbeanzeige anstelle eines Manifests empfängt, wird dies so behandelt, als ob das Manifest eine einzelne Pre-Roll-Anzeige (eine Unterbrechung bei 00:00) aufgerufen hat.</span><span class="sxs-lookup"><span data-stu-id="64516-111">If the **AdScheduler** receives a VAST payload with a single ad instead of a manifest, it is treated as if the manifest called for a single pre-roll ad (one break at time 00:00).</span></span>

## <a name="prerequisites"></a><span data-ttu-id="64516-112">Voraussetzungen</span><span class="sxs-lookup"><span data-stu-id="64516-112">Prerequisites</span></span>

* <span data-ttu-id="64516-113">Installieren Sie das [Microsoft Advertising-SDK](http://aka.ms/ads-sdk-uwp) mit Visual Studio2015 oder einer neueren Version.</span><span class="sxs-lookup"><span data-stu-id="64516-113">Install the [Microsoft Advertising SDK](http://aka.ms/ads-sdk-uwp) with Visual Studio 2015 or a later release.</span></span>

* <span data-ttu-id="64516-114">In Ihrem Projekt muss das [MediaPlayer](https://github.com/Microsoft/TVHelpers/wiki/MediaPlayer-Overview)-Steuerelement verwendet werden, um die Videoinhalte bereitstellen zu können, für die die Anzeigen eingeplant werden.</span><span class="sxs-lookup"><span data-stu-id="64516-114">Your project must use the [MediaPlayer](https://github.com/Microsoft/TVHelpers/wiki/MediaPlayer-Overview) control to serve the video content in which the ads will be scheduled.</span></span> <span data-ttu-id="64516-115">Dieses Steuerelement ist in der Bibliotheksammlung [TVHelpers](https://github.com/Microsoft/TVHelpers) von Microsoft auf GitHub verfügbar.</span><span class="sxs-lookup"><span data-stu-id="64516-115">This control is available in the [TVHelpers](https://github.com/Microsoft/TVHelpers) collection of libraries available from Microsoft on GitHub.</span></span>

  <span data-ttu-id="64516-116">Das folgende Beispiel zeigt, wie Sie einen [MediaPlayer](https://github.com/Microsoft/TVHelpers/wiki/MediaPlayer-Overview) im HTML-Markup deklarieren.</span><span class="sxs-lookup"><span data-stu-id="64516-116">The following example shows how to declare a [MediaPlayer](https://github.com/Microsoft/TVHelpers/wiki/MediaPlayer-Overview) in HTML markup.</span></span> <span data-ttu-id="64516-117">Dieser Markupcode gehört normalerweise in den Abschnitt `<body>` in der Datei „index.html“ (oder einer anderen HTML-Datei, je nach Eignung für Ihr Projekt).</span><span class="sxs-lookup"><span data-stu-id="64516-117">Typically, this markup belongs in the `<body>` section in the index.html file (or another html file as appropriate for your project).</span></span>

  ``` html
  <div id="MediaPlayerDiv" data-win-control="TVJS.MediaPlayer">
    <video src="URL to your content">
    </video>
  </div>
  ```

  <span data-ttu-id="64516-118">Im folgenden Beispiel wird veranschaulicht, wie Sie einen [MediaPlayer](https://github.com/Microsoft/TVHelpers/wiki/MediaPlayer-Overview) in JavaScript-Code einrichten.</span><span class="sxs-lookup"><span data-stu-id="64516-118">The following example shows how to establish a [MediaPlayer](https://github.com/Microsoft/TVHelpers/wiki/MediaPlayer-Overview) in JavaScript code.</span></span>

  [!code-javascript[TrialVersion](./code/AdvertisingSamples/AdSchedulerSamples/js/js/main.js#Snippet1)]

## <a name="how-to-use-the-adscheduler-class-in-your-code"></a><span data-ttu-id="64516-119">Verwenden der AdScheduler-Klasse im Code</span><span class="sxs-lookup"><span data-stu-id="64516-119">How to use the AdScheduler class in your code</span></span>

1. <span data-ttu-id="64516-120">Öffnen Sie in Visual Studio Ihr Projekt, oder erstellen Sie ein neues Projekt.</span><span class="sxs-lookup"><span data-stu-id="64516-120">In Visual Studio, open your project or create a new project.</span></span>

2. <span data-ttu-id="64516-121">Sollte in Ihrem Projekt die Zielplattform **ANYCPU** definiert sein, müssen Sie eine architekturspezifische Buildausgabe verwenden (z. B. **X86**) und das Projekt entsprechend aktualisieren.</span><span class="sxs-lookup"><span data-stu-id="64516-121">If your project targets **Any CPU**, update your project to use an architecture-specific build output (for example, **x86**).</span></span> <span data-ttu-id="64516-122">Sollte in Ihrem Projekt die Zielplattform **ANYCPU** definiert sein, können Sie bei den folgenden Schritten keinen Verweis auf die Microsoft Advertising-Bibliotheken hinzufügen.</span><span class="sxs-lookup"><span data-stu-id="64516-122">If your project targets **Any CPU**, you will not be able to successfully add a reference to the Microsoft advertising library in the following steps.</span></span> <span data-ttu-id="64516-123">Weitere Informationen finden Sie unter [Referenzfehler, die durch die Ausrichtung auf eine beliebige CPU (Any CPU) in Ihrem Projekt verursacht werden](known-issues-for-the-advertising-libraries.md#reference_errors).</span><span class="sxs-lookup"><span data-stu-id="64516-123">For more information, see [Reference errors caused by targeting Any CPU in your project](known-issues-for-the-advertising-libraries.md#reference_errors).</span></span>

3. <span data-ttu-id="64516-124">Fügen Sie Ihrem Projekt einen Verweis auf die Bibliothek **Microsoft Advertising SDK für JavaScript** hinzu.</span><span class="sxs-lookup"><span data-stu-id="64516-124">Add a reference to the **Microsoft Advertising SDK for JavaScript** library to your project.</span></span>

    1. <span data-ttu-id="64516-125">Klicken Sie im **Projektmappen-Explorer** mit der rechten Maustaste auf **Verweise**, und wählen Sie **Verweis hinzufügen...** aus.</span><span class="sxs-lookup"><span data-stu-id="64516-125">From the **Solution Explorer** window, right click **References**, and select **Add Reference…**</span></span>
    2. <span data-ttu-id="64516-126">Erweitern Sie im **Verweis-Manager** den Knoten **Universal Windows**, klicken Sie auf **Erweiterungen**, und wählen Sie dann das Kontrollkästchen neben **Microsoft Advertising-SDK für JavaScript** (Version 10.0).</span><span class="sxs-lookup"><span data-stu-id="64516-126">In **Reference Manager**, expand **Universal Windows**, click **Extensions**, and then select the check box next to **Microsoft Advertising SDK for JavaScript** (Version 10.0).</span></span>
    3. <span data-ttu-id="64516-127">Klicken Sie im **Verweis-Manager** auf „OK“.</span><span class="sxs-lookup"><span data-stu-id="64516-127">In **Reference Manager**, click OK.</span></span>

4.  <span data-ttu-id="64516-128">Fügen Sie dem Projekt die Datei „AdScheduler.js“ hinzu:</span><span class="sxs-lookup"><span data-stu-id="64516-128">Add the AdScheduler.js file to your project:</span></span>

    1. <span data-ttu-id="64516-129">Klicken Sie in Visual Studio auf **Projekt** und **NuGet-Pakete verwalten**.</span><span class="sxs-lookup"><span data-stu-id="64516-129">In Visual Studio, click **Project** and **Manage NuGet Packages**.</span></span>
    2. <span data-ttu-id="64516-130">Geben Sie im Suchfeld den Suchbegriff **Microsoft.StoreServices.VideoAdScheduler** ein, und installieren Sie das Paket Microsoft.StoreServices.VideoAdScheduler.</span><span class="sxs-lookup"><span data-stu-id="64516-130">In the search box, type **Microsoft.StoreServices.VideoAdScheduler** and install the Microsoft.StoreServices.VideoAdScheduler package.</span></span> <span data-ttu-id="64516-131">Die Datei „AdScheduler.js“ wird dem Unterverzeichnis „../js“ Ihres Projekts hinzugefügt.</span><span class="sxs-lookup"><span data-stu-id="64516-131">The AdScheduler.js file is added to the ../js subdirectory in your project.</span></span>

5.  <span data-ttu-id="64516-132">Öffnen Sie die Datei „index.html“ (oder je nach Projekt eine andere HTML-Datei).</span><span class="sxs-lookup"><span data-stu-id="64516-132">Open the index.html file (or other html file as appropriate for your project).</span></span> <span data-ttu-id="64516-133">Fügen Sie im Abschnitt `<head>` nach den JavaScript-Verweisen auf „default.css“ und „main.js“ des Projekts den Verweis auf „ad.js“ und „adscheduler.js“ hinzu.</span><span class="sxs-lookup"><span data-stu-id="64516-133">In the `<head>` section, after the project’s JavaScript references of default.css and main.js, add the reference to ad.js and adscheduler.js.</span></span>

    ``` html
    <script src="//Microsoft.Advertising.JavaScript/ad.js"></script>
    <script src="/js/adscheduler.js"></script>
    ```

    > [!NOTE]
    > <span data-ttu-id="64516-134">Diese Zeile muss im Abschnitt `<head>` nach der Datei „main.js“ platziert werden. Andernfalls tritt bei der Erstellung des Projekts ein Fehler auf.</span><span class="sxs-lookup"><span data-stu-id="64516-134">This line must be placed in the `<head>` section after the include of main.js; otherwise, you will encounter an error when   you build your project.</span></span>

6.  <span data-ttu-id="64516-135">Fügen Sie der Datei „main.js“ des Projekts Code hinzu, mit dem ein neues **AdScheduler**-Objekt erstellt wird.</span><span class="sxs-lookup"><span data-stu-id="64516-135">In the main.js file in your project, add code that creates a new **AdScheduler** object.</span></span> <span data-ttu-id="64516-136">Übergeben Sie den **MediaPlayer**, mit dem Ihre Videoinhalte gehostet werden.</span><span class="sxs-lookup"><span data-stu-id="64516-136">Pass in the **MediaPlayer** that hosts your video content.</span></span> <span data-ttu-id="64516-137">Der Code muss so angeordnet werden, dass er nach [WinJS.UI.processAll](https://docs.microsoft.com/en-us/previous-versions/windows/apps/hh440975) ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="64516-137">The code must be placed so that it runs after [WinJS.UI.processAll](https://docs.microsoft.com/en-us/previous-versions/windows/apps/hh440975).</span></span>

    [!code-javascript[TrialVersion](./code/AdvertisingSamples/AdSchedulerSamples/js/js/main.js#Snippet2)]

7.  <span data-ttu-id="64516-138">Verwenden Sie die Methode **requestSchedule** oder **requestScheduleByUrl** des **AdScheduler**-Objekts, um einen Anzeigenzeitplan vom Server anzufordern und in die **MediaPlayer**-Zeitachse einzufügen. Dann können Sie die Videomedien wiedergeben.</span><span class="sxs-lookup"><span data-stu-id="64516-138">Use the **requestSchedule** or **requestScheduleByUrl** methods of the **AdScheduler** object to request an ad schedule from the server and insert it into the **MediaPlayer** timeline, and then play the video media.</span></span>

    * <span data-ttu-id="64516-139">Wenn Sie Microsoft-Partner sind und eine Berechtigung zum Anfordern eines Anzeigenzeitplans vom Microsoft-Anzeigenserver erhalten haben, können Sie **requestSchedule** verwenden und die IDs für die Anwendung und die Anzeigeneinheit angeben, die von Ihrem Microsoft-Vertreter bereitgestellt wurden.</span><span class="sxs-lookup"><span data-stu-id="64516-139">If you are a Microsoft partner who has received permission to request an ad schedule from the Microsoft ad server, use **requestSchedule** and specify the application ID and ad unit ID that were provided to you by your Microsoft representative.</span></span>

        <span data-ttu-id="64516-140">Diese Methode hat die Form einer [Zusage](https://docs.microsoft.com/windows/uwp/threading-async/asynchronous-programming-universal-windows-platform-apps#asynchronous-patterns-in-uwp-using-javascript). Das ist ein asynchrones Konstrukt, in dem zwei Funktionszeiger übergeben werden: Ein Zeiger, um die **OnComplete**-Funktion aufzurufen, wenn die Zusage erfolgreich abgeschlossen wurde, und ein Zeiger zum Aufrufen der **OnError**-Funktion aufrufen, wenn ein Fehler aufgetreten ist.</span><span class="sxs-lookup"><span data-stu-id="64516-140">This method takes the form of a [Promise](https://docs.microsoft.com/windows/uwp/threading-async/asynchronous-programming-universal-windows-platform-apps#asynchronous-patterns-in-uwp-using-javascript), which is an asynchronous construct where two function pointers are passed: a pointer for the **onComplete** function to call when the promise completes successfully and a pointer for the **onError** function to call if an error is encountered.</span></span> <span data-ttu-id="64516-141">In der **OnComplete**-Funktion starten Sie die Wiedergabe Ihres Videos.</span><span class="sxs-lookup"><span data-stu-id="64516-141">In the **onComplete** function, start playback of your video content.</span></span> <span data-ttu-id="64516-142">Die Anzeige wird zum geplanten Zeitpunkt abgespielt.</span><span class="sxs-lookup"><span data-stu-id="64516-142">The ad will start playing at the scheduled time.</span></span> <span data-ttu-id="64516-143">In Ihrer **OnError**-Funktion behandeln Sie den Fehler und starten dann die Wiedergabe des Videos.</span><span class="sxs-lookup"><span data-stu-id="64516-143">In your **onError** function, handle the error and then start playback of your video.</span></span> <span data-ttu-id="64516-144">Ihr Video wird ohne eine Anzeige wiedergegeben.</span><span class="sxs-lookup"><span data-stu-id="64516-144">Your video content will play without an ad.</span></span> <span data-ttu-id="64516-145">Das Argument der **OnError**-Funktion ist ein Objekt, das die folgenden Member enthält.</span><span class="sxs-lookup"><span data-stu-id="64516-145">The argument of the **onError** function is an object that contains the following members.</span></span>

        [!code-javascript[TrialVersion](./code/AdvertisingSamples/AdSchedulerSamples/js/js/main.js#Snippet3)]

    * <span data-ttu-id="64516-146">Verwenden Sie **requestScheduleByUrl**zum Anfordern eines Anzeigenzeitplans von einem anderen Server als dem Microsoft-Anzeigenserver, und übergeben Sie die Server-URI.</span><span class="sxs-lookup"><span data-stu-id="64516-146">To request an ad schedule from a non-Microsoft ad server, use **requestScheduleByUrl**, and pass in the server URI.</span></span> <span data-ttu-id="64516-147">Diese Methode hat auch die Form einer **Zusage**, die Zeiger für die Funktionen **OnComplete** und **OnError** übernimmt.</span><span class="sxs-lookup"><span data-stu-id="64516-147">This method also takes the form of a **Promise** that accepts pointers for the **onComplete** and **onError** functions.</span></span> <span data-ttu-id="64516-148">Die Anzeigennutzlast, die vom Server zurückgegeben wird, muss dem Nutzlastformat Video Ad Serving Template (VAST) oder Video Multiple Ad Playlist (VMAP) entsprechen.</span><span class="sxs-lookup"><span data-stu-id="64516-148">The ad payload that is returned from the server must conform to the Video Ad Serving Template (VAST) or Video Multiple Ad Playlist (VMAP) payload formats.</span></span>

        [!code-javascript[TrialVersion](./code/AdvertisingSamples/AdSchedulerSamples/js/js/main.js#Snippet4)]

    > [!NOTE]
    > <span data-ttu-id="64516-149">Sie sollten warten, bis die Ausführung von **requestSchedule** oder **requestScheduleByUrl** beendet ist, bevor Sie den primären Videoinhalt im **MediaPlayer** starten.</span><span class="sxs-lookup"><span data-stu-id="64516-149">You should wait for **requestSchedule** or **requestScheduleByUrl** to return before starting to play the primary video content in the **MediaPlayer**.</span></span> <span data-ttu-id="64516-150">Die Medienwiedergabe vor Beendigung von **requestSchedule** würde im Fall einer Pre-Roll-Anzeige dazu führen, dass die Pre-Roll den primären Videoinhalt unterbricht.</span><span class="sxs-lookup"><span data-stu-id="64516-150">Starting to play media before **requestSchedule** returns (in the case of a pre-roll advertisement) will result in the pre-roll interrupting the primary video content.</span></span> <span data-ttu-id="64516-151">Sie müssen **play** auch dann aufrufen, wenn die Funktion mit einem Fehler endet, weil **AdScheduler** den **MediaPlayer** anweist, die Anzeige(n) zu überspringen und sofort mit dem Inhalt fortzufahren.</span><span class="sxs-lookup"><span data-stu-id="64516-151">You must call **play** even if the function fails, because the **AdScheduler** will tell the **MediaPlayer** to skip the ad(s) and move straight to the content.</span></span> <span data-ttu-id="64516-152">Unter Umständen besteht bei Ihnen auch eine andere geschäftliche Anforderung, z.B. das Einfügen einer integrierten Anzeige, falls eine Anzeige nicht erfolgreich von einem Remotestandort abgerufen werden kann.</span><span class="sxs-lookup"><span data-stu-id="64516-152">You may have a different business requirement, such as inserting a built-in ad if an ad can't be successfully fetched remotely.</span></span>

8.  <span data-ttu-id="64516-153">Während der Wiedergabe können Sie zusätzliche Ereignisse verarbeiten, mit denen Ihre App den Status bzw. Fehler nachverfolgen kann, die nach dem ersten Anzeigenabgleich auftreten.</span><span class="sxs-lookup"><span data-stu-id="64516-153">During playback, you can handle additional events that let your app track progress and/or errors which may occur after the initial ad matching process.</span></span> <span data-ttu-id="64516-154">Der folgende Code zeigt einige dieser Ereignisse, einschließlich **onPodStart**, **onPodEnd**, **onPodCountdown**, **onAdProgress**, **onAllComplete** und **onErrorOccurred**.</span><span class="sxs-lookup"><span data-stu-id="64516-154">The following code shows some of these events, including **onPodStart**, **onPodEnd**, **onPodCountdown**, **onAdProgress**, **onAllComplete**, and **onErrorOccurred**.</span></span>

    [!code-javascript[TrialVersion](./code/AdvertisingSamples/AdSchedulerSamples/js/js/main.js#Snippet5)]

## <a name="adscheduler-members"></a><span data-ttu-id="64516-155">AdScheduler-Member</span><span class="sxs-lookup"><span data-stu-id="64516-155">AdScheduler members</span></span>

<span data-ttu-id="64516-156">Dieser Abschnitt enthält einige Details zu den Membern des **AdScheduler**-Objekts.</span><span class="sxs-lookup"><span data-stu-id="64516-156">This section provides some details about the members of the **AdScheduler** object.</span></span> <span data-ttu-id="64516-157">Weitere Informationen zu diesen Membern finden Sie in den Kommentaren und Definitionen in der Datei „AdScheduler.js” in Ihrem Projekt.</span><span class="sxs-lookup"><span data-stu-id="64516-157">For more information about these members, see the comments and definitions in the AdScheduler.js file in your project.</span></span>

### <a name="requestschedule"></a><span data-ttu-id="64516-158">requestSchedule</span><span class="sxs-lookup"><span data-stu-id="64516-158">requestSchedule</span></span>

<span data-ttu-id="64516-159">Diese Methode fordert einen Anzeigenzeitplan vom Microsoft-Anzeigenserver an und fügt ihn in die **MediaPlayer**-Zeitleiste ein, der an den **AdScheduler**-Konstruktor übergeben wurde.</span><span class="sxs-lookup"><span data-stu-id="64516-159">This method requests an ad schedule from the Microsoft ad server and inserts it into the timeline of the **MediaPlayer** that was passed to the **AdScheduler** constructor.</span></span>

<span data-ttu-id="64516-160">Der optionale dritte Parameter (*adTags*) ist eine JSON-Sammlung von Name/Wert-Paaren, die für Apps mit erweitertem Targeting verwendet werden kann.</span><span class="sxs-lookup"><span data-stu-id="64516-160">The optional third paramter (*adTags*) is a JSON collection of name/value pairs that can be used for apps that have advanced targeting.</span></span> <span data-ttu-id="64516-161">Beispielsweise kann eine App, die eine Vielzahl von automatisch verknüpften Videos abspielt, die Anzeigeneinheit-ID um die Marke und das Modell des angezeigten Autos ergänzen.</span><span class="sxs-lookup"><span data-stu-id="64516-161">For example, an app that plays a variety of auto-related videos might supplement the ad unit ID with the make and model of the car being shown.</span></span> <span data-ttu-id="64516-162">Dieser Parameter ist nur für Partner gedacht, die von Microsoft die Genehmigung zur Verwendung von Anzeigentags erhalten.</span><span class="sxs-lookup"><span data-stu-id="64516-162">This parameter is intended to be used only by partners who receive approval from Microsoft to use ad tags.</span></span>

<span data-ttu-id="64516-163">Die folgenden Punkte sollten in Bezug auf *adTags* beachtet werden:</span><span class="sxs-lookup"><span data-stu-id="64516-163">The following items should be noted when referring to *adTags*:</span></span>

* <span data-ttu-id="64516-164">Dieser Parameter ist eine sehr selten verwendete Option.</span><span class="sxs-lookup"><span data-stu-id="64516-164">This parameter is a very rarely used option.</span></span> <span data-ttu-id="64516-165">Der Herausgeber muss vor der Verwendung von adTags eng mit Microsoft zusammenarbeiten.</span><span class="sxs-lookup"><span data-stu-id="64516-165">The publisher must work closely with Microsoft before using adTags.</span></span>
* <span data-ttu-id="64516-166">Sowohl die Namen als auch die Werte müssen im Anzeigenservice vorher festgelegt werden.</span><span class="sxs-lookup"><span data-stu-id="64516-166">Both the names and the values must be predetermined on the ad service.</span></span> <span data-ttu-id="64516-167">Anzeigentags sind keine abgeschlossenen Suchbegriffe oder Schlüsselwörter.</span><span class="sxs-lookup"><span data-stu-id="64516-167">Ad tags are not open ended search terms or keywords.</span></span>
* <span data-ttu-id="64516-168">Es werden maximal 10 Tags unterstützt.</span><span class="sxs-lookup"><span data-stu-id="64516-168">The maximum supported number of tags is 10.</span></span>
* <span data-ttu-id="64516-169">Tagnamen sind auf 16 Zeichen beschränkt.</span><span class="sxs-lookup"><span data-stu-id="64516-169">Tag names are restricted to 16 characters.</span></span>
* <span data-ttu-id="64516-170">Tagwerte dürfen maximal 128 Zeichen umfassen.</span><span class="sxs-lookup"><span data-stu-id="64516-170">Tag values have a maximum of 128 characters.</span></span>

### <a name="requestschedulebyuri"></a><span data-ttu-id="64516-171">requestScheduleByUri</span><span class="sxs-lookup"><span data-stu-id="64516-171">requestScheduleByUri</span></span>

<span data-ttu-id="64516-172">Diese Methode fordert einen Anzeigenzeitplan vom einem Anzeigenserver an (der in der URI angegeben ist und nicht Microsoft gehört) und fügt ihn in die **MediaPlayer**-Zeitleiste ein, der an den **AdScheduler**-Konstruktor übergeben wurde.</span><span class="sxs-lookup"><span data-stu-id="64516-172">This method requests an ad schedule from the non-Microsoft ad server specified in the URI and inserts it into the timeline of the **MediaPlayer** that was passed to the **AdScheduler** constructor.</span></span> <span data-ttu-id="64516-173">Die Anzeigennutzlast, die vom Anzeigenserver zurückgegeben wird, muss dem Nutzlastformat Video Ad Serving Template (VAST) oder Video Multiple Ad Playlist (VMAP) entsprechen.</span><span class="sxs-lookup"><span data-stu-id="64516-173">The ad payload that is returned by the ad server must conform to the Video Ad Serving Template (VAST) or Video Multiple Ad Playlist (VMAP) payload formats.</span></span>

### <a name="mediatimeout"></a><span data-ttu-id="64516-174">mediaTimeout</span><span class="sxs-lookup"><span data-stu-id="64516-174">mediaTimeout</span></span>

<span data-ttu-id="64516-175">Mit dieser Eigenschaft wird die Anzahl der Millisekunden abgerufen oder festgelegt, die das Medium abspielbar sein muss.</span><span class="sxs-lookup"><span data-stu-id="64516-175">This property gets or sets the number of milliseconds that the media must be playable.</span></span> <span data-ttu-id="64516-176">Ein Wert 0 informiert das System darüber, dass es keine Zeitüberschreitung gibt.</span><span class="sxs-lookup"><span data-stu-id="64516-176">A value of 0 informs the system to never timeout.</span></span> <span data-ttu-id="64516-177">Der Standardwert ist 30000 ms (30 Sekunden).</span><span class="sxs-lookup"><span data-stu-id="64516-177">The default is 30000 ms (30 seconds).</span></span>

### <a name="playskippedmedia"></a><span data-ttu-id="64516-178">playSkippedMedia</span><span class="sxs-lookup"><span data-stu-id="64516-178">playSkippedMedia</span></span>

<span data-ttu-id="64516-179">Mit dieser Eigenschaft wird ein **Boolean**-Wert abgerufen oder festgelegt, der angibt, ob geplante Medien wiedergegeben werden, wenn der Benutzer zu einem Zeitpunkt nach einer geplanten Startzeit vorspringt.</span><span class="sxs-lookup"><span data-stu-id="64516-179">This property gets or sets a **Boolean** value that indicates whether scheduled media will play if user skips ahead to a point past a scheduled start time.</span></span>

<span data-ttu-id="64516-180">Der Anzeigenclient und der Mediaplayer erzwingen Regeln darüber, was mit den Anzeigen während des schnellen Vor- und Rücklaufs des primären Videoinhalts geschieht.</span><span class="sxs-lookup"><span data-stu-id="64516-180">The ad client and media player will enforce rules in terms what happens to advertisements during fast forwarding and rewinding of the primary video content.</span></span> <span data-ttu-id="64516-181">In den meisten Fällen erlauben App-Entwickler nicht, dass Anzeigen vollständig übersprungen werden, sondern sie sollen dem Nutzer eine angemessene Erfahrung bieten.</span><span class="sxs-lookup"><span data-stu-id="64516-181">In most cases, app developers do not allow advertisements to be entirely skipped over but do want to provide a reasonable experience for the user.</span></span> <span data-ttu-id="64516-182">Die beiden folgenden Optionen entsprechen den Anforderungen der meisten Entwickler:</span><span class="sxs-lookup"><span data-stu-id="64516-182">The following two options fall within the needs of most developers:</span></span>

1. <span data-ttu-id="64516-183">Endbenutzer dürfen Anzeigenblöcke nach Belieben überspringen.</span><span class="sxs-lookup"><span data-stu-id="64516-183">Allow end-users to skip over advertisement pods at will.</span></span>
2. <span data-ttu-id="64516-184">Benutzern dürfen Anzeigenblöcke überspringen, aber es wird der aktuellste Block angezeigt, wenn die Wiedergabe fortgesetzt wird.</span><span class="sxs-lookup"><span data-stu-id="64516-184">Allow users to skip over advertisement pods but play the most recent pod when playback resumes.</span></span>

<span data-ttu-id="64516-185">Für die Eigenschaft **playSkippedMedia** gelten folgende Bedingungen:</span><span class="sxs-lookup"><span data-stu-id="64516-185">The **playSkippedMedia** property has the following conditions:</span></span>

* <span data-ttu-id="64516-186">Anzeigen können nicht übersprungen oder vorgespult, nachdem sie begonnen haben.</span><span class="sxs-lookup"><span data-stu-id="64516-186">Advertisements cannot be skipped or fast forwarded once the advertisement begins.</span></span>
* <span data-ttu-id="64516-187">Alle Anzeigen in einem Anzeigenblock werden wiedergegeben, nachdem der Block gestartet wurde.</span><span class="sxs-lookup"><span data-stu-id="64516-187">All advertisements in an advertisement pod will play once the pod has started.</span></span>
* <span data-ttu-id="64516-188">Nach der Wiedergabe wird ein Anzeige während des primären Inhalts (Film, Folge usw.) nicht erneut abgespielt. Anzeigenmarkierungen erhalten die Werte „wiedergegeben” oder „entfernt”.</span><span class="sxs-lookup"><span data-stu-id="64516-188">Once played, an advertisement will not play again during the primary content (movie, episode, etc.); advertisement markers will be marked as played or removed.</span></span>
* <span data-ttu-id="64516-189">Pre-Rollout-Anzeigen können nicht übersprungen werden.</span><span class="sxs-lookup"><span data-stu-id="64516-189">Pre-rollout advertisements cannot be skipped.</span></span>

<span data-ttu-id="64516-190">Wenn Sie die Wiedergabe von Inhalten fortsetzen, die Werbung enthalten, legen Sie **playSkippedMedia** auf **false** fest, um Pre-Rolls zu überspringen und die Wiedergabe der letzten Anzeigenunterbrechung zu verhindern.</span><span class="sxs-lookup"><span data-stu-id="64516-190">When resuming content that contains advertising, set **playSkippedMedia** to **false** to skip pre-rolls and prevent the most recent ad break from playing.</span></span> <span data-ttu-id="64516-191">Nach dem Start des Inhalts legen Sie **playSkippedMedia** auf **true** fest, um sicherzustellen, dass Benutzer nachfolgende Anzeigen nicht vorspulen können.</span><span class="sxs-lookup"><span data-stu-id="64516-191">Then, after the content starts, set **playSkippedMedia** to **true** to ensure that users cannot fast-forward through subsequent ads.</span></span>

> [!NOTE]
> <span data-ttu-id="64516-192">Ein Block (Pod) ist eine Gruppe von Anzeigen, die als Sequenz wiedergegeben werden, z. B. während einer Werbepause.</span><span class="sxs-lookup"><span data-stu-id="64516-192">A pod is a group of ads that play in a sequence, such as a group of ads that play during a commercial break.</span></span> <span data-ttu-id="64516-193">Weitere Informationen finden Sie in der IAB Digital Video Ad Serving Template (VAST)-Spezifikation.</span><span class="sxs-lookup"><span data-stu-id="64516-193">For more details, see the IAB Digital Video Ad Serving Template (VAST) specification.</span></span>

### <a name="requesttimeout"></a><span data-ttu-id="64516-194">requestTimeout</span><span class="sxs-lookup"><span data-stu-id="64516-194">requestTimeout</span></span>

<span data-ttu-id="64516-195">Mit dieser Eigenschaft wird die Anzahl der Millisekunden abgerufen oder festgelegt, die nach einer Anzeigenanfrage gewartet wird, bevor das Zeitlimit für die Antwort überschritten ist. Ein Wert von 0 informiert das System darüber, dass es keine Zeitüberschreitung gibt.</span><span class="sxs-lookup"><span data-stu-id="64516-195">This property gets or sets the number of milliseconds to wait for an ad request response before timing out. A value of 0 informs the system to never timeout.</span></span> <span data-ttu-id="64516-196">Der Standardwert ist 30000 ms (30 Sekunden).</span><span class="sxs-lookup"><span data-stu-id="64516-196">The default is 30000 ms (30 seconds).</span></span>

### <a name="schedule"></a><span data-ttu-id="64516-197">schedule</span><span class="sxs-lookup"><span data-stu-id="64516-197">schedule</span></span>

<span data-ttu-id="64516-198">Diese Eigenschaft ruft die Zeitplandaten vom Anzeigenserver ab.</span><span class="sxs-lookup"><span data-stu-id="64516-198">This property gets the schedule data that was retrieved from the ad server.</span></span> <span data-ttu-id="64516-199">Dieses Objekt enthält die vollständige Datenhierarchie, die der Struktur der Video Ad Serving-Vorlagen (VAST)-Nutzlast oder der Video-Multiple-Ad-Playlists (VMAP)-Nutzlast entspricht.</span><span class="sxs-lookup"><span data-stu-id="64516-199">This object includes the full hierarchy of data that corresponds to the structure of the Video Ad Serving Template (VAST) or Video Multiple Ad Playlist (VMAP) payload.</span></span>

### <a name="onadprogress"></a><span data-ttu-id="64516-200">onAdProgress</span><span class="sxs-lookup"><span data-stu-id="64516-200">onAdProgress</span></span>  

<span data-ttu-id="64516-201">Dieses Ereignis wird ausgelöst, wenn die Anzeigenwiedergabe Prüfpunktquartile erreicht.</span><span class="sxs-lookup"><span data-stu-id="64516-201">This event is raised when ad playback reaches quartile checkpoints.</span></span> <span data-ttu-id="64516-202">Der zweite Parameter für den Ereignishandler (*eventInfo*) ist ein JSON-Objekt mit folgenden Elementen:</span><span class="sxs-lookup"><span data-stu-id="64516-202">The second parameter of the event handler (*eventInfo*) is a JSON object with the following members:</span></span>

* <span data-ttu-id="64516-203">**progress**: Der Status der Anzeigenwiedergabe (einer der in AdScheduler.js definierten **MediaProgress**-Enumerationswerte).</span><span class="sxs-lookup"><span data-stu-id="64516-203">**progress**: The ad playback status (one of the **MediaProgress** enum values defined in AdScheduler.js).</span></span>
* <span data-ttu-id="64516-204">**clip**: Der gerade wiedergegebene Videoclip.</span><span class="sxs-lookup"><span data-stu-id="64516-204">**clip**: The video clip that is being played.</span></span> <span data-ttu-id="64516-205">Dieses Objekt ist nicht dafür vorgesehen, im Code verwendet zu werden.</span><span class="sxs-lookup"><span data-stu-id="64516-205">This object is not intended to be used in your code.</span></span>
* <span data-ttu-id="64516-206">**adPackage**: Ein Objekt, das den Teil der Anzeigennutzlast darstellt, welcher der wiedergegebenen Anzeige entspricht.</span><span class="sxs-lookup"><span data-stu-id="64516-206">**adPackage**: An object that represents the part of the ad payload that corresponds to the ad that is playing.</span></span> <span data-ttu-id="64516-207">Dieses Objekt ist nicht dafür vorgesehen, im Code verwendet zu werden.</span><span class="sxs-lookup"><span data-stu-id="64516-207">This object is not intended to be used in your code.</span></span>

### <a name="onallcomplete"></a><span data-ttu-id="64516-208">onAllComplete</span><span class="sxs-lookup"><span data-stu-id="64516-208">onAllComplete</span></span>  

<span data-ttu-id="64516-209">Dieses Ereignis wird ausgelöst, wenn der Hauptinhalt das Ende erreicht und alle geplanten Post-Roll-Anzeigen ebenfalls beendet werden.</span><span class="sxs-lookup"><span data-stu-id="64516-209">This event is raised when the main content reaches the end and any scheduled post-roll ads are also ended.</span></span>

### <a name="onerroroccurred"></a><span data-ttu-id="64516-210">onErrorOccurred</span><span class="sxs-lookup"><span data-stu-id="64516-210">onErrorOccurred</span></span>  

<span data-ttu-id="64516-211">Dieses Ereignis wird ausgelöst, wenn im **AdScheduler** ein Fehler auftritt.</span><span class="sxs-lookup"><span data-stu-id="64516-211">This event is raised when the **AdScheduler** encounters an error.</span></span> <span data-ttu-id="64516-212">Weitere Informationen zu den Fehlercodewerten finden Sie unter [ErrorCode](https://docs.microsoft.com/uwp/api/microsoft.advertising.errorcode).</span><span class="sxs-lookup"><span data-stu-id="64516-212">For more information about the error code values, see [ErrorCode](https://docs.microsoft.com/uwp/api/microsoft.advertising.errorcode).</span></span>

### <a name="onpodcountdown"></a><span data-ttu-id="64516-213">onPodCountdown</span><span class="sxs-lookup"><span data-stu-id="64516-213">onPodCountdown</span></span>

<span data-ttu-id="64516-214">Dieses Ereignis wird ausgelöst, wenn eine Anzeige abgespielt wird, und gibt an, wie viel Zeit im aktuellen Pod verbleibt.</span><span class="sxs-lookup"><span data-stu-id="64516-214">This event is raised when an ad is playing and indicates how much time remains in the current pod.</span></span> <span data-ttu-id="64516-215">Der zweite Parameter für den Ereignishandler (*eventData*) ist ein JSON-Objekt mit folgenden Elementen:</span><span class="sxs-lookup"><span data-stu-id="64516-215">The second parameter of the event handler (*eventData*) is a JSON object with the following members:</span></span>

* <span data-ttu-id="64516-216">**remainingAdTime**: Die Anzahl der verbleibenden Sekunden für die aktuelle Anzeige.</span><span class="sxs-lookup"><span data-stu-id="64516-216">**remainingAdTime**: The number of seconds left for the current ad.</span></span>
* <span data-ttu-id="64516-217">**remainingPodTime**: Die Anzahl der verbleibenden Sekunden für den aktuellen Anzeigenblock.</span><span class="sxs-lookup"><span data-stu-id="64516-217">**remainingPodTime**: The number of seconds left for the current pod.</span></span>

> [!NOTE]
> <span data-ttu-id="64516-218">Ein Block (Pod) ist eine Gruppe von Anzeigen, die als Sequenz wiedergegeben werden, z. B. während einer Werbepause.</span><span class="sxs-lookup"><span data-stu-id="64516-218">A pod is a group of ads that play in a sequence, such as a group of ads that play during a commercial break.</span></span> <span data-ttu-id="64516-219">Weitere Informationen finden Sie in der IAB Digital Video Ad Serving Template (VAST)-Spezifikation.</span><span class="sxs-lookup"><span data-stu-id="64516-219">For more details, see the IAB Digital Video Ad Serving Template (VAST) specification.</span></span>

### <a name="onpodend"></a><span data-ttu-id="64516-220">onPodEnd</span><span class="sxs-lookup"><span data-stu-id="64516-220">onPodEnd</span></span>  

<span data-ttu-id="64516-221">Dieses Ereignis wird ausgelöst, wenn ein Anzeigenblock endet.</span><span class="sxs-lookup"><span data-stu-id="64516-221">This event is raised when an ad pod ends.</span></span> <span data-ttu-id="64516-222">Der zweite Parameter für den Ereignishandler (*eventData*) ist ein JSON-Objekt mit folgenden Elementen:</span><span class="sxs-lookup"><span data-stu-id="64516-222">The second parameter of the event handler (*eventData*) is a JSON object with the following members:</span></span>

* <span data-ttu-id="64516-223">**startTime**: Die Startzeit des Anzeigenblocks in Sekunden.</span><span class="sxs-lookup"><span data-stu-id="64516-223">**startTime**: The pod's start time, in seconds.</span></span>
* <span data-ttu-id="64516-224">**pod**: Ein Objekt, das den Anzeigenblock (Pod) darstellt.</span><span class="sxs-lookup"><span data-stu-id="64516-224">**pod**: An object that represents the pod.</span></span> <span data-ttu-id="64516-225">Dieses Objekt ist nicht dafür vorgesehen, im Code verwendet zu werden.</span><span class="sxs-lookup"><span data-stu-id="64516-225">This object is not intended to be used in your code.</span></span>

### <a name="onpodstart"></a><span data-ttu-id="64516-226">onPodStart</span><span class="sxs-lookup"><span data-stu-id="64516-226">onPodStart</span></span>

<span data-ttu-id="64516-227">Dieses Ereignis wird ausgelöst, wenn ein Anzeigenblock startet.</span><span class="sxs-lookup"><span data-stu-id="64516-227">This event is raised when an ad pod starts.</span></span> <span data-ttu-id="64516-228">Der zweite Parameter für den Ereignishandler (*eventData*) ist ein JSON-Objekt mit folgenden Elementen:</span><span class="sxs-lookup"><span data-stu-id="64516-228">The second parameter of the event handler (*eventData*) is a JSON object with the following members:</span></span>

* <span data-ttu-id="64516-229">**startTime**: Die Startzeit des Anzeigenblocks in Sekunden.</span><span class="sxs-lookup"><span data-stu-id="64516-229">**startTime**: The pod's start time, in seconds.</span></span>
* <span data-ttu-id="64516-230">**pod**: Ein Objekt, das den Anzeigenblock (Pod) darstellt.</span><span class="sxs-lookup"><span data-stu-id="64516-230">**pod**: An object that represents the pod.</span></span> <span data-ttu-id="64516-231">Dieses Objekt ist nicht dafür vorgesehen, im Code verwendet zu werden.</span><span class="sxs-lookup"><span data-stu-id="64516-231">This object is not intended to be used in your code.</span></span>
