---
author: mcleanbyron
ms.assetid: 8e6c3d3d-0120-40f4-9f90-0b0518188a1a
description: "Mit der Werbungs-API des Windows Store verwalten Sie programmgesteuert Werbeanzeigenkampagnen für Apps, die für Ihr Windows Dev Center-Konto oder das Ihrer Organisation registriert sind."
title: "Durchführen von Anzeigenkampagnen mit Store-Diensten"
ms.author: mcleans
ms.date: 02/08/2017
ms.topic: article
ms.prod: windows
ms.technology: uwp
keywords: Windows10, UWP, Windows Store Werbungs-API, Anzeigenkampagnen
ms.openlocfilehash: 4db2904ff23d52eb58fbe74f7591f7f05f2e4961
ms.sourcegitcommit: eaacc472317eef343b764d17e57ef24389dd1cc3
ms.translationtype: HT
ms.contentlocale: de-DE
ms.lasthandoff: 07/17/2017
---
# <a name="run-ad-campaigns-using-store-services"></a><span data-ttu-id="4c14a-104">Durchführen von Anzeigenkampagnen mit Store-Diensten</span><span class="sxs-lookup"><span data-stu-id="4c14a-104">Run ad campaigns using Store services</span></span>

<span data-ttu-id="4c14a-105">Mit der *Werbungs-API des Windows Store* verwalten Sie programmgesteuert Werbeanzeigenkampagnen für Apps, die für Ihr Windows Dev Center-Konto oder das Ihrer Organisation registriert sind.</span><span class="sxs-lookup"><span data-stu-id="4c14a-105">Use the *Windows Store promotions API* to programmatically manage promotional ad campaigns for apps that are registered to your or your organization's Windows Dev Center account.</span></span> <span data-ttu-id="4c14a-106">Mit dieser API können Sie Ihre Kampagnen und andere zugehörige Ressourcen, z.B. Zielgruppen und Werbemittel, erstellen, aktualisieren und überwachen.</span><span class="sxs-lookup"><span data-stu-id="4c14a-106">This API enables you to create, update and monitor your campaigns and other related assets such as targeting and creatives.</span></span> <span data-ttu-id="4c14a-107">Diese API ist besonders für Entwickler nützlich, die umfangreiche Kampagnen erstellen und dies nicht im Windows Dev Center-Dashboards ausführen möchten.</span><span class="sxs-lookup"><span data-stu-id="4c14a-107">This API is especially useful for developers who create large volumes of campaigns, and who want to do so without using the Windows Dev Center dashboard.</span></span> <span data-ttu-id="4c14a-108">Diese API verwendet Azure Active Directory (AzureAD), um die Aufrufe von Ihrer App oder Ihrem Dienst zu authentifizieren.</span><span class="sxs-lookup"><span data-stu-id="4c14a-108">This API uses Azure Active Directory (Azure AD) to authenticate the calls from your app or service.</span></span>

<span data-ttu-id="4c14a-109">Dazu müssen folgende Schritte ausgeführt werden:</span><span class="sxs-lookup"><span data-stu-id="4c14a-109">The following steps describe the end-to-end process:</span></span>

1.  <span data-ttu-id="4c14a-110">Stellen Sie sicher, dass Sie alle [Voraussetzungen](#prerequisites) erfüllt haben.</span><span class="sxs-lookup"><span data-stu-id="4c14a-110">Make sure that you have completed all the [prerequisites](#prerequisites).</span></span>
2.  <span data-ttu-id="4c14a-111">Vor dem Aufrufen einer Methode in der Windows Store-Werbungs-API müssen Sie [ein AzureAD-Zugriffstoken anfordern](#obtain-an-azure-ad-access-token).</span><span class="sxs-lookup"><span data-stu-id="4c14a-111">Before you call a method in the Windows Store promotions API, [obtain an Azure AD access token](#obtain-an-azure-ad-access-token).</span></span> <span data-ttu-id="4c14a-112">Nach dem Abruf eines Zugriffstokens können Sie es für einen Zeitraum von 60Minuten in Aufrufen der Windows Store-Werbungs-API verwenden, bevor es abläuft.</span><span class="sxs-lookup"><span data-stu-id="4c14a-112">After you obtain a token, you have 60 minutes to use this token in calls to the Windows Store promotions API before the token expires.</span></span> <span data-ttu-id="4c14a-113">Nach dem Ablauf des Tokens können Sie ein neues Token generieren.</span><span class="sxs-lookup"><span data-stu-id="4c14a-113">After the token expires, you can generate a new token.</span></span>
3.  <span data-ttu-id="4c14a-114">[Aufrufen der Windows Store-Werbungs-API](#call-the-windows-store-promotions-api).</span><span class="sxs-lookup"><span data-stu-id="4c14a-114">[Call the Windows Store promotions API](#call-the-windows-store-promotions-api).</span></span>

<span data-ttu-id="4c14a-115">Sie können Anzeigenkampagnen alternativ mit dem Windows Dev Center-Dashboard erstellen und verwalten, und auf alle Anzeigenkampagnen, die Sie programmgesteuert über die Windows Store-Werbungs-API erstellen, kann auch im Dashboard zugegriffen werden.</span><span class="sxs-lookup"><span data-stu-id="4c14a-115">You can alternatively create and manage ad campaigns using the Windows Dev Center dashboard, and any ad campaigns that you create programmatically via the Windows Store promotions API can also be accessed in the dashboard.</span></span> <span data-ttu-id="4c14a-116">Weitere Informationen zur Verwaltung von Anzeigenkampagnen im Dashboard finden Sie unter [Erstellen einer Anzeigenkampagne für Ihre App](../publish/create-an-ad-campaign-for-your-app.md).</span><span class="sxs-lookup"><span data-stu-id="4c14a-116">For more information about managing ad campaigns in the dashboard, see [Create an ad campaign for your app](../publish/create-an-ad-campaign-for-your-app.md).</span></span>

> [!NOTE]
> <span data-ttu-id="4c14a-117">Alle Entwickler mit einem Windows Dev Center-Konto können die Windows Store-Werbungs-API verwenden, um Anzeigenkampagnen für ihre Apps zu verwalten.</span><span class="sxs-lookup"><span data-stu-id="4c14a-117">Any developer with a Windows Dev Center account can use the Windows Store promotions API to manage ad campaigns for their apps.</span></span> <span data-ttu-id="4c14a-118">Medienagenturen können auch den Zugriff auf diese API anfordern, um Anzeigenkampagnen für ihre Werbekunden durchzuführen.</span><span class="sxs-lookup"><span data-stu-id="4c14a-118">Media agencies can also request access to this API to run ad campaigns on behalf of their advertisers.</span></span> <span data-ttu-id="4c14a-119">Wenn Sie einer Medienagentur angehören und weitere Informationen zu dieser API wünschen oder den Zugriff darauf anfordern möchten, senden Sie Ihre Anfrage an storepromotionsapi@microsoft.com.</span><span class="sxs-lookup"><span data-stu-id="4c14a-119">If you are a media agency who wants to know more about this API or request access to it, send your request to storepromotionsapi@microsoft.com.</span></span>

<span id="prerequisites" />
## <a name="step-1-complete-prerequisites-for-using-the-windows-store-promotions-api"></a><span data-ttu-id="4c14a-120">Schritt 1: Erfüllen der Voraussetzungen für die Verwendung der Windows Store-Werbungs-API</span><span class="sxs-lookup"><span data-stu-id="4c14a-120">Step 1: Complete prerequisites for using the Windows Store promotions API</span></span>

<span data-ttu-id="4c14a-121">Stellen Sie sicher, dass Sie die folgenden Voraussetzungen erfüllt haben, bevor Sie mit dem Schreiben von Code zum Aufrufen der Windows Store-Werbungs-API beginnen.</span><span class="sxs-lookup"><span data-stu-id="4c14a-121">Before you start writing code to call the Windows Store promotions API, make sure that you have completed the following prerequisites.</span></span>

* <span data-ttu-id="4c14a-122">Bevor Sie mithilfe dieser API eine Anzeigenkampagne erstellen und starten können, müssen Sie zunächst [eine kostenpflichtige Anzeigenkampagne über die Seite **Bewerben Ihrer App** im Dev Center-Dashboard erstellen](../publish/create-an-ad-campaign-for-your-app.md), und Sie müssen auf dieser Seite mindestens ein Zahlungsmittel hinzufügen.</span><span class="sxs-lookup"><span data-stu-id="4c14a-122">Before you can successfully create and start an ad campaign using this API, you must first [create one paid ad campaign using the **Promote your app** page in the Dev Center dashboard](../publish/create-an-ad-campaign-for-your-app.md), and you must add at least one payment instrument on this page.</span></span> <span data-ttu-id="4c14a-123">Danach können Sie mithilfe dieser API gebührenpflichtige Lieferpositionen für Anzeigenkampagnen erstellen.</span><span class="sxs-lookup"><span data-stu-id="4c14a-123">After you do this, you will be able to successfully create billable delivery lines for ad campaigns using this API.</span></span> <span data-ttu-id="4c14a-124">Lieferpositionen für Anzeigenkampagnen, die Sie mithilfe dieser API erstellen, werden automatisch das auf der Seite **Bewerben Ihrer App** im Dashboard gewählte Standard-Zahlungsmittel fakturieren.</span><span class="sxs-lookup"><span data-stu-id="4c14a-124">Delivery lines for ad campaigns you create using this API will automatically bill the default payment instrument chosen on the **Promote your app** page in the dashboard.</span></span>

* <span data-ttu-id="4c14a-125">Sie (bzw. Ihre Organisation) müssen über ein Azure AD-Verzeichnis und die Berechtigung [Globaler Administrator](http://go.microsoft.com/fwlink/?LinkId=746654) für das Verzeichnis verfügen.</span><span class="sxs-lookup"><span data-stu-id="4c14a-125">You (or your organization) must have an Azure AD directory and you must have [Global administrator](http://go.microsoft.com/fwlink/?LinkId=746654) permission for the directory.</span></span> <span data-ttu-id="4c14a-126">Wenn Sie bereits mit Office 365oder anderen Unternehmensdiensten von Microsoft arbeiten, verfügen Sie schon über ein Azure AD-Verzeichnis.</span><span class="sxs-lookup"><span data-stu-id="4c14a-126">If you already use Office 365 or other business services from Microsoft, you already have Azure AD directory.</span></span> <span data-ttu-id="4c14a-127">Andernfalls können Sie [innerhalb von Dev Center ohne zusätzliche Kosten eine neue Azure AD-Instanz erstellen](../publish/associate-azure-ad-with-dev-center.md#create-a-brand-new-azure-ad-to-associate-with-your-dev-center-account).</span><span class="sxs-lookup"><span data-stu-id="4c14a-127">Otherwise, you can [create a new Azure AD in Dev Center](../publish/associate-azure-ad-with-dev-center.md#create-a-brand-new-azure-ad-to-associate-with-your-dev-center-account) for no additional charge.</span></span>

* <span data-ttu-id="4c14a-128">Sie müssen Ihrem Dev Center-Konto eine Azure AD-Anwendung zuordnen, die Mandanten-ID und die Client-ID für die Anwendung abrufen und einen Schlüssel generieren.</span><span class="sxs-lookup"><span data-stu-id="4c14a-128">You must associate an Azure AD application with your Dev Center account, retrieve the tenant ID and client ID for the application and generate a key.</span></span> <span data-ttu-id="4c14a-129">Die AzureAD-Anwendung stellt die App oder den Dienst dar, aus denen Sie die Windows Store-Werbungs-API aufrufen möchten.</span><span class="sxs-lookup"><span data-stu-id="4c14a-129">The Azure AD application represents the app or service from which you want to call the Windows Store promotions API.</span></span> <span data-ttu-id="4c14a-130">Sie benötigen die Mandanten-ID, die Client-ID und den Schlüssel zum Abrufen eines AzureAD-Zugriffstokens, das Sie an die API übergeben.</span><span class="sxs-lookup"><span data-stu-id="4c14a-130">You need the tenant ID, client ID and key to obtain an Azure AD access token that you pass to the API.</span></span>
    > [!NOTE]
    > <span data-ttu-id="4c14a-131">Sie müssen diesen Schritt nur einmal ausführen.</span><span class="sxs-lookup"><span data-stu-id="4c14a-131">You only need to perform this task one time.</span></span> <span data-ttu-id="4c14a-132">Wenn Sie im Besitz der Mandanten-ID, der Client-ID und des Schlüssel sind, können Sie diese Daten jederzeit wiederverwenden, um ein neues Azure AD-Zugriffstoken zu erstellen.</span><span class="sxs-lookup"><span data-stu-id="4c14a-132">After you have the tenant ID, client ID and key, you can reuse them any time you need to create a new Azure AD access token.</span></span>

<span data-ttu-id="4c14a-133">Gehen Sie wie folgt vor, um Ihrem Dev Center-Konto eine Azure AD-Anwendung zuzuordnen und die erforderlichen Werte abzurufen:</span><span class="sxs-lookup"><span data-stu-id="4c14a-133">To associate an Azure AD application with your Dev Center account and retrieve the required values:</span></span>

1.  <span data-ttu-id="4c14a-134">Rufen Sie in Dev Center die **Kontoeinstellungen** auf, klicken Sie auf **Benutzer verwalten**, und [ordnen Sie das Dev Center-Konto Ihrer Organisation dem Azure AD-Verzeichnis Ihrer Organisation zu](../publish/associate-azure-ad-with-dev-center.md).</span><span class="sxs-lookup"><span data-stu-id="4c14a-134">In Dev Center, go to your **Account settings**, click **Manage users**, and [associate your organization's Dev Center account with your organization's Azure AD directory](../publish/associate-azure-ad-with-dev-center.md).</span></span>

2.  <span data-ttu-id="4c14a-135">Klicken Sie auf der Seite **Benutzer verwalten** auf **AzureAD-Apps hinzufügen**, und fügen Sie die AzureAD-Anwendung hinzu, die die App oder den Dienst darstellt, mit denen Sie Werbekampagnen für Ihr Dev Center-Konto verwalten. Weisen Sie ihr anschließend die Rolle **Manager** zu.</span><span class="sxs-lookup"><span data-stu-id="4c14a-135">In the **Manage users** page, click **Add Azure AD applications**, add the Azure AD application that represents the app or service that you will use to manage promotion campaigns for your Dev Center account, and assign it the **Manager** role.</span></span> <span data-ttu-id="4c14a-136">Wenn diese Anwendung bereits in Ihrem AzureAD-Verzeichnis vorhanden ist, können Sie sie auf der Seite **Azure AD-Apps hinzufügen** auswählen, um sie Ihrem Dev Center-Konto hinzuzufügen.</span><span class="sxs-lookup"><span data-stu-id="4c14a-136">If this application already exists in your Azure AD directory, you can select it on the **Add Azure AD applications** page to add it to your Dev Center account.</span></span> <span data-ttu-id="4c14a-137">Andernfalls können Sie eine neue Azure AD-Anwendung auf der Seite **Azure AD-Apps hinzufügen** erstellen.</span><span class="sxs-lookup"><span data-stu-id="4c14a-137">Otherwise, you can create a new Azure AD application on the **Add Azure AD applications** page.</span></span> <span data-ttu-id="4c14a-138">Weitere Informationen finden Sie unter [Hinzufügen von Azure AD-Anwendungen zu Ihrem Dev Center-Konto](../publish/add-users-groups-and-azure-ad-applications.md#azure-ad-applications).</span><span class="sxs-lookup"><span data-stu-id="4c14a-138">For more information, see [Add Azure AD applications to your Dev Center account](../publish/add-users-groups-and-azure-ad-applications.md#azure-ad-applications).</span></span>

3.  <span data-ttu-id="4c14a-139">Wechseln Sie zurück zur Seite **Benutzer verwalten**, klicken Sie auf den Namen Ihrer Azure AD-Anwendung, um die Anwendungseinstellungen aufzurufen, und kopieren Sie die Werte unter **Mandanten-ID** und **Client-ID**.</span><span class="sxs-lookup"><span data-stu-id="4c14a-139">Return to the **Manage users** page, click the name of your Azure AD application to go to the application settings, and copy down the **Tenant ID** and **Client ID** values.</span></span>

4. <span data-ttu-id="4c14a-140">Klicken Sie auf **Neuen Schlüssel hinzufügen**.</span><span class="sxs-lookup"><span data-stu-id="4c14a-140">Click **Add new key**.</span></span> <span data-ttu-id="4c14a-141">Kopieren Sie auf dem folgenden Bildschirm den Wert unter **Schlüssel**.</span><span class="sxs-lookup"><span data-stu-id="4c14a-141">On the following screen, copy down the **Key** value.</span></span> <span data-ttu-id="4c14a-142">Nach dem Verlassen der Seite können Sie nicht mehr auf diese Informationen zugreifen.</span><span class="sxs-lookup"><span data-stu-id="4c14a-142">You won't be able to access this info again after you leave this page.</span></span> <span data-ttu-id="4c14a-143">Weitere Informationen finden Sie unter [Verwalten von Schlüsseln für eine Azure AD-App](../publish/add-users-groups-and-azure-ad-applications.md#manage-keys).</span><span class="sxs-lookup"><span data-stu-id="4c14a-143">For more information, see [Manage keys for an Azure AD application](../publish/add-users-groups-and-azure-ad-applications.md#manage-keys).</span></span>

<span id="obtain-an-azure-ad-access-token" />
## <a name="step-2-obtain-an-azure-ad-access-token"></a><span data-ttu-id="4c14a-144">Schritt 2: Abrufen eines AzureAD-Zugriffstokens</span><span class="sxs-lookup"><span data-stu-id="4c14a-144">Step 2: Obtain an Azure AD access token</span></span>

<span data-ttu-id="4c14a-145">Bevor Sie die Methoden in der Windows Store-Werbungs-API aufrufen, müssen Sie zuerst ein AzureAD-Zugriffstoken abrufen, das Sie an den **Authorization**-Header der einzelnen Methoden in der API übergeben.</span><span class="sxs-lookup"><span data-stu-id="4c14a-145">Before you call any of the methods in the Windows Store promotions API, you must first obtain an Azure AD access token that you pass to the **Authorization** header of each method in the API.</span></span> <span data-ttu-id="4c14a-146">Nachdem Sie ein Zugriffstoken abgerufen haben, können Sie es 60 Minuten lang verwenden, bevor es abläuft.</span><span class="sxs-lookup"><span data-stu-id="4c14a-146">After you obtain an access token, you have 60 minutes to use it before it expires.</span></span> <span data-ttu-id="4c14a-147">Nachdem das Token abgelaufen ist, können Sie es aktualisieren, um es in weiteren Aufrufen an die API zu verwenden.</span><span class="sxs-lookup"><span data-stu-id="4c14a-147">After the token expires, you can refresh the token so you can continue to use it in further calls to the API.</span></span>

<span data-ttu-id="4c14a-148">Befolgen Sie zum Abrufen des Zugriffstokens die Anweisungen unter [Aufrufe zwischen Diensten mithilfe von Clientanmeldeinformationen](https://azure.microsoft.com/documentation/articles/active-directory-protocols-oauth-service-to-service/), um eine HTTP POST-Anforderung an den ```https://login.microsoftonline.com/<tenant_id>/oauth2/token```-Endpunkt zu senden.</span><span class="sxs-lookup"><span data-stu-id="4c14a-148">To obtain the access token, follow the instructions in [Service to Service Calls Using Client Credentials](https://azure.microsoft.com/documentation/articles/active-directory-protocols-oauth-service-to-service/) to send an HTTP POST to the ```https://login.microsoftonline.com/<tenant_id>/oauth2/token``` endpoint.</span></span> <span data-ttu-id="4c14a-149">Hier ist ein Beispiel für eine Anforderung angegeben.</span><span class="sxs-lookup"><span data-stu-id="4c14a-149">Here is a sample request.</span></span>

```syntax
POST https://login.microsoftonline.com/<tenant_id>/oauth2/token HTTP/1.1
Host: login.microsoftonline.com
Content-Type: application/x-www-form-urlencoded; charset=utf-8

grant_type=client_credentials
&client_id=<your_client_id>
&client_secret=<your_client_secret>
&resource=https://manage.devcenter.microsoft.com
```

<span data-ttu-id="4c14a-150">Geben Sie für den Wert *tenant\_id* im POST-URI und die Parameter *client\_id* und *client\_secret* die Mandanten-ID, die Client-ID und den Schlüssel für Ihre Anwendung an, die Sie im vorherigen Abschnitt aus Dev Center abgerufen haben.</span><span class="sxs-lookup"><span data-stu-id="4c14a-150">For the *tenant\_id* value in the POST URI and the *client\_id* and *client\_secret* parameters, specify the tenant ID, client ID and the key for your application that you retrieved from Dev Center in the previous section.</span></span> <span data-ttu-id="4c14a-151">Für den Parameter *resource* müssen Sie ```https://manage.devcenter.microsoft.com``` angeben.</span><span class="sxs-lookup"><span data-stu-id="4c14a-151">For the *resource* parameter, you must specify ```https://manage.devcenter.microsoft.com```.</span></span>

<span data-ttu-id="4c14a-152">Nachdem das Zugriffstoken abgelaufen ist, können Sie es aktualisieren, indem Sie [diese Anleitung](https://azure.microsoft.com/documentation/articles/active-directory-protocols-oauth-code/#refreshing-the-access-tokens) befolgen.</span><span class="sxs-lookup"><span data-stu-id="4c14a-152">After your access token expires, you can refresh it by following the instructions [here](https://azure.microsoft.com/documentation/articles/active-directory-protocols-oauth-code/#refreshing-the-access-tokens).</span></span>

<span id="call-the-windows-store-promotions-api" />
## <a name="step-3-call-the-windows-store-promotions-api"></a><span data-ttu-id="4c14a-153">Schritt 3: Aufrufen der Windows Store-Werbungs-API</span><span class="sxs-lookup"><span data-stu-id="4c14a-153">Step 3: Call the Windows Store promotions API</span></span>

<span data-ttu-id="4c14a-154">Nachdem Sie ein AzureAD-Zugriffstoken abgerufen haben, können Sie die Windows Store-Werbungs-API aufrufen.</span><span class="sxs-lookup"><span data-stu-id="4c14a-154">After you have an Azure AD access token, you are ready to call the Windows Store promotions API.</span></span> <span data-ttu-id="4c14a-155">Sie müssen das Zugriffstoken an den **Authorization**-Header der einzelnen Methoden übergeben.</span><span class="sxs-lookup"><span data-stu-id="4c14a-155">You must pass the access token to the **Authorization** header of each method.</span></span>

<span data-ttu-id="4c14a-156">Im Kontext der Windows Store-Werbungs-API besteht eine Anzeigenkampagne aus einem *Kampagne*-Objekt, das allgemeine Informationen zur Kampagne enthält, und weiteren Objekten, die die *Lieferpositionen*, *Zielgruppenprofile* und *Werbemittel* für die Anzeigenkampagne darstellen.</span><span class="sxs-lookup"><span data-stu-id="4c14a-156">In the context of the Windows Store promotions API, an ad campaign consists of a *campaign* object that contains high-level information about the campaign, and additional objects that represent the *delivery lines*, *targeting profiles*, and *creatives* for the ad campaign.</span></span> <span data-ttu-id="4c14a-157">Die API enthält unterschiedliche Methodensätze, die nach diesen Objekttypen gruppiert sind.</span><span class="sxs-lookup"><span data-stu-id="4c14a-157">The API includes different sets of methods that are grouped by these object types.</span></span> <span data-ttu-id="4c14a-158">Um eine Kampagne zu erstellen, rufen Sie normalerweise für jedes dieser Objekte eine andere POST-Methode auf.</span><span class="sxs-lookup"><span data-stu-id="4c14a-158">To create a campaign, you typically call a different POST method for each of these objects.</span></span> <span data-ttu-id="4c14a-159">Die API bietet auch GET-Methoden, die Sie verwenden können, um ein Objekt abzurufen, und PUT-Methoden, mit denen Sie die Objekte „Kampagne”, „Lieferposition” und „Zielgruppenprofil” bearbeiten können.</span><span class="sxs-lookup"><span data-stu-id="4c14a-159">The API also provides GET methods you can use to retrieve any object and PUT methods you can use to edit campaign, delivery line, and targeting profile objects.</span></span>

<span data-ttu-id="4c14a-160">Weitere Informationen zu diesen Objekten und den zugehörigen Methoden finden Sie in der folgenden Tabelle:</span><span class="sxs-lookup"><span data-stu-id="4c14a-160">For more information about these objects and their related methods, see the following table.</span></span>


| <span data-ttu-id="4c14a-161">Objekt</span><span class="sxs-lookup"><span data-stu-id="4c14a-161">Object</span></span>       | <span data-ttu-id="4c14a-162">Beschreibung</span><span class="sxs-lookup"><span data-stu-id="4c14a-162">Description</span></span>   |
|---------------|-----------------|
| <span data-ttu-id="4c14a-163">Kampagnen</span><span class="sxs-lookup"><span data-stu-id="4c14a-163">Campaigns</span></span> |  <span data-ttu-id="4c14a-164">Dieses Objekt stellt die Anzeigenkampagne dar und befindet sich an der Spitze der Objektmodellhierarchie für Anzeigenkampagnen.</span><span class="sxs-lookup"><span data-stu-id="4c14a-164">This object represents the ad campaign, and it sits at the top of the object model hierarchy for ad campaigns.</span></span> <span data-ttu-id="4c14a-165">Dieses Objekt gibt den Typ der Kampagne, die Sie durchführen (bezahlt, Eigenwerbung oder Community), das Ziel der Kampagne, die Lieferpositionen für die Kampagne und andere Details an.</span><span class="sxs-lookup"><span data-stu-id="4c14a-165">This object identifies the type of campaign you are running (paid, house, or community), the campaign objective, the delivery lines for the campaign, and other details.</span></span> <span data-ttu-id="4c14a-166">Jede Kampagne kann nur einer App zugeordnet werden.</span><span class="sxs-lookup"><span data-stu-id="4c14a-166">Each campaign can be associated with only one app.</span></span><br/><br/><span data-ttu-id="4c14a-167">Weitere Informationen zu den Methoden für dieses Objekt finden Sie unter [Verwalten von Anzeigenkampagnen](manage-ad-campaigns.md).</span><span class="sxs-lookup"><span data-stu-id="4c14a-167">For more information about the methods related to this object, see [Manage ad campaigns](manage-ad-campaigns.md).</span></span><br/><br/><span data-ttu-id="4c14a-168">**Hinweis**&nbsp;&nbsp;Nach dem Erstellen einer Anzeigenkampagne können Sie mit der Methode [Abrufen der Leistungsdaten einer Anzeigenkampagne](get-ad-campaign-performance-data.md) in der [Windows Store-Analyse-API](access-analytics-data-using-windows-store-services.md) Leistungsdaten für die Kampagne abrufen.</span><span class="sxs-lookup"><span data-stu-id="4c14a-168">**Note**&nbsp;&nbsp;After you create an ad campaign, you can retrieve performance data for the campaign by using the [Get ad campaign performance data](get-ad-campaign-performance-data.md) method in the [Windows Store analytics API](access-analytics-data-using-windows-store-services.md).</span></span>  |
| <span data-ttu-id="4c14a-169">Lieferpositionen</span><span class="sxs-lookup"><span data-stu-id="4c14a-169">Delivery lines</span></span> | <span data-ttu-id="4c14a-170">Jede Kampagne verfügt über eine oder mehrere Lieferpositionen, die zum Kaufen von Inventar und Übermitteln Ihrer Anzeigen verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="4c14a-170">Every campaign has one or more delivery lines that are used to buy inventory and deliver your ads.</span></span> <span data-ttu-id="4c14a-171">Für jede Lieferposition können Sie Zielgruppen und Ihren Angebotspreis festlegen sowie entscheiden, wie viel Sie ausgeben möchten, indem Sie ein Budget angeben und eine Verknüpfung zu den Werbemitteln herstellen, die Sie verwenden möchten.</span><span class="sxs-lookup"><span data-stu-id="4c14a-171">For each delivery line, you can set targeting, set your bid price, and decide how much you want to spend by setting a budget and linking to creatives you want to use.</span></span><br/><br/><span data-ttu-id="4c14a-172">Weitere Informationen zu den Methoden für dieses Objekt finden Sie unter [Verwalten von Lieferpositionen für Anzeigenkampagnen](manage-delivery-lines-for-ad-campaigns.md).</span><span class="sxs-lookup"><span data-stu-id="4c14a-172">For more information about the methods related to this object, see [Manage delivery lines for ad campaigns](manage-delivery-lines-for-ad-campaigns.md).</span></span> |
| <span data-ttu-id="4c14a-173">Zielgruppenprofile</span><span class="sxs-lookup"><span data-stu-id="4c14a-173">Targeting profiles</span></span> | <span data-ttu-id="4c14a-174">Jede Lieferposition verfügt über ein Zielgruppenprofil, das die Benutzer, Regionen und Inventartypen für die Zielgruppe angibt.</span><span class="sxs-lookup"><span data-stu-id="4c14a-174">Every delivery line has one targeting profile that specifies the users, geographies and inventory types that you want to target.</span></span> <span data-ttu-id="4c14a-175">Zielgruppenprofile können als Vorlage erstellt und für alle Lieferpositionen gemeinsam genutzt werden.</span><span class="sxs-lookup"><span data-stu-id="4c14a-175">Targeting profiles can be created as a template and shared across delivery lines.</span></span><br/><br/><span data-ttu-id="4c14a-176">Weitere Informationen zu den Methoden für dieses Objekt finden Sie unter [Verwalten von Zielgruppenprofilen für Anzeigenkampagnen](manage-targeting-profiles-for-ad-campaigns.md).</span><span class="sxs-lookup"><span data-stu-id="4c14a-176">For more information about the methods related to this object, see [Manage targeting profiles for ad campaigns](manage-targeting-profiles-for-ad-campaigns.md).</span></span> |
| <span data-ttu-id="4c14a-177">Werbemittel</span><span class="sxs-lookup"><span data-stu-id="4c14a-177">Creatives</span></span> | <span data-ttu-id="4c14a-178">Jede Lieferposition verfügt über ein oder mehrere Werbemittel, die die Anzeigen darstellen, die im Rahmen der Kampagne für Kunden angezeigt werden.</span><span class="sxs-lookup"><span data-stu-id="4c14a-178">Every delivery line has one or more creatives that represent the ads that are shown to customers as part of the campaign.</span></span> <span data-ttu-id="4c14a-179">Ein Werbemittel kann einer oder mehreren Lieferpositionen sogar in verschiedenen Anzeigenkampagnen, sofern es sich immer um dieselbe App handelt, zugeordnet werden.</span><span class="sxs-lookup"><span data-stu-id="4c14a-179">A creative may be associated with one or more delivery lines, even across ad campaigns, provided it always represents the same app.</span></span><br/><br/><span data-ttu-id="4c14a-180">Weitere Informationen zu den Methoden für dieses Objekt finden Sie unter [Verwalten von Werbemitteln für Anzeigenkampagnen](manage-creatives-for-ad-campaigns.md).</span><span class="sxs-lookup"><span data-stu-id="4c14a-180">For more information about the methods related to this object, see [Manage creatives for ad campaigns](manage-creatives-for-ad-campaigns.md).</span></span> |


<span data-ttu-id="4c14a-181">Das folgende Diagramm zeigt die Beziehung zwischen Kampagnen, Lieferpositionen, Zielgruppenprofilen und Werbemitteln.</span><span class="sxs-lookup"><span data-stu-id="4c14a-181">The following diagram illustrates the relationship between campaigns, delivery lines, targeting profiles, and creatives.</span></span>

![Hierarchie von Anzeigenkampagnen](images/ad-campaign-hierarchy.png)

## <a name="code-example"></a><span data-ttu-id="4c14a-183">Codebeispiel</span><span class="sxs-lookup"><span data-stu-id="4c14a-183">Code example</span></span>

<span data-ttu-id="4c14a-184">Im folgenden Codebeispiel wird gezeigt, wie Sie ein AzureAD-Zugriffstoken abrufen und die Windows Store-Werbungs-API aus einer C#-Konsolen-App aufrufen.</span><span class="sxs-lookup"><span data-stu-id="4c14a-184">The following code example demonstrates how to obtain an Azure AD access token and call the Windows Store promotions API from a C# console app.</span></span> <span data-ttu-id="4c14a-185">Wenn Sie dieses Codebeispiel verwenden möchten, weisen Sie den Variablen *tenantId*, *clientId*, *clientSecret* und *appID* die entsprechenden Werte für Ihr Szenario zu.</span><span class="sxs-lookup"><span data-stu-id="4c14a-185">To use this code example, assign the *tenantId*, *clientId*, *clientSecret*, and *appID* variables to the appropriate values for your scenario.</span></span> <span data-ttu-id="4c14a-186">In diesem Beispiel wird das [Json.NET-Paket](http://www.newtonsoft.com/json) von Newtonsoft benötigt, um die von der Windows Store-Werbungs-API zurückgegebenen JSON-Daten zu deserialisieren.</span><span class="sxs-lookup"><span data-stu-id="4c14a-186">This example requires the [Json.NET package](http://www.newtonsoft.com/json) from Newtonsoft to deserialize the JSON data returned by the Windows Store promotions API.</span></span>

[!code-cs[<span data-ttu-id="4c14a-187">PromotionsApi</span><span class="sxs-lookup"><span data-stu-id="4c14a-187">PromotionsApi</span></span>](./code/StoreServicesExamples_Promotions/cs/Program.cs#PromotionsApiExample)]

## <a name="related-topics"></a><span data-ttu-id="4c14a-188">Verwandte Themen</span><span class="sxs-lookup"><span data-stu-id="4c14a-188">Related topics</span></span>

* [<span data-ttu-id="4c14a-189">Verwalten von Anzeigenkampagnen</span><span class="sxs-lookup"><span data-stu-id="4c14a-189">Manage ad campaigns</span></span>](manage-ad-campaigns.md)
* [<span data-ttu-id="4c14a-190">Verwalten von Lieferpositionen für Anzeigenkampagnen</span><span class="sxs-lookup"><span data-stu-id="4c14a-190">Manage delivery lines for ad campaigns</span></span>](manage-delivery-lines-for-ad-campaigns.md)
* [<span data-ttu-id="4c14a-191">Verwalten von Zielgruppenprofilen für Anzeigenkampagnen</span><span class="sxs-lookup"><span data-stu-id="4c14a-191">Manage targeting profiles for ad campaigns</span></span>](manage-targeting-profiles-for-ad-campaigns.md)
* [<span data-ttu-id="4c14a-192">Verwalten von Werbemitteln für Anzeigenkampagnen</span><span class="sxs-lookup"><span data-stu-id="4c14a-192">Manage creatives for ad campaigns</span></span>](manage-creatives-for-ad-campaigns.md)
* [<span data-ttu-id="4c14a-193">Abrufen der Leistungsdaten einer Anzeigenkampagne</span><span class="sxs-lookup"><span data-stu-id="4c14a-193">Get ad campaign performance data</span></span>](get-ad-campaign-performance-data.md)


 
