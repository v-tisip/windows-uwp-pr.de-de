---
ms.assetid: 94B5B2E9-BAEE-4B7F-BAF1-DA4D491427D7
description: Verwenden Sie diese Methode in der Microsoft Store-Einkaufs-API, um Abonnements abzurufen, für die ein bestimmter Benutzer Nutzungsberechtigungen hat.
title: Abrufen von Abonnements für einen Benutzer
ms.date: 07/10/2018
ms.topic: article
keywords: Windows10, UWP, Microsoft Store-Einkaufs-API, Abonnements
ms.localizationpriority: medium
ms.openlocfilehash: b568531ce0807ebc5be0d27a78b94547e8473ae6
ms.sourcegitcommit: b4c502d69a13340f6e3c887aa3c26ef2aeee9cee
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 12/03/2018
ms.locfileid: "8472437"
---
# <a name="get-subscriptions-for-a-user"></a><span data-ttu-id="b3505-104">Abrufen von Abonnements für einen Benutzer</span><span class="sxs-lookup"><span data-stu-id="b3505-104">Get subscriptions for a user</span></span>

<span data-ttu-id="b3505-105">Verwenden Sie diese Methode in der Microsoft Store-Einkaufs-API, um die Abonnement-Add-Ons abzurufen, für die ein bestimmter Benutzer Nutzungsberechtigungen hat.</span><span class="sxs-lookup"><span data-stu-id="b3505-105">Use this method in the Microsoft Store purchase API to get the subscription add-ons that a given user has entitlements to use.</span></span>

> [!NOTE]
> <span data-ttu-id="b3505-106">Diese Methode kann nur über Entwicklerkonten verwendet werden, die von Microsoft bereitgestellt wurden, um Abonnement-Add-Ons für UWP-Apps (Universelle Windows-Plattform) erstellen zu können.</span><span class="sxs-lookup"><span data-stu-id="b3505-106">This method can only be used by developer accounts that have been provisioned by Microsoft to be able to create subscription add-ons for Universal Windows Platform (UWP) apps.</span></span> <span data-ttu-id="b3505-107">Abonnement-Add-Ons sind derzeit für die meisten Entwicklerkonten nicht verfügbar.</span><span class="sxs-lookup"><span data-stu-id="b3505-107">Subscription add-ons are currently not available to most developer accounts.</span></span>

## <a name="prerequisites"></a><span data-ttu-id="b3505-108">Voraussetzungen</span><span class="sxs-lookup"><span data-stu-id="b3505-108">Prerequisites</span></span>

<span data-ttu-id="b3505-109">Zur Verwendung dieser Methode benötigen Sie:</span><span class="sxs-lookup"><span data-stu-id="b3505-109">To use this method, you will need:</span></span>

* <span data-ttu-id="b3505-110">Ein AzureAD-Zugriffstoken, das mit dem Zielgruppen-URI `https://onestore.microsoft.com` erstellt wurde.</span><span class="sxs-lookup"><span data-stu-id="b3505-110">An Azure AD access token that has the audience URI value `https://onestore.microsoft.com`.</span></span>
* <span data-ttu-id="b3505-111">Ein Microsoft Store-ID-Schlüssel, der die Identität des Benutzers darstellt, dessen Abonnements Sie abrufen möchten.</span><span class="sxs-lookup"><span data-stu-id="b3505-111">A Microsoft Store ID key that represents the identity of the user whose subscriptions you want to get.</span></span>

<span data-ttu-id="b3505-112">Weitere Informationen finden Sie unter [Verwalten von Produktansprüchen aus einem Dienst](view-and-grant-products-from-a-service.md).</span><span class="sxs-lookup"><span data-stu-id="b3505-112">For more information, see [Manage product entitlements from a service](view-and-grant-products-from-a-service.md).</span></span>

## <a name="request"></a><span data-ttu-id="b3505-113">Anforderung</span><span class="sxs-lookup"><span data-stu-id="b3505-113">Request</span></span>


### <a name="request-syntax"></a><span data-ttu-id="b3505-114">Anforderungssyntax</span><span class="sxs-lookup"><span data-stu-id="b3505-114">Request syntax</span></span>

| <span data-ttu-id="b3505-115">Methode</span><span class="sxs-lookup"><span data-stu-id="b3505-115">Method</span></span> | <span data-ttu-id="b3505-116">Anforderungs-URI</span><span class="sxs-lookup"><span data-stu-id="b3505-116">Request URI</span></span>                                            |
|--------|--------------------------------------------------------|
| <span data-ttu-id="b3505-117">POST</span><span class="sxs-lookup"><span data-stu-id="b3505-117">POST</span></span>   | ```https://purchase.mp.microsoft.com/v8.0/b2b/recurrences/query``` |


### <a name="request-header"></a><span data-ttu-id="b3505-118">Anforderungsheader</span><span class="sxs-lookup"><span data-stu-id="b3505-118">Request header</span></span>

| <span data-ttu-id="b3505-119">Header</span><span class="sxs-lookup"><span data-stu-id="b3505-119">Header</span></span>         | <span data-ttu-id="b3505-120">Typ</span><span class="sxs-lookup"><span data-stu-id="b3505-120">Type</span></span>   | <span data-ttu-id="b3505-121">Beschreibung</span><span class="sxs-lookup"><span data-stu-id="b3505-121">Description</span></span>      |
|----------------|--------|-------------------|
| <span data-ttu-id="b3505-122">Autorisierung</span><span class="sxs-lookup"><span data-stu-id="b3505-122">Authorization</span></span>  | <span data-ttu-id="b3505-123">String</span><span class="sxs-lookup"><span data-stu-id="b3505-123">string</span></span> | <span data-ttu-id="b3505-124">Erforderlich.</span><span class="sxs-lookup"><span data-stu-id="b3505-124">Required.</span></span> <span data-ttu-id="b3505-125">Das Azure AD-Zugriffstoken im Format **Bearer** &lt;*token*&gt;.</span><span class="sxs-lookup"><span data-stu-id="b3505-125">The Azure AD access token in the form **Bearer** &lt;*token*&gt;.</span></span>                           |
| <span data-ttu-id="b3505-126">Host</span><span class="sxs-lookup"><span data-stu-id="b3505-126">Host</span></span>           | <span data-ttu-id="b3505-127">string</span><span class="sxs-lookup"><span data-stu-id="b3505-127">string</span></span> | <span data-ttu-id="b3505-128">Muss auf den Wert **purchase.mp.microsoft.com** festgelegt werden.</span><span class="sxs-lookup"><span data-stu-id="b3505-128">Must be set to the value **purchase.mp.microsoft.com**.</span></span>                                            |
| <span data-ttu-id="b3505-129">Inhaltslänge</span><span class="sxs-lookup"><span data-stu-id="b3505-129">Content-Length</span></span> | <span data-ttu-id="b3505-130">number</span><span class="sxs-lookup"><span data-stu-id="b3505-130">number</span></span> | <span data-ttu-id="b3505-131">Die Länge des Anforderungstexts.</span><span class="sxs-lookup"><span data-stu-id="b3505-131">The length of the request body.</span></span>                                                                       |
| <span data-ttu-id="b3505-132">Inhaltstyp</span><span class="sxs-lookup"><span data-stu-id="b3505-132">Content-Type</span></span>   | <span data-ttu-id="b3505-133">string</span><span class="sxs-lookup"><span data-stu-id="b3505-133">string</span></span> | <span data-ttu-id="b3505-134">Gibt den Anforderungs- und Antworttyp an.</span><span class="sxs-lookup"><span data-stu-id="b3505-134">Specifies the request and response type.</span></span> <span data-ttu-id="b3505-135">Derzeit wird als einziger Wert **application/json** unterstützt.</span><span class="sxs-lookup"><span data-stu-id="b3505-135">Currently, the only supported value is **application/json**.</span></span> |


### <a name="request-body"></a><span data-ttu-id="b3505-136">Anforderungstext</span><span class="sxs-lookup"><span data-stu-id="b3505-136">Request body</span></span>

| <span data-ttu-id="b3505-137">Parameter</span><span class="sxs-lookup"><span data-stu-id="b3505-137">Parameter</span></span>      | <span data-ttu-id="b3505-138">Typ</span><span class="sxs-lookup"><span data-stu-id="b3505-138">Type</span></span>   | <span data-ttu-id="b3505-139">Beschreibung</span><span class="sxs-lookup"><span data-stu-id="b3505-139">Description</span></span>     | <span data-ttu-id="b3505-140">Erforderlich</span><span class="sxs-lookup"><span data-stu-id="b3505-140">Required</span></span> |
|----------------|--------|-----------------|----------|
| <span data-ttu-id="b3505-141">b2bKey</span><span class="sxs-lookup"><span data-stu-id="b3505-141">b2bKey</span></span>         | <span data-ttu-id="b3505-142">String</span><span class="sxs-lookup"><span data-stu-id="b3505-142">string</span></span> | <span data-ttu-id="b3505-143">Der [Microsoft Store-ID-Schlüssel](view-and-grant-products-from-a-service.md#step-4), der die Identität des Benutzers darstellt, dessen Abonnements Sie abrufen möchten.</span><span class="sxs-lookup"><span data-stu-id="b3505-143">The [Microsoft Store ID key](view-and-grant-products-from-a-service.md#step-4) that represents the identity of the user whose subscriptions you want to get.</span></span>  | <span data-ttu-id="b3505-144">Ja</span><span class="sxs-lookup"><span data-stu-id="b3505-144">Yes</span></span>      |
| <span data-ttu-id="b3505-145">continuationToken</span><span class="sxs-lookup"><span data-stu-id="b3505-145">continuationToken</span></span> |  <span data-ttu-id="b3505-146">Zeichenfolge</span><span class="sxs-lookup"><span data-stu-id="b3505-146">string</span></span>     |  <span data-ttu-id="b3505-147">Wenn der Benutzer über Berechtigungen für mehrere Abonnements verfügt, gibt der Antworttext ein Fortsetzungstoken zurück, wenn das Seitenlimit erreicht wird.</span><span class="sxs-lookup"><span data-stu-id="b3505-147">If the user has entitlements to multiple subscriptions, the response body returns a continuation token when the page limit is reached.</span></span> <span data-ttu-id="b3505-148">Geben Sie das Fortsetzungstoken hier bei nachfolgenden Aufrufen an, um die verbleibenden Produkte abzurufen.</span><span class="sxs-lookup"><span data-stu-id="b3505-148">Provide that continuation token here in subsequent calls to retrieve remaining products.</span></span>    | <span data-ttu-id="b3505-149">Nein</span><span class="sxs-lookup"><span data-stu-id="b3505-149">No</span></span>      |
| <span data-ttu-id="b3505-150">pageSize</span><span class="sxs-lookup"><span data-stu-id="b3505-150">pageSize</span></span>       | <span data-ttu-id="b3505-151">Zeichenfolge</span><span class="sxs-lookup"><span data-stu-id="b3505-151">string</span></span> | <span data-ttu-id="b3505-152">Die maximale Anzahl von Abonnements, die in einer Antwort zurückgegeben werden sollen.</span><span class="sxs-lookup"><span data-stu-id="b3505-152">The maximum number of subscriptions to return in one response.</span></span> <span data-ttu-id="b3505-153">Der Standardwert ist 25.</span><span class="sxs-lookup"><span data-stu-id="b3505-153">The default is 25.</span></span>     |  <span data-ttu-id="b3505-154">Nein</span><span class="sxs-lookup"><span data-stu-id="b3505-154">No</span></span>      |


### <a name="request-example"></a><span data-ttu-id="b3505-155">Anforderungsbeispiel</span><span class="sxs-lookup"><span data-stu-id="b3505-155">Request example</span></span>

<span data-ttu-id="b3505-156">Im folgenden Beispiel wird veranschaulicht, wie Sie mit dieser Methode die Abonnement-Add-Ons abrufen, für die ein bestimmter Benutzer Nutzungsberechtigungen hat.</span><span class="sxs-lookup"><span data-stu-id="b3505-156">The following example demonstrates how to use this method to get the subscription add-ons that a given user has entitlements to use.</span></span> <span data-ttu-id="b3505-157">Ersetzen Sie den Wert *b2bKey* durch den [Microsoft Store-ID-Schlüssel](view-and-grant-products-from-a-service.md#step-4), der die Identität des Benutzers darstellt, dessen Abonnements Sie abrufen möchten.</span><span class="sxs-lookup"><span data-stu-id="b3505-157">Replace the *b2bKey* value with the [Microsoft Store ID key](view-and-grant-products-from-a-service.md#step-4) that represents the identity of the user whose subscriptions you want to get.</span></span>

```json
POST https://purchase.mp.microsoft.com/v8.0/b2b/recurrences/query HTTP/1.1
Authorization: Bearer <your access token>
Content-Type: application/json
Host: https://purchase.mp.microsoft.com

{
  "b2bKey":  "eyJ0eXAiOiJ..."
}
```


## <a name="response"></a><span data-ttu-id="b3505-158">Antwort</span><span class="sxs-lookup"><span data-stu-id="b3505-158">Response</span></span>

<span data-ttu-id="b3505-159">Diese Methode gibt einen JSON-Antworttext mit einer Sammlung von Datenobjekten zurück, die die Abonnement-Add-Ons beschreiben, für die der Benutzer Nutzungsberechtigungen hat.</span><span class="sxs-lookup"><span data-stu-id="b3505-159">This method returns a JSON response body that contains a collection of data objects that describe the subscription add-ons that the user has entitlements to use.</span></span> <span data-ttu-id="b3505-160">Das folgende Beispiel zeigt den Antworttext für einen Benutzer, der über eine Berechtigung für ein Abonnement verfügt.</span><span class="sxs-lookup"><span data-stu-id="b3505-160">The following example demonstrates the response body for a user who has an entitlement for one subscription.</span></span>

```json
{
  "items": [
    {
      "autoRenew":true,
      "beneficiary":"pub:gFVuEBiZHPXonkYvtdOi+tLE2h4g2Ss0ZId0RQOwzDg=",
      "expirationTime":"2017-06-11T03:07:49.2552941+00:00",
      "id":"mdr:0:bc0cb6960acd4515a0e1d638192d77b7:77d5ebee-0310-4d23-b204-83e8613baaac",
      "lastModified":"2017-01-08T21:07:51.1459644+00:00",
      "market":"US",
      "productId":"9NBLGGH52Q8X",
      "skuId":"0024",
      "startTime":"2017-01-10T21:07:49.2552941+00:00",
      "recurrenceState":"Active"
    }
  ]
}
```


### <a name="response-body"></a><span data-ttu-id="b3505-161">Antworttext</span><span class="sxs-lookup"><span data-stu-id="b3505-161">Response body</span></span>

<span data-ttu-id="b3505-162">Der Antworttext enthält die folgenden Daten.</span><span class="sxs-lookup"><span data-stu-id="b3505-162">The response body contains the following data.</span></span>

| <span data-ttu-id="b3505-163">Wert</span><span class="sxs-lookup"><span data-stu-id="b3505-163">Value</span></span>        | <span data-ttu-id="b3505-164">Typ</span><span class="sxs-lookup"><span data-stu-id="b3505-164">Type</span></span>   | <span data-ttu-id="b3505-165">Beschreibung</span><span class="sxs-lookup"><span data-stu-id="b3505-165">Description</span></span>            |
|---------------|--------|---------------------|
| <span data-ttu-id="b3505-166">items</span><span class="sxs-lookup"><span data-stu-id="b3505-166">items</span></span> | <span data-ttu-id="b3505-167">Array</span><span class="sxs-lookup"><span data-stu-id="b3505-167">array</span></span> | <span data-ttu-id="b3505-168">Ein Array von Objekten, die Daten zu den einzelnen Abonnement-Add-Ons enthalten, für die der angegebene Benutzer Nutzungsberechtigungen hat.</span><span class="sxs-lookup"><span data-stu-id="b3505-168">An array of objects that contain data about each subscription add-on that the specified user has an entitlement to use.</span></span> <span data-ttu-id="b3505-169">Weitere Informationen zu den Daten in den einzelnen Objekten finden Sie in der folgenden Tabelle.</span><span class="sxs-lookup"><span data-stu-id="b3505-169">For more information about the data in each object, see the following table.</span></span>  |


<span data-ttu-id="b3505-170">Jedes Objekt im *items*-Array enthält die folgenden Werte:</span><span class="sxs-lookup"><span data-stu-id="b3505-170">Each object in the *items* array contains the following values.</span></span>

| <span data-ttu-id="b3505-171">Wert</span><span class="sxs-lookup"><span data-stu-id="b3505-171">Value</span></span>        | <span data-ttu-id="b3505-172">Typ</span><span class="sxs-lookup"><span data-stu-id="b3505-172">Type</span></span>   | <span data-ttu-id="b3505-173">Beschreibung</span><span class="sxs-lookup"><span data-stu-id="b3505-173">Description</span></span>                                                                 |
|---------------|--------|-----------------------------------------------|
| <span data-ttu-id="b3505-174">autoRenew</span><span class="sxs-lookup"><span data-stu-id="b3505-174">autoRenew</span></span> | <span data-ttu-id="b3505-175">Boolesch</span><span class="sxs-lookup"><span data-stu-id="b3505-175">Boolean</span></span> |  <span data-ttu-id="b3505-176">Gibt an, ob das Abonnement für die automatische Verlängerung am Ende des aktuellen Abonnementzeitraums konfiguriert ist.</span><span class="sxs-lookup"><span data-stu-id="b3505-176">Indicates whether the subscription is configured to automatically renew at the end of the current subscription period.</span></span>   |
| <span data-ttu-id="b3505-177">beneficiary</span><span class="sxs-lookup"><span data-stu-id="b3505-177">beneficiary</span></span> | <span data-ttu-id="b3505-178">Zeichenfolge</span><span class="sxs-lookup"><span data-stu-id="b3505-178">string</span></span> |  <span data-ttu-id="b3505-179">Die ID des Begünstigten für die Berechtigung, die diesem Abonnement zugeordnet ist.</span><span class="sxs-lookup"><span data-stu-id="b3505-179">The ID of the beneficiary of the entitlement that is associated with this subscription.</span></span>   |
| <span data-ttu-id="b3505-180">expirationTime</span><span class="sxs-lookup"><span data-stu-id="b3505-180">expirationTime</span></span> | <span data-ttu-id="b3505-181">Zeichenfolge</span><span class="sxs-lookup"><span data-stu-id="b3505-181">string</span></span> | <span data-ttu-id="b3505-182">Datum und Uhrzeit, an dem bzw. zu der das Abonnement abläuft, im Format ISO 8601.</span><span class="sxs-lookup"><span data-stu-id="b3505-182">The date and time the subscription will expire, in ISO 8601 format.</span></span> <span data-ttu-id="b3505-183">Dieses Feld ist nur verfügbar, wenn sich das Abonnement in bestimmten Zuständen befindet.</span><span class="sxs-lookup"><span data-stu-id="b3505-183">This field is only available when the subscription is in certain states.</span></span> <span data-ttu-id="b3505-184">Die Ablaufzeit gibt in der Regel an, wann der aktuelle Zustand abläuft.</span><span class="sxs-lookup"><span data-stu-id="b3505-184">The expiration time usually indicates when the current state expires.</span></span> <span data-ttu-id="b3505-185">Beispiel: Bei einem aktiven Abonnement gibt das Ablaufdatum an, wann die nächste automatische Verlängerung erfolgt.</span><span class="sxs-lookup"><span data-stu-id="b3505-185">For example, for an active subscription, the expiration date indicates when the next automatic renewal will occur.</span></span>    |
| <span data-ttu-id="b3505-186">expirationTimeWithGrace</span><span class="sxs-lookup"><span data-stu-id="b3505-186">expirationTimeWithGrace</span></span> | <span data-ttu-id="b3505-187">string</span><span class="sxs-lookup"><span data-stu-id="b3505-187">string</span></span> | <span data-ttu-id="b3505-188">Datum und Uhrzeit, die das Abonnement abläuft, einschließlich der Nachfrist im Format ISO 8601.</span><span class="sxs-lookup"><span data-stu-id="b3505-188">The date and time the subscription will expire including the grace period, in ISO 8601 format.</span></span> <span data-ttu-id="b3505-189">Dieser Wert gibt an, wenn der Benutzer verliert, Zugriff auf das Abonnement nach für die automatische Verlängerung des Abonnements fehlgeschlagen ist.</span><span class="sxs-lookup"><span data-stu-id="b3505-189">This value indicates when the user will lose access to the subscription after the subscription has failed to automatically renew.</span></span>    |
| <span data-ttu-id="b3505-190">id</span><span class="sxs-lookup"><span data-stu-id="b3505-190">id</span></span> | <span data-ttu-id="b3505-191">Zeichenfolge</span><span class="sxs-lookup"><span data-stu-id="b3505-191">string</span></span> |  <span data-ttu-id="b3505-192">Die ID des Abonnements.</span><span class="sxs-lookup"><span data-stu-id="b3505-192">The ID of the subscription.</span></span> <span data-ttu-id="b3505-193">Verwenden Sie diesen Wert, um das Abonnement anzugeben, das Sie durch Aufrufen der Methode zum [Ändern des Abrechnungszustands eines Abonnements für einen Benutzer ](change-the-billing-state-of-a-subscription-for-a-user.md) ändern möchten.</span><span class="sxs-lookup"><span data-stu-id="b3505-193">Use this value to indicate which subscription you want to modify when you call the [change the billing state of a subscription for a user](change-the-billing-state-of-a-subscription-for-a-user.md) method.</span></span>    |
| <span data-ttu-id="b3505-194">isTrial</span><span class="sxs-lookup"><span data-stu-id="b3505-194">isTrial</span></span> | <span data-ttu-id="b3505-195">Boolesch</span><span class="sxs-lookup"><span data-stu-id="b3505-195">Boolean</span></span> |  <span data-ttu-id="b3505-196">Gibt an, ob es sich bei dem Abonnement um eine Testversion handelt.</span><span class="sxs-lookup"><span data-stu-id="b3505-196">Indicates whether the subscription is a trial.</span></span>     |
| <span data-ttu-id="b3505-197">lastModified</span><span class="sxs-lookup"><span data-stu-id="b3505-197">lastModified</span></span> | <span data-ttu-id="b3505-198">Zeichenfolge</span><span class="sxs-lookup"><span data-stu-id="b3505-198">string</span></span> |  <span data-ttu-id="b3505-199">Datum und Uhrzeit, an dem bzw. zu der das Abonnement zuletzt geändert wurde, im Format ISO 8601.</span><span class="sxs-lookup"><span data-stu-id="b3505-199">The date and time the subscription was last modified, in ISO 8601 format.</span></span>      |
| <span data-ttu-id="b3505-200">market</span><span class="sxs-lookup"><span data-stu-id="b3505-200">market</span></span> | <span data-ttu-id="b3505-201">Zeichenfolge</span><span class="sxs-lookup"><span data-stu-id="b3505-201">string</span></span> | <span data-ttu-id="b3505-202">Der Ländercode (ein aus zwei Buchstaben bestehendes ISO3166-1-Alpha-2-Format), der vom Benutzer beim Kauf des Abonnement verwendet wurde.</span><span class="sxs-lookup"><span data-stu-id="b3505-202">The country code (in two-letter ISO 3166-1 alpha-2 format) in which the user acquired the subscription.</span></span>      |
| <span data-ttu-id="b3505-203">productId</span><span class="sxs-lookup"><span data-stu-id="b3505-203">productId</span></span> | <span data-ttu-id="b3505-204">Zeichenfolge</span><span class="sxs-lookup"><span data-stu-id="b3505-204">string</span></span> |  <span data-ttu-id="b3505-205">Die [Store-ID](in-app-purchases-and-trials.md#store-ids) für das [Produkt](in-app-purchases-and-trials.md#products-skus-and-availabilities), die das Abonnement-Add-On im Microsoft Store-Katalog darstellt.</span><span class="sxs-lookup"><span data-stu-id="b3505-205">The [Store ID](in-app-purchases-and-trials.md#store-ids) for the [product](in-app-purchases-and-trials.md#products-skus-and-availabilities) that represents the subscription add-on in the Microsoft Store catalog.</span></span> <span data-ttu-id="b3505-206">Ein Beispiel für die Store-ID eines Produkts ist 9NBLGGH42CFD.</span><span class="sxs-lookup"><span data-stu-id="b3505-206">An example Store ID for a product is 9NBLGGH42CFD.</span></span>     |
| <span data-ttu-id="b3505-207">skuId</span><span class="sxs-lookup"><span data-stu-id="b3505-207">skuId</span></span> | <span data-ttu-id="b3505-208">Zeichenfolge</span><span class="sxs-lookup"><span data-stu-id="b3505-208">string</span></span> |  <span data-ttu-id="b3505-209">Die [Store-ID](in-app-purchases-and-trials.md#store-ids) für die [SKU](in-app-purchases-and-trials.md#products-skus-and-availabilities), die das Abonnement-Add-On im Microsoft Store-Katalog darstellt.</span><span class="sxs-lookup"><span data-stu-id="b3505-209">The [Store ID](in-app-purchases-and-trials.md#store-ids) for the [SKU](in-app-purchases-and-trials.md#products-skus-and-availabilities) that represents the subscription add-on the Microsoft Store catalog.</span></span> <span data-ttu-id="b3505-210">Ein Beispiel für die Store-ID einer SKU ist 0010.</span><span class="sxs-lookup"><span data-stu-id="b3505-210">An example Store ID for a SKU is 0010.</span></span>    |
| <span data-ttu-id="b3505-211">startTime</span><span class="sxs-lookup"><span data-stu-id="b3505-211">startTime</span></span> | <span data-ttu-id="b3505-212">Zeichenfolge</span><span class="sxs-lookup"><span data-stu-id="b3505-212">string</span></span> |  <span data-ttu-id="b3505-213">Startdatum und -uhrzeit des Abonnements im Format ISO8601.</span><span class="sxs-lookup"><span data-stu-id="b3505-213">The start date and time for the subscription, in ISO 8601 format.</span></span>     |
| <span data-ttu-id="b3505-214">recurrenceState</span><span class="sxs-lookup"><span data-stu-id="b3505-214">recurrenceState</span></span> | <span data-ttu-id="b3505-215">Zeichenfolge</span><span class="sxs-lookup"><span data-stu-id="b3505-215">string</span></span>  |  <span data-ttu-id="b3505-216">Einer der folgenden Werte:</span><span class="sxs-lookup"><span data-stu-id="b3505-216">One of the following values:</span></span><ul><li><span data-ttu-id="b3505-217">**None**:&nbsp;&nbsp;Gibt ein unbefristetes Abonnement an.</span><span class="sxs-lookup"><span data-stu-id="b3505-217">**None**:&nbsp;&nbsp;This indicates a perpetual subscription.</span></span></li><li><span data-ttu-id="b3505-218">**Active**:&nbsp;&nbsp;Das Abonnement ist aktiv und der Benutzer ist zur Verwendung der Dienste berechtigt.</span><span class="sxs-lookup"><span data-stu-id="b3505-218">**Active**:&nbsp;&nbsp;The subscription is active and the user is entitled to use the services.</span></span></li><li><span data-ttu-id="b3505-219">**Inactive**:&nbsp;&nbsp;Das Abonnement hat das Ablaufdatum überschritten und der Benutzer hat die Option zur automatischen Verlängerung des Abonnements deaktiviert.</span><span class="sxs-lookup"><span data-stu-id="b3505-219">**Inactive**:&nbsp;&nbsp;The subscription is past the expiration date, and the user turned off the automatic renew option for the subscription.</span></span></li><li><span data-ttu-id="b3505-220">**Canceled**:&nbsp;&nbsp;Das Abonnement wurde absichtlich vor dem Ablaufdatum beendet, mit oder ohne Rückerstattung.</span><span class="sxs-lookup"><span data-stu-id="b3505-220">**Canceled**:&nbsp;&nbsp;The subscription has been purposefully terminated before the expiration date, with or without a refund.</span></span></li><li><span data-ttu-id="b3505-221">**InDunning**:&nbsp;&nbsp;Das Abonnement befindet sich im *Mahnstatus* (d.h. das Abonnement läuft in Kürze ab und Microsoft versucht, die Mittel zur automatischen Verlängerung des Abonnements zu akquirieren).</span><span class="sxs-lookup"><span data-stu-id="b3505-221">**InDunning**:&nbsp;&nbsp;The subscription is in *dunning* (that is, the subscription is nearing expiration, and Microsoft is trying to acquire funds to automatically renew the subscription).</span></span></li><li><span data-ttu-id="b3505-222">**Failed**:&nbsp;&nbsp;Der Mahnungszeitraum ist abgelaufen und das Abonnement konnte trotz mehrerer Versuche nicht verlängert werden.</span><span class="sxs-lookup"><span data-stu-id="b3505-222">**Failed**:&nbsp;&nbsp;The dunning period is over and the subscription failed to renew after several attempts.</span></span></li></ul><p>**<span data-ttu-id="b3505-223">Hinweis:</span><span class="sxs-lookup"><span data-stu-id="b3505-223">Note:</span></span>**</p><ul><li><span data-ttu-id="b3505-224">**Inactive**/**Canceled**/**Failed** sind abschließende Zustände.</span><span class="sxs-lookup"><span data-stu-id="b3505-224">**Inactive**/**Canceled**/**Failed** are terminal states.</span></span> <span data-ttu-id="b3505-225">Wenn ein Abonnement in einen dieser Status wechselt, muss der Benutzer das Abonnement erneut kaufen, um es wieder zu aktivieren.</span><span class="sxs-lookup"><span data-stu-id="b3505-225">When a subscription enters one of these states, the user must repurchase the subscription to activate it again.</span></span> <span data-ttu-id="b3505-226">Der Benutzer ist nicht berechtigt, die Dienste in diesen Zuständen zu verwenden.</span><span class="sxs-lookup"><span data-stu-id="b3505-226">The user is not entitled to use the services in these states.</span></span></li><li><span data-ttu-id="b3505-227">Wenn ein Abonnement sich im Status **Canceled** befindet, wird die Ablaufzeit mit dem Datum und der Uhrzeit des Abbruchs aktualisiert.</span><span class="sxs-lookup"><span data-stu-id="b3505-227">When a subscription is **Canceled**, the expirationTime will be updated with the date and time of the cancellation.</span></span></li><li><span data-ttu-id="b3505-228">Die ID des Abonnements bleibt während der gesamten Gültigkeitsdauer unverändert.</span><span class="sxs-lookup"><span data-stu-id="b3505-228">The ID of the subscription will remain the same during its entire lifetime.</span></span> <span data-ttu-id="b3505-229">Sie wird nicht geändert, wenn die Option zur automatischen Verlängerung aktiviert oder deaktiviert wird.</span><span class="sxs-lookup"><span data-stu-id="b3505-229">It will not change if the auto-renew option is turned on or off.</span></span> <span data-ttu-id="b3505-230">Wenn ein Benutzer ein Abonnement nach Erreichen eines abschließenden Zustands erneut kauft, wird eine neue Abonnement-ID erstellt.</span><span class="sxs-lookup"><span data-stu-id="b3505-230">If a user repurchases a subscription after reaching a terminal state, a new subscription ID will be created.</span></span></li><li><span data-ttu-id="b3505-231">Die Abonnement-ID sollte bei allen Aktionen verwendet werden, die auf ein individuelles Abonnement angewendet werden.</span><span class="sxs-lookup"><span data-stu-id="b3505-231">The ID of a subscription should be used to execute any operatoin on an individual subscription.</span></span></li><li><span data-ttu-id="b3505-232">Wenn ein Benutzer ein Abonnement nach der Kündigung bzw. Einstellung erneut erwirbt, werden beim Anfordern der Ergebnisse zum betreffenden Benutzer zwei Einträge angezeigt: ein Eintrag mit der alten Abonnement-ID in einem abschließenden Zustand und ein Eintrag mit der neuen Abonnement-ID in einem aktiven Zustand.</span><span class="sxs-lookup"><span data-stu-id="b3505-232">When a user repurchases a subscription after cancelling or discontinuing it, if you query the results for the user you will get two entries: one with the old subscription ID in a terminal state, and one with the new subscription ID in an active state.</span></span></li><li><span data-ttu-id="b3505-233">Es empfiehlt sich, die Werte „recurrenceState“ und „expirationTime“ stets zu überprüfen, da Aktualisierungen auf „recurrenceState“ u.U. einige Minuten (gelegentlich auch Stunden) verzögert erfolgen.</span><span class="sxs-lookup"><span data-stu-id="b3505-233">It's always a good practice to check both recurrenceState and expirationTime, since updates to recurrenceState can potentially be delayed by a few minutes (or occasionally hours).</span></span>       |
| <span data-ttu-id="b3505-234">cancellationDate</span><span class="sxs-lookup"><span data-stu-id="b3505-234">cancellationDate</span></span> | <span data-ttu-id="b3505-235">Zeichenfolge</span><span class="sxs-lookup"><span data-stu-id="b3505-235">string</span></span>   |  <span data-ttu-id="b3505-236">Datum und Uhrzeit, an dem bzw. zu der das Abonnement des Benutzers storniert wurde, im Format ISO 8601.</span><span class="sxs-lookup"><span data-stu-id="b3505-236">The date and time the user's subscription was cancelled, in ISO 8601 format.</span></span>     |


## <a name="related-topics"></a><span data-ttu-id="b3505-237">Verwandte Themen</span><span class="sxs-lookup"><span data-stu-id="b3505-237">Related topics</span></span>

* [<span data-ttu-id="b3505-238">Verwalten von Produktansprüchen aus einem Dienst</span><span class="sxs-lookup"><span data-stu-id="b3505-238">Manage product entitlements from a service</span></span>](view-and-grant-products-from-a-service.md)
* [<span data-ttu-id="b3505-239">Ändern des Abrechnungszustands eines Abonnements für einen Benutzer</span><span class="sxs-lookup"><span data-stu-id="b3505-239">Change the billing state of a subscription for a user</span></span>](change-the-billing-state-of-a-subscription-for-a-user.md)
* [<span data-ttu-id="b3505-240">Produktabfrage</span><span class="sxs-lookup"><span data-stu-id="b3505-240">Query for products</span></span>](query-for-products.md)
* [<span data-ttu-id="b3505-241">Melden von Verbrauchsprodukten als erfüllt</span><span class="sxs-lookup"><span data-stu-id="b3505-241">Report consumable products as fulfilled</span></span>](report-consumable-products-as-fulfilled.md)
* [<span data-ttu-id="b3505-242">Verlängern eines Microsoft Store-ID-Schlüssels</span><span class="sxs-lookup"><span data-stu-id="b3505-242">Renew a Microsoft Store ID key</span></span>](renew-a-windows-store-id-key.md)
