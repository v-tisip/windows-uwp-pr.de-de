---
author: mcleanbyron
Description: Learn how to register your UWP app to receive push notifications that you send from Windows Dev Center.
title: Konfigurieren Ihrer App für benutzerorientierte Pushbenachrichtigungen
ms.author: mcleans
ms.date: 02/08/2017
ms.topic: article
ms.prod: windows
ms.technology: uwp
keywords: Windows10, UWP, Microsoft Store Services SDK, benutzerorientierte Pushbenachrichtigungen, Dev Center
ms.assetid: 30c832b7-5fbe-4852-957f-7941df8eb85a
ms.localizationpriority: medium
ms.openlocfilehash: d44d4491d8f5f0a7cde65adbe8241a74e36e1506
ms.sourcegitcommit: 3727445c1d6374401b867c78e4ff8b07d92b7adc
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 08/29/2018
ms.locfileid: "2918801"
---
# <a name="configure-your-app-for-targeted-push-notifications"></a><span data-ttu-id="a3afb-103">Konfigurieren Ihrer App für benutzerorientierte Pushbenachrichtigungen</span><span class="sxs-lookup"><span data-stu-id="a3afb-103">Configure your app for targeted push notifications</span></span>

<span data-ttu-id="a3afb-104">Sie können die Seite **Pushbenachrichtigungen** im Windows Dev Center-Dashboard verwenden, um durch das Senden benutzerorientierter Pushbenachrichtigungen an die Geräte, auf denen Ihre universelle Windows-Plattform (UWP)-App installiert ist, direkt mit Kunden zu interagieren.</span><span class="sxs-lookup"><span data-stu-id="a3afb-104">You can use the **Push notifications** page in the Windows Dev Center dashboard to directly engage with customers by sending targeted push notifications to the devices on which your Universal Windows Platform (UWP) app is installed.</span></span> <span data-ttu-id="a3afb-105">So können Sie beispielsweise Ihre Kunden mithilfe von benutzerorientierten Pushbenachrichtigungen auffordern, aktiv zu werden, etwa Ihre App zu bewerten oder ein neues Feature auszuprobieren.</span><span class="sxs-lookup"><span data-stu-id="a3afb-105">For example, you can use targeted push notifications to encourage your customers to take an action, such as rating your app or trying a new feature.</span></span> <span data-ttu-id="a3afb-106">Sie können verschiedene Arten von Pushbenachrichtigungen verwenden, darunter Popupbenachrichtigungen, Kachelbenachrichtigungen und reine XML-Benachrichtigungen.</span><span class="sxs-lookup"><span data-stu-id="a3afb-106">You can send several different types of push notifications, including toast notifications, tile notifications, and raw XML notifications.</span></span> <span data-ttu-id="a3afb-107">Sie können auch die Rate der App-Starts nachverfolgen, die durch Ihre Pushbenachrichtigungen ausgelöst wurden.</span><span class="sxs-lookup"><span data-stu-id="a3afb-107">You can also track the rate of app launches that resulted from your push notifications.</span></span> <span data-ttu-id="a3afb-108">Weitere Informationen zu diesem Feature finden Sie unter [Senden von Pushbenachrichtigungen an den Kunden Ihrer App](../publish/send-push-notifications-to-your-apps-customers.md).</span><span class="sxs-lookup"><span data-stu-id="a3afb-108">For more information about this feature, see [Send push notifications to your app's customers](../publish/send-push-notifications-to-your-apps-customers.md).</span></span>

<span data-ttu-id="a3afb-109">Bevor Sie Ihren Kunden benutzerorientierte Pushbenachrichtigungen von Dev Center senden können, müssen Sie eine Methode der [StoreServicesEngagementManager](https://docs.microsoft.com/uwp/api/microsoft.services.store.engagement.storeservicesengagementmanager)-Klasse im Microsoft Store Services SDK verwenden, um Ihre App zum Empfang von Benachrichtigungen zu registrieren.</span><span class="sxs-lookup"><span data-stu-id="a3afb-109">Before you can send targeted push notifications to your customers from Dev Center, you must use a method of the [StoreServicesEngagementManager](https://docs.microsoft.com/uwp/api/microsoft.services.store.engagement.storeservicesengagementmanager) class in the Microsoft Store Services SDK to register your app to receive notifications.</span></span> <span data-ttu-id="a3afb-110">Sie können weitere Methoden dieser Klasse verwenden, um Dev Center zu benachrichtigen, dass Ihre App in Reaktion auf eine benutzerorientierte Pushbenachrichtigung gestartet wurde (wenn Sie die Rate der App-Starts aufgrund Ihrer Benachrichtigungen nachverfolgen möchten), oder um den Empfang von Benachrichtigungen zu beenden.</span><span class="sxs-lookup"><span data-stu-id="a3afb-110">You can use additional methods of this class to notify Dev Center that your app was launched in response to a targeted push notification (if you want to track the rate of app launches that resulted from your notifications) and to stop receiving notifications.</span></span>

## <a name="configure-your-project"></a><span data-ttu-id="a3afb-111">Konfigurieren des Projekts</span><span class="sxs-lookup"><span data-stu-id="a3afb-111">Configure your project</span></span>

<span data-ttu-id="a3afb-112">Gehen Sie vor dem Schreiben von Code wie folgt vor, um in Ihrem Projekt einen Verweis auf das Microsoft Store Services SDK hinzuzufügen:</span><span class="sxs-lookup"><span data-stu-id="a3afb-112">Before you write any code, follow these steps to add a reference to the Microsoft Store Services SDK in your project:</span></span>

1. <span data-ttu-id="a3afb-113">Falls noch nicht geschehen, [installieren Sie das Microsoft Store Services SDK](microsoft-store-services-sdk.md#install-the-sdk) auf Ihrem Entwicklungscomputer.</span><span class="sxs-lookup"><span data-stu-id="a3afb-113">If you have not done so already, [Install the Microsoft Store Services SDK](microsoft-store-services-sdk.md#install-the-sdk) on your development computer.</span></span> 
2. <span data-ttu-id="a3afb-114">Öffnen Sie das Projekt in Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="a3afb-114">Open your project in Visual Studio.</span></span>
3. <span data-ttu-id="a3afb-115">Klicken Sie im Projektmappen-Explorer mit der rechten Maustaste auf den Knoten **Verweise** für Ihr Projekt, und wählen Sie anschließend **Verweis hinzufügen** aus.</span><span class="sxs-lookup"><span data-stu-id="a3afb-115">In Solution Explorer, right-click the **References** node for your project and click **Add Reference**.</span></span>
4. <span data-ttu-id="a3afb-116">Erweitern Sie im **Verweis-Manager** die Option **Universelle Windows-App**, und klicken Sie auf **Erweiterungen**.</span><span class="sxs-lookup"><span data-stu-id="a3afb-116">In **Reference Manager**, expand **Universal Windows** and click **Extensions**.</span></span>
5. <span data-ttu-id="a3afb-117">Klicken Sie in der Liste der SDKs auf das Kontrollkästchen neben **Microsoft Engagement Framework** und anschließend auf **OK**.</span><span class="sxs-lookup"><span data-stu-id="a3afb-117">In the list of SDKs, click the check box next to **Microsoft Engagement Framework** and click **OK**.</span></span>

## <a name="register-for-push-notifications"></a><span data-ttu-id="a3afb-118">Registrierung für Pushbenachrichtigungen</span><span class="sxs-lookup"><span data-stu-id="a3afb-118">Register for push notifications</span></span>

<span data-ttu-id="a3afb-119">So registrieren Sie Ihre App für den Empfang benutzerorientierter Pushbenachrichtigungen von Dev Center</span><span class="sxs-lookup"><span data-stu-id="a3afb-119">To register your app to receive targeted push notifications from Dev Center:</span></span>

1. <span data-ttu-id="a3afb-120">Suchen Sie in Ihrem Projekt einen Codeabschnitt, der während des Starts ausgeführt wird und in dem Sie Ihre App zum Empfangen von Benachrichtigungen registrieren können.</span><span class="sxs-lookup"><span data-stu-id="a3afb-120">In your project, locate a section of code that runs during startup in which you can register your app to receive notifications.</span></span>
2. <span data-ttu-id="a3afb-121">Fügen Sie zu Beginn der Codedatei die folgende Anweisung ein:</span><span class="sxs-lookup"><span data-stu-id="a3afb-121">Add the following statement to the top of the code file.</span></span>

    [!code-cs[DevCenterNotifications](./code/StoreSDKSamples/cs/DevCenterNotifications.cs#EngagementNamespace)]

3. <span data-ttu-id="a3afb-122">Rufen Sie ein [StoreServicesEngagementManager](https://docs.microsoft.com/uwp/api/microsoft.services.store.engagement.storeservicesengagementmanager)-Objekt ab, und rufen Sie eine der [RegisterNotificationChannelAsync](https://docs.microsoft.com/uwp/api/microsoft.services.store.engagement.storeservicesengagementmanager.registernotificationchannelasync)-Überladungen in dem vorher identifizierten Startcode auf.</span><span class="sxs-lookup"><span data-stu-id="a3afb-122">Get a [StoreServicesEngagementManager](https://docs.microsoft.com/uwp/api/microsoft.services.store.engagement.storeservicesengagementmanager) object and call one of the [RegisterNotificationChannelAsync](https://docs.microsoft.com/uwp/api/microsoft.services.store.engagement.storeservicesengagementmanager.registernotificationchannelasync) overloads in the startup code you identified earlier.</span></span> <span data-ttu-id="a3afb-123">Diese Methode sollte bei jedem Start Ihrer App aufgerufen werden.</span><span class="sxs-lookup"><span data-stu-id="a3afb-123">This method should be called each time that your app is launched.</span></span>

  * <span data-ttu-id="a3afb-124">Wenn Sie möchten, dass Dev Center einen eigenen Kanal-URI für die Benachrichtigungen erstellt, rufen Sie die [RegisterNotificationChannelAsync()](https://docs.microsoft.com/uwp/api/microsoft.services.store.engagement.storeservicesengagementmanager.registernotificationchannelasync)-Überladung auf.</span><span class="sxs-lookup"><span data-stu-id="a3afb-124">If you want Dev Center to create its own channel URI for the notifications, call the [RegisterNotificationChannelAsync()](https://docs.microsoft.com/uwp/api/microsoft.services.store.engagement.storeservicesengagementmanager.registernotificationchannelasync) overload.</span></span>

      [!code-cs[DevCenterNotifications](./code/StoreSDKSamples/cs/DevCenterNotifications.cs#RegisterNotificationChannelAsync1)]
      > [!IMPORTANT]
      > <span data-ttu-id="a3afb-125">Wenn Ihre App auch [CreatePushNotificationChannelForApplicationAsync](https://docs.microsoft.com/uwp/api/windows.networking.pushnotifications.pushnotificationchannelmanager.createpushnotificationchannelforapplicationasync) zur Erstellung eines Benachrichtigungskanals für WNS aufruft, achten Sie darauf, dass Ihr Code nicht gleichzeitig die Überladungen [CreatePushNotificationChannelForApplicationAsync](https://docs.microsoft.com/uwp/api/windows.networking.pushnotifications.pushnotificationchannelmanager.createpushnotificationchannelforapplicationasync) und [RegisterNotificationChannelAsync()](https://docs.microsoft.com/uwp/api/microsoft.services.store.engagement.storeservicesengagementmanager.registernotificationchannelasync) aufruft.</span><span class="sxs-lookup"><span data-stu-id="a3afb-125">If your app also calls [CreatePushNotificationChannelForApplicationAsync](https://docs.microsoft.com/uwp/api/windows.networking.pushnotifications.pushnotificationchannelmanager.createpushnotificationchannelforapplicationasync) to create a notification channel for WNS, make sure that your code does not call [CreatePushNotificationChannelForApplicationAsync](https://docs.microsoft.com/uwp/api/windows.networking.pushnotifications.pushnotificationchannelmanager.createpushnotificationchannelforapplicationasync) and the [RegisterNotificationChannelAsync()](https://docs.microsoft.com/uwp/api/microsoft.services.store.engagement.storeservicesengagementmanager.registernotificationchannelasync) overload simultaneously.</span></span> <span data-ttu-id="a3afb-126">Wenn Sie beide Methoden aufrufen müssen, stellen Sie sicher, dass Sie sie nacheinander aufrufen und dass die Rückgabe einer der Methoden abgewartet wird, bevor die andere aufgerufen wird.</span><span class="sxs-lookup"><span data-stu-id="a3afb-126">If you need to call both of these methods, make sure that you call them sequentially and await the return of one method before calling the other.</span></span>

  * <span data-ttu-id="a3afb-127">Wenn Sie den Kanal-URI für benutzerorientierte Pushbenachrichtigungen von Dev Center, angeben möchten, rufen Sie die Überladung [RegisterNotificationChannelAsync(StoreServicesNotificationChannelParameters)](https://docs.microsoft.com/uwp/api/microsoft.services.store.engagement.storeservicesengagementmanager.registernotificationchannelasync) auf.</span><span class="sxs-lookup"><span data-stu-id="a3afb-127">If you want to specify the channel URI to use for targeted push notifications from Dev Center, call the [RegisterNotificationChannelAsync(StoreServicesNotificationChannelParameters)](https://docs.microsoft.com/uwp/api/microsoft.services.store.engagement.storeservicesengagementmanager.registernotificationchannelasync) overload.</span></span> <span data-ttu-id="a3afb-128">Sie sollten dies beispielsweise tun, wenn Ihre App den Windows-Pushbenachrichtigungsdienst (WNS) bereits verwendet und Sie dieselbe Kanal-URI verwenden möchten.</span><span class="sxs-lookup"><span data-stu-id="a3afb-128">For example, might want to do this if your app already uses Windows Push Notification Services (WNS) and you want to use the same channel URI.</span></span> <span data-ttu-id="a3afb-129">Erstellen Sie zuerst ein [StoreServicesNotificationChannelParameters](https://docs.microsoft.com/uwp/api/microsoft.services.store.engagement.storeservicesnotificationchannelparameters)-Objekt, und weisen Sie die [CustomNotificationChannelUri](https://docs.microsoft.com/uwp/api/microsoft.services.store.engagement.storeservicesnotificationchannelparameters.customnotificationchanneluri)-Eigenschaft dem Kanal-URI zu.</span><span class="sxs-lookup"><span data-stu-id="a3afb-129">You must first create a [StoreServicesNotificationChannelParameters](https://docs.microsoft.com/uwp/api/microsoft.services.store.engagement.storeservicesnotificationchannelparameters) object and assign the [CustomNotificationChannelUri](https://docs.microsoft.com/uwp/api/microsoft.services.store.engagement.storeservicesnotificationchannelparameters.customnotificationchanneluri) property to your channel URI.</span></span>

      [!code-cs[DevCenterNotifications](./code/StoreSDKSamples/cs/DevCenterNotifications.cs#RegisterNotificationChannelAsync2)]

> [!NOTE]
> <span data-ttu-id="a3afb-130">Beim Aufrufen der **RegisterNotificationChannelAsync**-Methode wird eine Datei mit dem Namen MicrosoftStoreEngagementSDKId.txt im lokalen App-Datenspeicher für Ihre App erstellt. (Dies ist der von der Eigenschaft [ApplicationData.LocalFolder](https://docs.microsoft.com/uwp/api/Windows.Storage.ApplicationData.LocalFolder) zurückgegebene Ordner.)</span><span class="sxs-lookup"><span data-stu-id="a3afb-130">When you call the **RegisterNotificationChannelAsync** method, a file named MicrosoftStoreEngagementSDKId.txt is created in the local app data store for your app (the folder returned by the [ApplicationData.LocalFolder](https://docs.microsoft.com/uwp/api/Windows.Storage.ApplicationData.LocalFolder) property).</span></span> <span data-ttu-id="a3afb-131">Diese Datei enthält eine ID, die von der Infrastruktur der benutzerorientierten Pushbenachrichtigungen verwendet wird.</span><span class="sxs-lookup"><span data-stu-id="a3afb-131">This file contains an ID that is used by the targeted push notifications infrastructure.</span></span> <span data-ttu-id="a3afb-132">Stellen Sie sicher, dass Ihre App diese Datei nicht ändert oder löscht.</span><span class="sxs-lookup"><span data-stu-id="a3afb-132">Make sure that your app does not modify or delete this file.</span></span> <span data-ttu-id="a3afb-133">Andernfalls erhalten die Benutzer möglicherweise mehrere Instanzen von Benachrichtigungen, oder die Benachrichtigungen verhalten sich auf andere Weise nicht ordnungsgemäß.</span><span class="sxs-lookup"><span data-stu-id="a3afb-133">Otherwise, your users may receive multiple instances of notifications, or the notifications may not behave properly in other ways.</span></span>

<span id="notification-customers" />

### <a name="how-targeted-push-notifications-are-routed-to-customers"></a><span data-ttu-id="a3afb-134">Wie benutzerorientierte Pushbenachrichtigungen an Kunden weitergeleitet werden</span><span class="sxs-lookup"><span data-stu-id="a3afb-134">How targeted push notifications are routed to customers</span></span>

<span data-ttu-id="a3afb-135">Wenn Ihre App **RegisterNotificationChannelAsync** aufruft, erfasst diese Methode das Microsoft-Konto des Kunden, der derzeit bei dem Gerät angemeldet ist.</span><span class="sxs-lookup"><span data-stu-id="a3afb-135">When your app calls **RegisterNotificationChannelAsync**, this method collects the Microsoft account of the customer who is currently signed in to the device.</span></span> <span data-ttu-id="a3afb-136">Wenn Sie später eine benutzerorientierte Pushbenachrichtigung an ein Segment senden, in dem dieser Kunden vorhanden ist, sendet Dev Center die Benachrichtigung an Geräte, die mit dem Microsoft-Konto dieses Kunden verknüpft sind.</span><span class="sxs-lookup"><span data-stu-id="a3afb-136">Later, when you send a targeted push notification to a segment that includes this customer, Dev Center sends the notification to devices that are associated with this customer's Microsoft account.</span></span>

<span data-ttu-id="a3afb-137">Beachten Sie Folgendes: Wenn der Kunde, der Ihre App gestartet hat, das Gerät an eine anderen Person übergibt, jedoch noch mit seinem Microsoft-Konto bei diesem Gerät angemeldet ist, sieht die andere Person möglicherweise die Benachrichtigung, die für den ursprünglichen Kunden bestimmt war.</span><span class="sxs-lookup"><span data-stu-id="a3afb-137">If the customer who started your app gives their device to someone else to use while they are still signed in to the device with their Microsoft account, be aware that the other person may see the notification that was targeted at the original customer.</span></span> <span data-ttu-id="a3afb-138">Dies kann unerwünschte Folgen nach sich ziehen, insbesondere im Fall von Apps, die Dienste anbieten, für deren Nutzung Kunden sich anmelden müssen.</span><span class="sxs-lookup"><span data-stu-id="a3afb-138">This can have unintended consequences, particularly for apps that offer services that customers can sign in to use.</span></span> <span data-ttu-id="a3afb-139">Um zu verhindern, dass andere Benutzer in diesem Szenario Ihre benutzerorientierte Benachrichtigungen sehen können, rufen Sie die [UnregisterNotificationChannelAsync](https://docs.microsoft.com/uwp/api/microsoft.services.store.engagement.storeservicesengagementmanager.unregisternotificationchannelasync)-Methode auf, wenn Kunden sich von Ihrer App abmelden.</span><span class="sxs-lookup"><span data-stu-id="a3afb-139">To prevent other users from seeing your targeted notifications in this scenario, call the [UnregisterNotificationChannelAsync](https://docs.microsoft.com/uwp/api/microsoft.services.store.engagement.storeservicesengagementmanager.unregisternotificationchannelasync) method when customers sign out of your app.</span></span> <span data-ttu-id="a3afb-140">Weitere Informationen finden Sie unter [Aufheben der Registrierung für Pushbenachrichtigungen](#unregister) weiter unten in diesem Artikel.</span><span class="sxs-lookup"><span data-stu-id="a3afb-140">For more information, see [Unregister for push notifications](#unregister) later in this article.</span></span>

### <a name="how-your-app-responds-when-the-user-launches-your-app"></a><span data-ttu-id="a3afb-141">Reaktionsweise Ihrer App, wenn der Benutzer die App startet</span><span class="sxs-lookup"><span data-stu-id="a3afb-141">How your app responds when the user launches your app</span></span>

<span data-ttu-id="a3afb-142">Nachdem Ihre App registriert ist, um Benachrichtigungen zu empfangen, und Sie [eine Pushbenachrichtigung an den Kunden Ihrer App aus Dev Center senden](../publish/send-push-notifications-to-your-apps-customers.md), wird einer der folgenden Einstiegspunkte in Ihre App aufgerufen, wenn der Benutzer die App in Reaktion auf Ihre Pushbenachrichtigung startet.</span><span class="sxs-lookup"><span data-stu-id="a3afb-142">After your app is registered to receive notifications and you [send a push notification to your app's customers from Dev Center](../publish/send-push-notifications-to-your-apps-customers.md), one of the following entry points in your app will be called when the user launches your app in response to your push notification.</span></span> <span data-ttu-id="a3afb-143">Wenn Sie Code haben, der ausgeführt werden soll, wenn der Benutzer die App startet, können Sie ihn einem dieser Einstiegspunkte in Ihrer App hinzufügen.</span><span class="sxs-lookup"><span data-stu-id="a3afb-143">If you have some code that you want to run when the user launches your app, you can add the code to one of these entry points in your app.</span></span>

  * <span data-ttu-id="a3afb-144">Hat die Pushbenachrichtigung einen Vordergrund-Aktivierungstyp, übergehen Sie die [OnActivated](https://docs.microsoft.com/uwp/api/windows.ui.xaml.application.onactivated)-Methode der **App**-Klasse in Ihrem Projekt, und fügen Sie Ihren Code dieser Methode hinzu.</span><span class="sxs-lookup"><span data-stu-id="a3afb-144">If the push notification has a foreground activation type, override the [OnActivated](https://docs.microsoft.com/uwp/api/windows.ui.xaml.application.onactivated) method of the **App** class in your project and add your code to this method.</span></span>

  * <span data-ttu-id="a3afb-145">Hat die Pushbenachrichtigung einen Hintergrund-Aktivierungstyp, fügen Sie Ihren Code der [Run](https://docs.microsoft.com/uwp/api/windows.applicationmodel.background.ibackgroundtask.run)-Methode für Ihre [Hintergrundaufgabe](../launch-resume/support-your-app-with-background-tasks.md) hinzu.</span><span class="sxs-lookup"><span data-stu-id="a3afb-145">If the push notification has a background activation type, add your code to the [Run](https://docs.microsoft.com/uwp/api/windows.applicationmodel.background.ibackgroundtask.run) method for your [background task](../launch-resume/support-your-app-with-background-tasks.md).</span></span>

<span data-ttu-id="a3afb-146">So können Sie beispielsweise die Benutzer Ihrer App, die kostenpflichtige Add-Ons gekauft haben, mit einem kostenlosen Add-On belohnen.</span><span class="sxs-lookup"><span data-stu-id="a3afb-146">For example, you might want to reward the users of your app that have purchased any paid add-ons in your app by granting them a free add-on.</span></span> <span data-ttu-id="a3afb-147">In diesem Fall können Sie eine Pushbenachrichtigung an ein [Kundensegment](../publish/create-customer-segments.md) senden, die auf diese Benutzer ausgerichtet ist.</span><span class="sxs-lookup"><span data-stu-id="a3afb-147">In this case, you can send a push notification to a [customer segment](../publish/create-customer-segments.md) that targets these users.</span></span> <span data-ttu-id="a3afb-148">Dann können Sie in einem der oben aufgeführten Einstiegspunkte Code hinzufügen, um diesen Kunden einen kostenlosen [In-App-Kauf](in-app-purchases-and-trials.md) zu gewähren.</span><span class="sxs-lookup"><span data-stu-id="a3afb-148">Then, you can add code to grant them a free [in-app purchase](in-app-purchases-and-trials.md) in one of the entry points listed above.</span></span>

## <a name="notify-dev-center-of-your-app-launch"></a><span data-ttu-id="a3afb-149">Benachrichtigen des Dev Centers über den Start Ihrer App</span><span class="sxs-lookup"><span data-stu-id="a3afb-149">Notify Dev Center of your app launch</span></span>

<span data-ttu-id="a3afb-150">Bei Auswahl der Option zur **Nachverfolgung der App-Startrate** für Ihre benutzerorientierte Pushbenachrichtigung in Dev Center rufen Sie die [ParseArgumentsAndTrackAppLaunch](https://docs.microsoft.com/uwp/api/microsoft.services.store.engagement.storeservicesengagementmanager.parseargumentsandtrackapplaunch)-Methode aus dem entsprechenden Einstiegspunkt in die App auf, um Dev Center zu benachrichtigen, dass Ihre App in Reaktion auf eine Pushbenachrichtigung gestartet wurde.</span><span class="sxs-lookup"><span data-stu-id="a3afb-150">If you select the **Track app launch rate** option for your targeted push notification in Dev Center, call the [ParseArgumentsAndTrackAppLaunch](https://docs.microsoft.com/uwp/api/microsoft.services.store.engagement.storeservicesengagementmanager.parseargumentsandtrackapplaunch) method from the appropriate entry point in your app to notify Dev Center that your app was launched in response to a push notification.</span></span>

<span data-ttu-id="a3afb-151">Diese Methode gibt auch die ursprünglichen Startargumente für Ihre App zurück.</span><span class="sxs-lookup"><span data-stu-id="a3afb-151">This method also returns the original launch arguments for your app.</span></span> <span data-ttu-id="a3afb-152">Wenn Sie sich für die Nachverfolgung der App-Startrate für Ihre Pushbenachrichtigung entschieden haben, wird den Startargumenten eine nicht transparente Nachverfolgungs-ID hinzugefügt, um die Nachverfolgung der App-Starts in Dev Center zu unterstützen.</span><span class="sxs-lookup"><span data-stu-id="a3afb-152">When you choose to track the app launch rate for your push notification, an opaque tracking ID is added to the launch arguments to help track the app launch in Dev Center.</span></span> <span data-ttu-id="a3afb-153">Sie müssen die Startargumente für Ihre App der [ParseArgumentsAndTrackAppLaunch](https://docs.microsoft.com/uwp/api/microsoft.services.store.engagement.storeservicesengagementmanager.parseargumentsandtrackapplaunch)-Methode übergeben, und diese Methode sendet die Nachverfolgungs-ID an Dev Center, entfernt sie aus den Startargumenten und gibt die ursprünglichen Startargumente an Ihren Code weiter.</span><span class="sxs-lookup"><span data-stu-id="a3afb-153">You must pass the launch arguments for your app to the [ParseArgumentsAndTrackAppLaunch](https://docs.microsoft.com/uwp/api/microsoft.services.store.engagement.storeservicesengagementmanager.parseargumentsandtrackapplaunch) method, and this method sends the tracking ID to Dev Center, removes the tracking ID from the launch arguments, and returns the original launch arguments to your code.</span></span>

<span data-ttu-id="a3afb-154">Die Art und Weise des Aufrufs der Methode hängt von dem Aktivierungstyp der Pushbenachrichtigung ab.</span><span class="sxs-lookup"><span data-stu-id="a3afb-154">The way you call this method depends on the activation type of the push notification:</span></span>

* <span data-ttu-id="a3afb-155">Hat die Pushbenachrichtigung einen Vordergrund-Aktivierungstyp, rufen Sie diese Methode aus der [OnActivated](https://docs.microsoft.com/uwp/api/windows.ui.xaml.application.onactivated)-Methodenüberschreibung in Ihrer App auf, und übergeben Sie die Argumente, die im [ToastNotificationActivatedEventArgs](https://docs.microsoft.com/uwp/api/Windows.ApplicationModel.Activation.ToastNotificationActivatedEventArgs)-Objekt verfügbar sind, an das Objekt, das an diese Methode übergeben wird.</span><span class="sxs-lookup"><span data-stu-id="a3afb-155">If the push notification has a foreground activation type, call this method from the [OnActivated](https://docs.microsoft.com/uwp/api/windows.ui.xaml.application.onactivated) method override in your app and pass the arguments that are available in the [ToastNotificationActivatedEventArgs](https://docs.microsoft.com/uwp/api/Windows.ApplicationModel.Activation.ToastNotificationActivatedEventArgs) object that is passed to this method.</span></span> <span data-ttu-id="a3afb-156">Im folgenden Codebeispiel wird davon ausgegangen, dass Ihre Codedatei **using**-Anweisungen für die Namespaces **Microsoft.Services.Store.Engagement** und **Windows.ApplicationModel.Activation** enthält.</span><span class="sxs-lookup"><span data-stu-id="a3afb-156">The following code example assumes that your code file has **using** statements for the **Microsoft.Services.Store.Engagement** and  **Windows.ApplicationModel.Activation** namespaces.</span></span>

  [!code-cs[DevCenterNotifications](./code/StoreSDKSamples/cs/App.xaml.cs#OnActivated)]

* <span data-ttu-id="a3afb-157">Wenn die Pushbenachrichtigung einen Hintergrundaktivierungstyp hat, rufen Sie diese Methode aus der [Run](https://docs.microsoft.com/uwp/api/windows.applicationmodel.background.ibackgroundtask.run)-Methode für Ihre [Hintergrundaufgabe](../launch-resume/support-your-app-with-background-tasks.md) auf, und übergeben Sie die Argumente, die im [ToastNotificationActionTriggerDetail](https://docs.microsoft.com/uwp/api/Windows.UI.Notifications.ToastNotificationActionTriggerDetail)-Objekt verfügbar sind, das an diese Methode übergeben wird.</span><span class="sxs-lookup"><span data-stu-id="a3afb-157">If the push notification has a background activation type, call this method from the [Run](https://docs.microsoft.com/uwp/api/windows.applicationmodel.background.ibackgroundtask.run) method for your [background task](../launch-resume/support-your-app-with-background-tasks.md) and pass the arguments that are available in the [ToastNotificationActionTriggerDetail](https://docs.microsoft.com/uwp/api/Windows.UI.Notifications.ToastNotificationActionTriggerDetail) object that is passed to this method.</span></span> <span data-ttu-id="a3afb-158">Im folgenden Codebeispiel wird davon ausgegangen, dass Ihre Codedatei **using**-Anweisungen für die Namespaces **Microsoft.Services.Store.Engagement**, **Windows.ApplicationModel.Background** und **Windows.UI.Notifications** enthält.</span><span class="sxs-lookup"><span data-stu-id="a3afb-158">The following code example assumes that your code file has **using** statements for the **Microsoft.Services.Store.Engagement**, **Windows.ApplicationModel.Background**, and **Windows.UI.Notifications** namespaces.</span></span>

  [!code-cs[DevCenterNotifications](./code/StoreSDKSamples/cs/DevCenterNotifications.cs#Run)]

<span id="unregister" />

## <a name="unregister-for-push-notifications"></a><span data-ttu-id="a3afb-159">Aufheben der Registrierung für Pushbenachrichtigungen</span><span class="sxs-lookup"><span data-stu-id="a3afb-159">Unregister for push notifications</span></span>

<span data-ttu-id="a3afb-160">Wenn Sie möchten, dass die App keine weiteren benutzerorientierten Pushbenachrichtigungen von Dev Center empfängt, rufen Sie die [UnregisterNotificationChannelAsync](https://docs.microsoft.com/uwp/api/microsoft.services.store.engagement.storeservicesengagementmanager.unregisternotificationchannelasync)-Methode auf.</span><span class="sxs-lookup"><span data-stu-id="a3afb-160">If you want your app to stop receiving targeted push notifications from Dev Center, call the [UnregisterNotificationChannelAsync](https://docs.microsoft.com/uwp/api/microsoft.services.store.engagement.storeservicesengagementmanager.unregisternotificationchannelasync) method.</span></span>

[!code-cs[DevCenterNotifications](./code/StoreSDKSamples/cs/DevCenterNotifications.cs#UnregisterNotificationChannelAsync)]

<span data-ttu-id="a3afb-161">Beachten Sie, dass diese Methode den Kanal, der für Benachrichtigungen verwendet wird, ungültig macht, damit die App keine Pushbenachrichtigungen *irgendwelcher* Dienste mehr empfängt.</span><span class="sxs-lookup"><span data-stu-id="a3afb-161">Note that this method invalidates the channel that is being used for notifications so the app no longer receives push notifications from *any* services.</span></span> <span data-ttu-id="a3afb-162">Nachdem der Kanal geschlossen wurde, kann er nicht mehr für Dienste verwendet werden, einschließlich benutzerorientierter Pushbenachrichtigungen von Dev Center und anderer Benachrichtigungen über WNS.</span><span class="sxs-lookup"><span data-stu-id="a3afb-162">After it has been closed, the channel cannot be used again for any services, including targeted push notifications from Dev Center and other notifications using WNS.</span></span> <span data-ttu-id="a3afb-163">Damit wieder Pushbenachrichtigungen an diese App gesendet werden können, muss die App einen neuen Kanal anfragen.</span><span class="sxs-lookup"><span data-stu-id="a3afb-163">To resume sending push notifications to this app, the app must request a new channel.</span></span>

## <a name="related-topics"></a><span data-ttu-id="a3afb-164">Verwandte Themen</span><span class="sxs-lookup"><span data-stu-id="a3afb-164">Related topics</span></span>

* [<span data-ttu-id="a3afb-165">Senden von Pushbenachrichtigungen an die Kunden Ihrer App</span><span class="sxs-lookup"><span data-stu-id="a3afb-165">Send push notifications to your app's customers</span></span>](../publish/send-push-notifications-to-your-apps-customers.md)
* [<span data-ttu-id="a3afb-166">Übersicht über die Windows-Pushbenachrichtigungsdienste (Windows Push Notification Services, WNS)</span><span class="sxs-lookup"><span data-stu-id="a3afb-166">Windows Push Notification Services (WNS) overview</span></span>](https://docs.microsoft.com/windows/uwp/design/shell/tiles-and-notifications/windows-push-notification-services--wns--overview)
* [<span data-ttu-id="a3afb-167">So wird's gemacht: Anfordern, Erstellen und Speichern eines Benachrichtigungskanals</span><span class="sxs-lookup"><span data-stu-id="a3afb-167">How to request, create, and save a notification channel</span></span>](https://docs.microsoft.com/previous-versions/windows/apps/hh868221(v=win.10))
* [<span data-ttu-id="a3afb-168">Microsoft Store Services SDK</span><span class="sxs-lookup"><span data-stu-id="a3afb-168">Microsoft Store Services SDK</span></span>](https://docs.microsoft.com/windows/uwp/monetize/microsoft-store-services-sdk)
