---
author: stevewhims
Description: At build time, the Resource Management System creates an index of all the different variants of the resources that are packaged up with your app. At run-time, the system detects the user and machine settings that are in effect and loads the resources that are the best match for those settings.
title: Ressourcenverwaltungssystem
template: detail.hbs
ms.author: stwhi
ms.date: 10/20/2017
ms.topic: article
ms.prod: windows
ms.technology: uwp
keywords: Windows10, UWP, Ressourcen, Bild, Element, MRT, Qualifizierer
ms.localizationpriority: medium
ms.openlocfilehash: 5616a78cdc7822bc924924f2335ad1b27ee747ec
ms.sourcegitcommit: 346b5c9298a6e9e78acf05944bfe13624ea7062e
ms.translationtype: HT
ms.contentlocale: de-DE
ms.lasthandoff: 04/05/2018
ms.locfileid: "1706895"
---
# <a name="resource-management-system"></a><span data-ttu-id="540b2-103">Ressourcenverwaltungssystem</span><span class="sxs-lookup"><span data-stu-id="540b2-103">Resource Management System</span></span>
<span data-ttu-id="540b2-104">Das Ressourcenverwaltungssystem verfügt sowohl über Buildzeit- als auch über Laufzeitfeatures.</span><span class="sxs-lookup"><span data-stu-id="540b2-104">The Resource Management System has both build-time and run-time features.</span></span> <span data-ttu-id="540b2-105">Während der Buildzeit erstellt das System einen Index aller verschiedenen Varianten der Ressourcen, die mit Ihrer App gepackt sind.</span><span class="sxs-lookup"><span data-stu-id="540b2-105">At build time, the system creates an index of all the different variants of the resources that are packaged up with your app.</span></span> <span data-ttu-id="540b2-106">Dieser ebenfalls im App-Paket enthaltene Index ist der Package Resource Index oder kurz PRI.</span><span class="sxs-lookup"><span data-stu-id="540b2-106">This index is the Package Resource Index, or PRI, and it's also included in your app's package.</span></span> <span data-ttu-id="540b2-107">Zur Laufzeit erkennt das System die momentan geltenden Benutzer- und Computereinstellungen, fragt die Informationen im PRI ab und lädt automatisch die Ressourcen, die für diese Einstellungen am besten geeignet sind.</span><span class="sxs-lookup"><span data-stu-id="540b2-107">At run-time, the system detects the user and machine settings that are in effect, consults the information in the PRI, and automatically loads the resources that are the best match for those settings.</span></span>

## <a name="package-resource-index-pri-file"></a><span data-ttu-id="540b2-108">Package Resource Index (PRI)-Datei</span><span class="sxs-lookup"><span data-stu-id="540b2-108">Package Resource Index (PRI) file</span></span>
<span data-ttu-id="540b2-109">Jedes App-Paket muss einen binären Index der App-Ressourcen enthalten.</span><span class="sxs-lookup"><span data-stu-id="540b2-109">Every app package should contain a binary index of the resources in the app.</span></span> <span data-ttu-id="540b2-110">Dieser Index wird zur Buildzeit erstellt und ist in einer oder mehreren Package Resource Index (PRI)-Dateien enthalten.</span><span class="sxs-lookup"><span data-stu-id="540b2-110">This index is created at build time and it is contained in one or more Package Resource Index (PRI) files.</span></span>

- <span data-ttu-id="540b2-111">Eine PRI-Datei enthält Zeichenfolgenressourcen und einen indizierten Satz von Dateipfaden, die auf die verschiedenen Dateien im Paket verweisen.</span><span class="sxs-lookup"><span data-stu-id="540b2-111">A PRI file contains actual string resources, and an indexed set of file paths that refer to various files in the package.</span></span>
- <span data-ttu-id="540b2-112">Ein Paket enthält normalerweise eine einzelne PRI-Datei pro Sprache namens „resources.pri”.</span><span class="sxs-lookup"><span data-stu-id="540b2-112">A package typically contains a single PRI file per language, named resources.pri.</span></span>
- <span data-ttu-id="540b2-113">Die Datei „resources.pri” im Stammverzeichnis eines Pakets wird beim Instanziieren von [**ResourceManager**](/uwp/api/windows.applicationmodel.resources.core.resourcemanager?branch=live) automatisch geladen.</span><span class="sxs-lookup"><span data-stu-id="540b2-113">The resources.pri file at the root of each package is automatically loaded when the [**ResourceManager**](/uwp/api/windows.applicationmodel.resources.core.resourcemanager?branch=live) is instantiated.</span></span>
- <span data-ttu-id="540b2-114">PRI-Dateien können mit dem Tool [MakePRI.exe](compile-resources-manually-with-makepri.md) erstellt und gesichert werden.</span><span class="sxs-lookup"><span data-stu-id="540b2-114">PRI files can be created and dumped with the tool [MakePRI.exe](compile-resources-manually-with-makepri.md).</span></span>
- <span data-ttu-id="540b2-115">Für typische App-Entwicklungen benötigen Sie MakePRI.exe nicht, da es bereits in den Visual Studio-Kompilierungsworkflow integriert ist.</span><span class="sxs-lookup"><span data-stu-id="540b2-115">For typical app development you won't need MakePRI.exe because it's already integrated into the Visual Studio compile workflow.</span></span> <span data-ttu-id="540b2-116">Und Visual Studio unterstützt das Bearbeiten von PRI-Dateien in einer dedizierten Benutzeroberfläche.</span><span class="sxs-lookup"><span data-stu-id="540b2-116">And Visual Studio supports editing PRI files in a dedicated UI.</span></span> <span data-ttu-id="540b2-117">Ihre Lokalisierer und die von ihnen verwendeten Tools sind jedoch möglicherweise auf MakePRI.exe angewiesen.</span><span class="sxs-lookup"><span data-stu-id="540b2-117">However, your localizers and the tools they use might rely upon MakePRI.exe.</span></span>
- <span data-ttu-id="540b2-118">Jede PRI-Datei enthält eine benannte Sammlung von Ressourcen, die als Ressourcenzuordnung bezeichnet wird.</span><span class="sxs-lookup"><span data-stu-id="540b2-118">Each PRI file contains a named collection of resources, referred to as a resource map.</span></span> <span data-ttu-id="540b2-119">Wenn eine PRI-Datei aus einem Paket geladen wird, wird der Name der Ressourcenzuordnung darauf überprüft, ob sich eine Übereinstimmung mit dem Namen der Paketidentität ergibt.</span><span class="sxs-lookup"><span data-stu-id="540b2-119">When a PRI file from a package is loaded, the resource map name is verified to match the package identity name.</span></span>
- <span data-ttu-id="540b2-120">PRI-Dateien sind reine Datendateien, die das Portable Executable (PE)-Format nicht verwenden.</span><span class="sxs-lookup"><span data-stu-id="540b2-120">PRI files contain only data, so they don't use the portable executable (PE) format.</span></span> <span data-ttu-id="540b2-121">Sie wurden als Ressourcenformat für Windows speziell als reine Datendateien konzipiert.</span><span class="sxs-lookup"><span data-stu-id="540b2-121">They are specifically designed to be data-only as the resource format for Windows.</span></span> <span data-ttu-id="540b2-122">Sie ersetzen Ressourcen, die im Win32-App-Modell in DLLs enthalten waren.</span><span class="sxs-lookup"><span data-stu-id="540b2-122">They replace resources contained within DLLs in the Win32 app model.</span></span>
- <span data-ttu-id="540b2-123">Die maximale Größe für eine PRI-Datei beträgt 64KB.</span><span class="sxs-lookup"><span data-stu-id="540b2-123">The size limit on a PRI file is 64 kilobytes.</span></span>

## <a name="uwp-api-access-to-app-resources"></a><span data-ttu-id="540b2-124">UWP-API-Zugriff auf App-Ressourcen</span><span class="sxs-lookup"><span data-stu-id="540b2-124">UWP API access to app resources</span></span>

### <a name="basic-functionality-resourceloader"></a><span data-ttu-id="540b2-125">Grundlegende Funktionalität (ResourceLoader)</span><span class="sxs-lookup"><span data-stu-id="540b2-125">Basic functionality (ResourceLoader)</span></span>
<span data-ttu-id="540b2-126">Die einfachste Möglichkeit, programmgesteuert auf Ihre App-Ressourcen zuzugreifen, ist die Verwendung des Namespace [**Windows.ApplicationModel.Resources**](/uwp/api/windows.applicationmodel.resources?branch=live) und der Klasse [**ResourceLoader**](/uwp/api/windows.applicationmodel.resources.resourceloader?branch=live).</span><span class="sxs-lookup"><span data-stu-id="540b2-126">The simplest way to access your app resources programmatically is by using the [**Windows.ApplicationModel.Resources**](/uwp/api/windows.applicationmodel.resources?branch=live) namespace and the [**ResourceLoader**](/uwp/api/windows.applicationmodel.resources.resourceloader?branch=live) class.</span></span> <span data-ttu-id="540b2-127">**ResourceLoader** ermöglicht einen allgemeinen Zugriff auf Zeichenfolgenressourcen aus einer Reihe von Ressourcendateien, referenzierten Bibliotheken und anderen Paketen.</span><span class="sxs-lookup"><span data-stu-id="540b2-127">**ResourceLoader** provides you basic access to string resources from the set of resource files, referenced libraries, or other packages.</span></span>

### <a name="advanced-functionality-resourcemanager"></a><span data-ttu-id="540b2-128">Erweiterte Funktionalität (ResourceManager)</span><span class="sxs-lookup"><span data-stu-id="540b2-128">Advanced functionality (ResourceManager)</span></span>
<span data-ttu-id="540b2-129">Die Klasse [**ResourceManager**](/uwp/api/windows.applicationmodel.resources.core.resourcemanager?branch=live) (aus dem Namespace [**Windows.ApplicationModel.Resources.Core**](/uwp/api/windows.applicationmodel.resources.core?branch=live) ) stellt zusätzliche Inspektionsmöglichkeiten und Informationen zu Ressourcen bereit, z.B. Enumerationen.</span><span class="sxs-lookup"><span data-stu-id="540b2-129">The [**ResourceManager**](/uwp/api/windows.applicationmodel.resources.core.resourcemanager?branch=live) class (in the [**Windows.ApplicationModel.Resources.Core**](/uwp/api/windows.applicationmodel.resources.core?branch=live) namespace) provides additional info about resources, such as enumeration and inspection.</span></span> <span data-ttu-id="540b2-130">Solche Daten kann die Klasse **ResourceLoader** nicht liefern.</span><span class="sxs-lookup"><span data-stu-id="540b2-130">This goes beyond what the **ResourceLoader** class provides.</span></span>

<span data-ttu-id="540b2-131">Ein [**NamedResource**](/uwp/api/windows.applicationmodel.resources.core.namedresource?branch=live)-Objekt ist eine einzelne logische Ressource mit mehreren Sprachvarianten oder sonstigen qualifizierten Varianten.</span><span class="sxs-lookup"><span data-stu-id="540b2-131">A [**NamedResource**](/uwp/api/windows.applicationmodel.resources.core.namedresource?branch=live) object represents an individual logical resource with multiple language or other qualified variants.</span></span> <span data-ttu-id="540b2-132">Es beschreibt die logische Ansicht des Elements oder der Ressource mit einem Bezeichner für Zeichenfolgenressourcen wie `Header1` oder einem Ressourcendateinamen wie `logo.jpg`.</span><span class="sxs-lookup"><span data-stu-id="540b2-132">It describes the logical view of the asset or resource, with a string resource identifier such as `Header1`, or a resource file name such as `logo.jpg`.</span></span>

<span data-ttu-id="540b2-133">Ein [**ResourceCandidate**](/uwp/api/windows.applicationmodel.resources.core.resourcecandidate?branch=live)-Objekt stellt einen einzelnen konkreten Ressourcenwert und seine Qualifizierer dar, z.B. die Zeichenfolge „Hello World” für Englisch oder „logo.scale-100.jpg” als eine qualifizierte Bildressource mit der spezifischen Auflösung **scale-100**.</span><span class="sxs-lookup"><span data-stu-id="540b2-133">A [**ResourceCandidate**](/uwp/api/windows.applicationmodel.resources.core.resourcecandidate?branch=live) object represents a single concrete resource value and its qualifiers, such as the string "Hello World" for English, or "logo.scale-100.jpg" as a qualified image resource that's specific to the **scale-100** resolution.</span></span>

<span data-ttu-id="540b2-134">Die für eine App verfügbaren Ressourcen werden in hierarchischen Sammlungen gespeichert, auf die Sie mit einem [**ResourceMap**](/uwp/api/windows.applicationmodel.resources.core.resourcemap?branch=live)-Objekt zugreifen können.</span><span class="sxs-lookup"><span data-stu-id="540b2-134">Resources available to an app are stored in hierarchical collections, which you can access with a [**ResourceMap**](/uwp/api/windows.applicationmodel.resources.core.resourcemap?branch=live) object.</span></span> <span data-ttu-id="540b2-135">Die Klasse **ResourceManager** ermöglicht den Zugriff auf die verschiedenen von der App verwendeten **ResourceMap**-Instanzen oberster Ebene, die den unterschiedlichen Paketen für die App entsprechen.</span><span class="sxs-lookup"><span data-stu-id="540b2-135">The **ResourceManager** class provides access to the various top-level **ResourceMap** instances used by the app, which correspond to the various packages for the app.</span></span> <span data-ttu-id="540b2-136">Der [**MainResourceMap**](/uwp/api/windows.applicationmodel.resources.core.resourcemanager.MainResourceMap)-Wert entspricht der Ressourcenzuordnung für das aktuelle App-Paket. Alle referenzierten Frameworkpakete sind ausgeschlossen.</span><span class="sxs-lookup"><span data-stu-id="540b2-136">The [**MainResourceMap**](/uwp/api/windows.applicationmodel.resources.core.resourcemanager.MainResourceMap) value corresponds to the resource map for the current app package, and it excludes any referenced framework packages.</span></span> <span data-ttu-id="540b2-137">Jede **ResourceMap** wird nach dem Paketnamen benannt, der im Paketmanifest angegeben ist.</span><span class="sxs-lookup"><span data-stu-id="540b2-137">Each **ResourceMap** is named for the package name that is specified in the package's manifest.</span></span> <span data-ttu-id="540b2-138">Eine **ResourceMap** umfasst Unterstrukturen (siehe [**ResourceMap.GetSubtree**](/uwp/api/windows.applicationmodel.resources.core.resourcemap.getsubtree?branch=live)), die weitere **NamedResource**-Objekte enthalten.</span><span class="sxs-lookup"><span data-stu-id="540b2-138">Within a **ResourceMap** are subtrees (see [**ResourceMap.GetSubtree**](/uwp/api/windows.applicationmodel.resources.core.resourcemap.getsubtree?branch=live)), which further contain **NamedResource** objects.</span></span> <span data-ttu-id="540b2-139">Die Unterstrukturen entsprechen üblicherweise den Ressourcendateien, in denen die Ressource enthalten ist.</span><span class="sxs-lookup"><span data-stu-id="540b2-139">The subtrees typically correspond to the resource files that contains the resource.</span></span> <span data-ttu-id="540b2-140">Weitere Informationen finden Sie unter [Lokalisieren von Zeichenfolgen in Benutzeroberfläche und App-Paketmanifest](localize-strings-ui-manifest.md) und [Laden von Bilder und Ressourcen mit Anpassung an Skalierung, Design, hohen Kontrast und anders](images-tailored-for-scale-theme-contrast.md).</span><span class="sxs-lookup"><span data-stu-id="540b2-140">For more info see [Localize strings in your UI and app package manifest](localize-strings-ui-manifest.md) and [Load images and assets tailored for scale, theme, high contrast, and others](images-tailored-for-scale-theme-contrast.md).</span></span>

<span data-ttu-id="540b2-141">Beispiel:</span><span class="sxs-lookup"><span data-stu-id="540b2-141">Here's an example.</span></span>

```csharp
// using Windows.ApplicationModel.Resources.Core;
ResourceMap resourceMap =  ResourceManager.Current.MainResourceMap.GetSubtree("Resources");
ResourceContext resourceContext = ResourceContext.GetForCurrentView()
var str = resourceMap.GetValue("String1", resourceContext).ValueAsString;
```

<span data-ttu-id="540b2-142">**Hinweis:** Der Ressourcenbezeichner wird als URI (Uniform Resource Identifier)-Fragment behandelt und unterliegt der URI-Semantik.</span><span class="sxs-lookup"><span data-stu-id="540b2-142">**Note** The resource identifier is treated as a Uniform Resource Identifier (URI) fragment, subject to URI semantics.</span></span> <span data-ttu-id="540b2-143">Beispielsweise wird `GetValue("Caption%20")` wie `GetValue("Caption ")` behandelt.</span><span class="sxs-lookup"><span data-stu-id="540b2-143">For example, `GetValue("Caption%20")` is treated as `GetValue("Caption ")`.</span></span> <span data-ttu-id="540b2-144">Verwenden Sie „?” oder „#” nicht in Ressourcenbezeichnern, da diese Zeichen die Auswertung des Ressourcenpfads beenden.</span><span class="sxs-lookup"><span data-stu-id="540b2-144">Do not use "?" or "#" in resource identifiers, because they terminate the resource path evaluation.</span></span> <span data-ttu-id="540b2-145">Beispielsweise wird „MyResource?3” wie „MyResource” behandelt.</span><span class="sxs-lookup"><span data-stu-id="540b2-145">For example, "MyResource?3" is treated as "MyResource".</span></span>

<span data-ttu-id="540b2-146">Der **ResourceManager** unterstützt nicht nur den Zugriff auf die Zeichenfolgenressourcen einer App, sondern erlaubt außerdem die Enumeration und Inspektion der verschiedenen Dateiressourcen.</span><span class="sxs-lookup"><span data-stu-id="540b2-146">The **ResourceManager** not only supports access to an app's string resources, it also maintains the ability to enumerate and inspect the various file resources as well.</span></span> <span data-ttu-id="540b2-147">Um Konflikte zwischen Dateien und anderen Ressourcen zu vermeiden, die einer Datei entstammen, befinden sich indizierte Dateipfade in einer reservierten **ResourceMap** -Unterstruktur namens „Files”.</span><span class="sxs-lookup"><span data-stu-id="540b2-147">In order to avoid collisions between files and other resources that originate from within a file, indexed file paths all reside within a reserved "Files" **ResourceMap** subtree.</span></span> <span data-ttu-id="540b2-148">Die Datei `\Images\logo.png` entspricht beispielsweise dem Ressourcennamen `Files/images/logo.png`.</span><span class="sxs-lookup"><span data-stu-id="540b2-148">For example, the file `\Images\logo.png` corresponds to the resource name `Files/images/logo.png`.</span></span>

<span data-ttu-id="540b2-149">Die [**StorageFile**](/uwp/api/Windows.Storage.StorageFile?branch=live)-APIs behandeln Verweise auf Dateien transparent als Ressourcen und eignen sich für die üblichen Verwendungsszenarien.</span><span class="sxs-lookup"><span data-stu-id="540b2-149">The [**StorageFile**](/uwp/api/Windows.Storage.StorageFile?branch=live) APIs transparently handle references to files as resources, and are appropriate for typical usage scenarios.</span></span> <span data-ttu-id="540b2-150">Der **ResourceManager** sollte nur für erweiterte Szenarien verwendet werden, z.B. wenn der aktuellen Kontext überschrieben werden soll.</span><span class="sxs-lookup"><span data-stu-id="540b2-150">The **ResourceManager** should only be used for advanced scenarios, such when you want to override the current context.</span></span>

### <a name="resourcecontext"></a><span data-ttu-id="540b2-151">ResourceContext</span><span class="sxs-lookup"><span data-stu-id="540b2-151">ResourceContext</span></span>
<span data-ttu-id="540b2-152">Ressourcenkandidaten werden anhand eines bestimmten [**ResourceContext**](/uwp/api/Windows.ApplicationModel.Resources.Core.ResourceContext?branch=live)-Elements ausgewählt. Dabei handelt es sich um eine Sammlung von Ressourcenqualifiziererwerten (für Sprache, Skalierung, Kontrast usw.).</span><span class="sxs-lookup"><span data-stu-id="540b2-152">Resource candidates are chosen based on a particular [**ResourceContext**](/uwp/api/Windows.ApplicationModel.Resources.Core.ResourceContext?branch=live), which is a collection of resource qualifier values (language, scale, contrast, and so on).</span></span> <span data-ttu-id="540b2-153">Sofern keine Überschreibung erfolgt, wird von einem Standardkontext die aktuelle App-Konfiguration für die einzelnen Qualifiziererwerte verwendet.</span><span class="sxs-lookup"><span data-stu-id="540b2-153">A default context uses the app's current configuration for each qualifier value, unless overridden.</span></span> <span data-ttu-id="540b2-154">Zum Beispiel können Ressourcen in Bezug auf die Skalierung qualifiziert werden, die von einem Monitor zum anderen und somit auch von einer Anwendungsansicht zur anderen variieren kann.</span><span class="sxs-lookup"><span data-stu-id="540b2-154">For example, resources such as images can be qualified for scale, which varies from one monitor to another and hence from one application view to another.</span></span> <span data-ttu-id="540b2-155">Aus diesem Grund verfügt jede Anwendungsansicht über einen eigenen Standardkontext.</span><span class="sxs-lookup"><span data-stu-id="540b2-155">For this reason, each application view has a distinct default context.</span></span> <span data-ttu-id="540b2-156">Der Standardkontext für eine bestimmte Ansicht kann mithilfe von [**ResourceContext.GetForCurrentView**](/uwp/api/windows.applicationmodel.resources.core.resourcecontext.GetForCurrentView) abgerufen werden.</span><span class="sxs-lookup"><span data-stu-id="540b2-156">The default context for a given view can be obtained using [**ResourceContext.GetForCurrentView**](/uwp/api/windows.applicationmodel.resources.core.resourcecontext.GetForCurrentView).</span></span> <span data-ttu-id="540b2-157">Beim Abrufen eines Ressourcenkandidaten sollte eine **ResourceContext**-Instanz übergeben werden, um für die jeweilige Ansicht den am besten passenden Wert zu erhalten.</span><span class="sxs-lookup"><span data-stu-id="540b2-157">Whenever you retrieve a resource candidate, you should pass in a **ResourceContext** instance to obtain the most appropriate value for a given view.</span></span>

## <a name="important-apis"></a><span data-ttu-id="540b2-158">Wichtige APIs</span><span class="sxs-lookup"><span data-stu-id="540b2-158">Important APIs</span></span>
* [<span data-ttu-id="540b2-159">ResourceLoader</span><span class="sxs-lookup"><span data-stu-id="540b2-159">ResourceLoader</span></span>](/uwp/api/windows.applicationmodel.resources.resourceloader?branch=live)
* [<span data-ttu-id="540b2-160">ResourceManager</span><span class="sxs-lookup"><span data-stu-id="540b2-160">ResourceManager</span></span>](/uwp/api/windows.applicationmodel.resources.core.resourcemanager?branch=live)
* [<span data-ttu-id="540b2-161">ResourceContext</span><span class="sxs-lookup"><span data-stu-id="540b2-161">ResourceContext</span></span>](/uwp/api/windows.applicationmodel.resources.core.resourcecontext?branch=live)

## <a name="related-topics"></a><span data-ttu-id="540b2-162">Verwandte Themen</span><span class="sxs-lookup"><span data-stu-id="540b2-162">Related topics</span></span>
* [<span data-ttu-id="540b2-163">Lokalisieren von Zeichenfolgen in der Benutzeroberfläche und im App-Paketmanifest</span><span class="sxs-lookup"><span data-stu-id="540b2-163">Localize strings in your UI and app package manifest</span></span>](localize-strings-ui-manifest.md)
* [<span data-ttu-id="540b2-164">Laden von Bilder und Ressourcen mit Anpassung an Skalierung, Design, hohen Kontrast und anders</span><span class="sxs-lookup"><span data-stu-id="540b2-164">Load images and assets tailored for scale, theme, high contrast, and others</span></span>](images-tailored-for-scale-theme-contrast.md)
