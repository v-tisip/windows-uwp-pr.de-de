---
author: stevewhims
Description: With the package resource indexing (PRI) APIs, you can develop a custom build system for your UWP app's resources. The build system will be able to create, version, and dump PRI files to whatever level of complexity your UWP app needs.
title: APIs zur Paketressourcenindizierung (PRI) und benutzerdefinierte Buildsysteme
template: detail.hbs
ms.author: stwhi
ms.date: 05/07/2018
ms.topic: article
keywords: Windows10, UWP, Ressourcen, Bild, Element, MRT, Qualifizierer
ms.localizationpriority: medium
ms.openlocfilehash: 9b85f40fc391df764515d21ba3b334bfe068725c
ms.sourcegitcommit: 753e0a7160a88830d9908b446ef0907cc71c64e7
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 10/29/2018
ms.locfileid: "5747709"
---
# <a name="package-resource-indexing-pri-apis-and-custom-build-systems"></a><span data-ttu-id="04088-103">APIs zur Paketressourcenindizierung (PRI) und benutzerdefinierte Buildsysteme</span><span class="sxs-lookup"><span data-stu-id="04088-103">Package resource indexing (PRI) APIs and custom build systems</span></span>
<span data-ttu-id="04088-104">Mit den [APIs zur Paketressourcenindizierung (PRI)](https://msdn.microsoft.com/library/windows/desktop/mt845690) können Sie ein benutzerdefiniertes Buildsystem für die Ressourcen Ihrer UWP-App entwickeln.</span><span class="sxs-lookup"><span data-stu-id="04088-104">With the [package resource indexing (PRI) APIs](https://msdn.microsoft.com/library/windows/desktop/mt845690), you can develop a custom build system for your UWP app's resources.</span></span> <span data-ttu-id="04088-105">Das Buildsystem kann Paketressourcenindexdateien (PRI) erstellen, versionieren und sichern (als XML), und zwar für jedes Maß an Komplexität, das Ihre UWP-App benötigt.</span><span class="sxs-lookup"><span data-stu-id="04088-105">The build system will be able to create, version, and dump (as XML) package resource index (PRI) files to whatever level of complexity your UWP app needs.</span></span> <span data-ttu-id="04088-106">Wenn Sie ein benutzerdefiniertes Buildsystem besitzen, das derzeit das Befehlszeilentool MakePri.exe verwendet (siehe [Manuelles Kompilieren von Ressourcen mit MakePri.exe](makepri-exe-command-options.md)), empfiehlt es sich zur Erzielung einer höheren Leistung und für mehr Steuerungsmöglichkeiten, die PRI-APIs anstelle von MakePri.exe aufzurufen.</span><span class="sxs-lookup"><span data-stu-id="04088-106">If you have a custom build system that currently uses the MakePri.exe command-line tool (see [Compile resources manually with MakePri.exe](makepri-exe-command-options.md)) then, for increased performance and control, we recommend that you switch over to calling the PRI APIs instead of calling MakePri.exe.</span></span>

<span data-ttu-id="04088-107">Die PRI-APIs wurden mit dem Windows SDK für Windows10, Version 1803, eingeführt.</span><span class="sxs-lookup"><span data-stu-id="04088-107">The PRI APIs were introduced in the Windows SDK for Windows 10, version 1803.</span></span> <span data-ttu-id="04088-108">Die APIs weisen die Form von Win32-Windows-APIs auf, was bedeutet, dass Ihnen mehrere Optionen für deren Aufruf zur Verfügung stehen.</span><span class="sxs-lookup"><span data-stu-id="04088-108">The APIs take the form of Win32 Windows APIs, which means that you have a few options for calling them.</span></span> <span data-ttu-id="04088-109">Sie können sie direkt von einer Win32-App oder über [Plattformaufrufe](/dotnet/framework/interop/consuming-unmanaged-dll-functions?branch=live) von einer .NET-App oder auch von einer UWP-App aus aufrufen.</span><span class="sxs-lookup"><span data-stu-id="04088-109">You can call them directly from a Win32 app, or you can call them via [platform invoke](/dotnet/framework/interop/consuming-unmanaged-dll-functions?branch=live) from a .NET app or even from a UWP app.</span></span>

<span data-ttu-id="04088-110">Die Szenarien in diesem Thema zeigen den Aufruf von PRI-APIs von einem Anwendungsprojekt der Win32-Visual C++-Windows-Konsole.</span><span class="sxs-lookup"><span data-stu-id="04088-110">The scenarios in this topic demonstrate calling PRI APIs from a Win32 Visual C++ Windows Console Application project.</span></span> <span data-ttu-id="04088-111">Hintergrundinformationen finden Sie unter [Ressourcenverwaltungssystem](resource-management-system.md).</span><span class="sxs-lookup"><span data-stu-id="04088-111">For background info, see [Resource Management System](resource-management-system.md).</span></span>

<span data-ttu-id="04088-112">Die maximale Größe für eine PRI-Datei beträgt 64KB.</span><span class="sxs-lookup"><span data-stu-id="04088-112">The size limit on a PRI file is 64 kilobytes.</span></span>

> [!NOTE]
> <span data-ttu-id="04088-113">Diese Einschränkung ist wahrscheinlich kein Problem, da Sie Ihre benutzerdefinierte Buildsystem-App vermutlich nicht an den Microsoft Store übermitteln möchten.</span><span class="sxs-lookup"><span data-stu-id="04088-113">This caveat is unlikely to be an issue, since you probably won't want to submit your custom build system app to the Microsoft Store.</span></span> <span data-ttu-id="04088-114">Wenn Sie aber die Option zum Entwickeln des benutzerdefinierten Buildsystems in Form einer UWP-App wählen, könnten Sie diese UWP-App nicht an den Microsoft Store übermitteln.</span><span class="sxs-lookup"><span data-stu-id="04088-114">But, if you choose the option to develop your custom build system in the form of a UWP app, then it will be an unusual UWP app in that you won't be able to submit it to the Microsoft Store.</span></span> <span data-ttu-id="04088-115">Dies liegt daran, dass für eine UWP-App, die Plattformaufrufe verwendet, die Microsoft Store-Zertifizierung fehlschlägt.</span><span class="sxs-lookup"><span data-stu-id="04088-115">That's because a UWP app that uses platform invoke fails Microsoft Store certification.</span></span> <span data-ttu-id="04088-116">Beachten Sie, dass in diesem Fall Plattformaufrufe *nur in Ihrem benutzerdefinierten Buildsystem vorhanden sind*, *nicht* aber in Ihrer versandten UWP-App (diejenige, für die Sie PRI-Dateien erstellen).</span><span class="sxs-lookup"><span data-stu-id="04088-116">Note that, in this case, platform invoke calls *will exist only in your custom build system*; *not* in your shipping UWP app (the one you're building PRI files for).</span></span>

## <a name="scenario-walkthroughs"></a><span data-ttu-id="04088-117">Exemplarische Vorgehensweisen für die Szenarien</span><span class="sxs-lookup"><span data-stu-id="04088-117">Scenario walkthroughs</span></span>
|<span data-ttu-id="04088-118">Thema</span><span class="sxs-lookup"><span data-stu-id="04088-118">Topic</span></span>|<span data-ttu-id="04088-119">Beschreibung</span><span class="sxs-lookup"><span data-stu-id="04088-119">Description</span></span>|
|-|-|
|[<span data-ttu-id="04088-120">Szenario 1: Generieren einer PRI-Datei aus Zeichenfolgenressourcen und Ressourcendateien</span><span class="sxs-lookup"><span data-stu-id="04088-120">Scenario 1: Generate a PRI file from string resources and asset files</span></span>](pri-apis-scenario-1.md)|<span data-ttu-id="04088-121">In diesem Szenario erstellen wir eine neue App zur Darstellung unseres benutzerdefinierten Buildsystems.</span><span class="sxs-lookup"><span data-stu-id="04088-121">In this scenario, we'll make a new app to represent our custom build system.</span></span> <span data-ttu-id="04088-122">Wir erstellen einen Ressourceindexer und fügen diesem Zeichenfolgen und andere Arten von Ressourcen hinzu.</span><span class="sxs-lookup"><span data-stu-id="04088-122">We'll create a resource indexer and add strings and other kinds of resources to it.</span></span> <span data-ttu-id="04088-123">Dann generieren und sichern wir eine PRI-Datei.</span><span class="sxs-lookup"><span data-stu-id="04088-123">Then we'll generate and dump a PRI file.</span></span>|

## <a name="important-apis"></a><span data-ttu-id="04088-124">Wichtige APIs</span><span class="sxs-lookup"><span data-stu-id="04088-124">Important APIs</span></span>
* [<span data-ttu-id="04088-125">Referenz für die Paketressourcenindizierung (PRI)</span><span class="sxs-lookup"><span data-stu-id="04088-125">Package resource indexing (PRI) reference</span></span>](https://msdn.microsoft.com/library/windows/desktop/mt845690)

## <a name="related-topics"></a><span data-ttu-id="04088-126">Verwandte Themen</span><span class="sxs-lookup"><span data-stu-id="04088-126">Related topics</span></span>
* [<span data-ttu-id="04088-127">Manuelles Kompilieren von Ressourcen mit MakePri.exe</span><span class="sxs-lookup"><span data-stu-id="04088-127">Compile resources manually with MakePri.exe</span></span>](makepri-exe-command-options.md)
* [<span data-ttu-id="04088-128">Verwenden nicht verwalteter DLL-Funktionen</span><span class="sxs-lookup"><span data-stu-id="04088-128">Consuming Unmanaged DLL Functions</span></span>](/dotnet/framework/interop/consuming-unmanaged-dll-functions?branch=live)
* [<span data-ttu-id="04088-129">Ressourcenverwaltungssystem</span><span class="sxs-lookup"><span data-stu-id="04088-129">Resource Management System</span></span>](resource-management-system.md)
