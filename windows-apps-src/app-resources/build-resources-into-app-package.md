---
Description: Some kinds of apps (multilingual dictionaries, translation tools, etc.) need to override the default behavior of an app bundle, and build resources into the app package instead of having them in separate resource packages. This topic explains how to do that.
title: Integrieren von Ressourcen im App-Paket und nicht in einem Ressourcenpaket
template: detail.hbs
ms.date: 11/14/2017
ms.topic: article
keywords: Windows10, UWP, Ressourcen, Bild, Element, MRT, Qualifizierer
ms.localizationpriority: medium
ms.openlocfilehash: 8bf2d34bc3dae20750f66c9116499a17444b798c
ms.sourcegitcommit: d7613c791107f74b6a3dc12a372d9de916c0454b
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 12/05/2018
ms.locfileid: "8740897"
---
# <a name="build-resources-into-your-app-package-instead-of-into-a-resource-pack"></a><span data-ttu-id="7a74f-103">Integrieren von Ressourcen im App-Paket und nicht in einem Ressourcenpaket</span><span class="sxs-lookup"><span data-stu-id="7a74f-103">Build resources into your app package, instead of into a resource pack</span></span>

<span data-ttu-id="7a74f-104">Einige Arten von Apps (mehrsprachige Wörterbücher, Übersetzungstools usw.) müssen das Standardverhalten von einem App Bundle überschreiben und Ressourcen im App-Paket und nicht in separaten Ressourcenpaketen (oder Ressourcenpaketen) integrieren.</span><span class="sxs-lookup"><span data-stu-id="7a74f-104">Some kinds of apps (multilingual dictionaries, translation tools, etc.) need to override the default behavior of an app bundle, and build resources into the app package instead of having them in separate resource packages (or resource packs).</span></span> <span data-ttu-id="7a74f-105">In diesem Thema wird erläutert, wie das geht.</span><span class="sxs-lookup"><span data-stu-id="7a74f-105">This topic explains how to do that.</span></span>

<span data-ttu-id="7a74f-106">Wenn Sie standardmäßig ein [App Bundle (.appxbundle)](../packaging/packaging-uwp-apps.md) erstellen, werden nur Ihre Standardressourcen für Sprache, Skalierung und DirectX-Featureebene im App-Paket integriert.</span><span class="sxs-lookup"><span data-stu-id="7a74f-106">By default when you build an [app bundle (.appxbundle)](../packaging/packaging-uwp-apps.md), only your default resources for language, scale, and DirectX feature level are built into the app package.</span></span> <span data-ttu-id="7a74f-107">Die übersetzten Ressourcen– und Ihre Ressourcen speziell für nicht standardmäßige Skalierungen und/oder DirectX-Featureebenen– sind in Ressourcenpakete integriert und werden nur auf Geräte heruntergeladen, die sie benötigen.</span><span class="sxs-lookup"><span data-stu-id="7a74f-107">Your translated resources&mdash;and your resources tailored for non-default scales and/or DirectX feature levels&mdash;are built into resource packages and they are only downloaded onto devices that need them.</span></span> <span data-ttu-id="7a74f-108">Wenn ein Kunde Ihre App vom Microsoft Store mit einem Gerät erwirbt, auf dem die bevorzugte Sprache auf Spanisch festgelegt ist, werden nur Ihre App sowie das spanische Ressourcenpaket heruntergeladen und installiert.</span><span class="sxs-lookup"><span data-stu-id="7a74f-108">If a customer is buying your app from the Microsoft Store using a device with a language preference set to Spanish, then only your app plus the Spanish resource package are downloaded and installed.</span></span> <span data-ttu-id="7a74f-109">Wenn derselbe Benutzer seine bevorzugte Sprache später unter **Einstellungen** in Französisch ändert, wird das französische Ressourcenpaket für Ihre App heruntergeladen und installiert.</span><span class="sxs-lookup"><span data-stu-id="7a74f-109">If that same user later changes their language preference to French in **Settings**, then your app's French resource package is downloaded and installed.</span></span> <span data-ttu-id="7a74f-110">Ähnliches passiert mit den Ressourcen, die für die Skalierung und DirectX-Featureebene qualifiziert sind.</span><span class="sxs-lookup"><span data-stu-id="7a74f-110">Similar things happen with your resources qualified for scale and for DirectX feature level.</span></span> <span data-ttu-id="7a74f-111">Bei den meisten Apps bedeutet dieses Verhalten mehr Effizienz, und dies ist genau das, was Sie und der Kunde *wünschen*.</span><span class="sxs-lookup"><span data-stu-id="7a74f-111">For the majority of apps, this behavior constitutes a valuable efficiency, and it's exactly what you and the customer *want* to happen.</span></span>

<span data-ttu-id="7a74f-112">Wenn Ihre App aber dem Benutzer das Ändern der Sprache direkt über die App erlaubt (statt über **Einstellungen**), ist dieses Standardverhalten nicht korrekt.</span><span class="sxs-lookup"><span data-stu-id="7a74f-112">But if your app allows the user to change the language on the fly from within the app (instead of via **Settings**), then that default behavior is not appropriate.</span></span> <span data-ttu-id="7a74f-113">Sie möchten, dass alle Ihre Sprachressourcen zusammen mit der App bedingungslos einmal heruntergeladen und installiert werden und dann auf dem Gerät verbleiben.</span><span class="sxs-lookup"><span data-stu-id="7a74f-113">You actually want all of your language resources to be unconditionally downloaded and installed along with the app one time, and then remain on the device.</span></span> <span data-ttu-id="7a74f-114">Sie möchten, dass diese Ressourcen in das App-Paket und nicht in separaten Ressourcenpaketen integriert werden.</span><span class="sxs-lookup"><span data-stu-id="7a74f-114">You want to build all of those resources into your app package instead of into separate resource packages.</span></span>

<span data-ttu-id="7a74f-115">**Hinweis:** Durch Integrieren der Ressourcen in einem App-Paket erhöht sich die Größe der App erheblich.</span><span class="sxs-lookup"><span data-stu-id="7a74f-115">**Note** Including resources in an app package essentially increases the size of the app.</span></span> <span data-ttu-id="7a74f-116">Deshalb sollten Sie dies nur tun, wenn die Art der App dies erfordert.</span><span class="sxs-lookup"><span data-stu-id="7a74f-116">That's why it's only worth doing if the nature of the app demands it.</span></span> <span data-ttu-id="7a74f-117">Falls dies nicht der Fall ist, müssen Sie nichts weiter tun, als wie gewohnt ein reguläres App Bundle zu erstellen.</span><span class="sxs-lookup"><span data-stu-id="7a74f-117">If not, then you don't need to do anything except build a regular app bundle as usual.</span></span>

<span data-ttu-id="7a74f-118">Sie können Visual Studio so konfigurieren, dass Ressourcen in Ihrem App-Paket auf eine von zwei Weisen integriert werden.</span><span class="sxs-lookup"><span data-stu-id="7a74f-118">You can configure Visual Studio to build resources into your app package in one of two ways.</span></span> <span data-ttu-id="7a74f-119">Sie können entweder eine Konfigurationsdatei zu Ihrem Projekt hinzufügen oder Ihre Projektdatei direkt bearbeiten.</span><span class="sxs-lookup"><span data-stu-id="7a74f-119">You can either add a configuration file to your project, or you can edit your project file directly.</span></span> <span data-ttu-id="7a74f-120">Verwenden Sie die Option, mit der Sie am besten vertraut sind oder die mit Ihrem Buildsystem am besten funktioniert.</span><span class="sxs-lookup"><span data-stu-id="7a74f-120">Use whichever of these options you're most comfortable with, or whichever works best with your build system.</span></span>

## <a name="option-1-use-priconfigpackagingxml-to-build-resources-into-your-app-package"></a><span data-ttu-id="7a74f-121">Option1:</span><span class="sxs-lookup"><span data-stu-id="7a74f-121">Option 1.</span></span> <span data-ttu-id="7a74f-122">Verwenden von „priconfig.packaging.xml“, um Ressourcen in Ihrem App-Paket zu erstellen</span><span class="sxs-lookup"><span data-stu-id="7a74f-122">Use priconfig.packaging.xml to build resources into your app package</span></span>

1. <span data-ttu-id="7a74f-123">Fügen Sie in Visual Studio ein neues Element zu Ihrem Projekt hinzu.</span><span class="sxs-lookup"><span data-stu-id="7a74f-123">In Visual Studio, add a new item to your project.</span></span> <span data-ttu-id="7a74f-124">Wählen Sie „XML-Datei“, und nennen Sie die Datei `priconfig.packaging.xml`.</span><span class="sxs-lookup"><span data-stu-id="7a74f-124">Choose XML File, and name the file `priconfig.packaging.xml`.</span></span>
2. <span data-ttu-id="7a74f-125">Wählen Sie im Projektmappen-Explorer `priconfig.packaging.xml` aus, und überprüfen Sie das Eigenschaftenfenster.</span><span class="sxs-lookup"><span data-stu-id="7a74f-125">In Solution Explorer, select `priconfig.packaging.xml` and check the Properties window.</span></span> <span data-ttu-id="7a74f-126">Die Buildaktion der Datei sollte auf „Keine” und „In Ausgabeverzeichnis kopieren” sollte auf „Nicht kopieren” festgelegt sein.</span><span class="sxs-lookup"><span data-stu-id="7a74f-126">The file's Build Action should be set to None, and Copy to Output Directory should be set to Do not copy.</span></span>
3. <span data-ttu-id="7a74f-127">Ersetzen Sie den Inhalt der Datei mit dieser XML.</span><span class="sxs-lookup"><span data-stu-id="7a74f-127">Replace the contents of the file with this XML.</span></span>
   ```xml
   <packaging>
      <autoResourcePackage qualifier="Language" />
      <autoResourcePackage qualifier="Scale" />
      <autoResourcePackage qualifier="DXFeatureLevel" />
   </packaging>
   ```
4. <span data-ttu-id="7a74f-128">Jedes `<autoResourcePackage>`-Element weist Visual Studio an, automatisch die Ressourcen für den angegebenen Qualifizierernamen in separate Ressourcenpakete aufzuteilen.</span><span class="sxs-lookup"><span data-stu-id="7a74f-128">Each `<autoResourcePackage>` element tells Visual Studio to automatically split the resources for the given qualifier name out into separate resource packages.</span></span> <span data-ttu-id="7a74f-129">Dies wird als *automatische Aufteilung* bezeichnet.</span><span class="sxs-lookup"><span data-stu-id="7a74f-129">This is called *auto-splitting*.</span></span> <span data-ttu-id="7a74f-130">Mit den bisherigen Dateiinhalten haben Sie das Visual Studio-Verhalten noch nicht wirklich geändert.</span><span class="sxs-lookup"><span data-stu-id="7a74f-130">With the file contents you have so far, you haven't actually changed Visual Studio's behavior.</span></span> <span data-ttu-id="7a74f-131">Anders ausgedrückt: Visual Studio *verhält sich bereits so, als ob* diese Datei mit diesem Inhalt vorhanden wäre, da dies der Standard ist.</span><span class="sxs-lookup"><span data-stu-id="7a74f-131">In other words, Visual Studio *already behaved as if* this file were present with these contents, because these are the defaults.</span></span> <span data-ttu-id="7a74f-132">Wenn Sie nicht möchten, dass Visual Studio automatisch nach Qualifizierername aufteilt, löschen Sie dieses `<autoResourcePackage>`-Element aus der Datei.</span><span class="sxs-lookup"><span data-stu-id="7a74f-132">If you don't want Visual Studio to auto-split on a qualifier name then delete that `<autoResourcePackage>` element from the file.</span></span> <span data-ttu-id="7a74f-133">Hier sehen Sie, wie die Datei aussehen würde, wenn alle Ihre Sprachressourcen im App-Paket integriert werden sollen, anstatt sie automatisch in separate Ressourcenpakete aufzuteilen.</span><span class="sxs-lookup"><span data-stu-id="7a74f-133">Here's how the file would look if you wanted all of your language resources to be built into the app package instead of being auto-split out into separate resource packages.</span></span>
   ```xml
   <packaging>
      <autoResourcePackage qualifier="Scale" />
      <autoResourcePackage qualifier="DXFeatureLevel" />
   </packaging>
   ```
5. <span data-ttu-id="7a74f-134">Speichern und schließen Sie die Datei, und erstellen Sie das Projekt neu.</span><span class="sxs-lookup"><span data-stu-id="7a74f-134">Save and close the file and rebuild your project.</span></span>

<span data-ttu-id="7a74f-135">Um zu überprüfen, ob Ihre Auswahl für die automatische Aufteilung berücksichtigt wurde, suchen Sie nach der Datei `<ProjectFolder>\obj\<ReleaseConfiguration folder>\split.priconfig.xml`, und stellen Sie sicher, dass der Inhalt Ihrer Auswahl entspricht.</span><span class="sxs-lookup"><span data-stu-id="7a74f-135">To confirm that your auto-split choices are being taken into account, look for the file `<ProjectFolder>\obj\<ReleaseConfiguration folder>\split.priconfig.xml` and confirm that its contents match your choices.</span></span> <span data-ttu-id="7a74f-136">Wenn dies der Fall ist, haben Sie Visual Studio erfolgreich so konfiguriert, dass die Ressourcen Ihrer Wahl im App-Paket integriert werden.</span><span class="sxs-lookup"><span data-stu-id="7a74f-136">If they do, then you have successfully configured Visual Studio to build the resources of your choice into the app package.</span></span>

<span data-ttu-id="7a74f-137">Es gibt noch einen letzten Schritt, den Sie durchführen müssen.</span><span class="sxs-lookup"><span data-stu-id="7a74f-137">There is one final step that you need to do.</span></span> <span data-ttu-id="7a74f-138">**Aber nur, wenn Sie den `Language`-Qualifizierernamen gelöscht haben.**</span><span class="sxs-lookup"><span data-stu-id="7a74f-138">**But only if you deleted the `Language` qualifier name**.</span></span> <span data-ttu-id="7a74f-139">Sie müssen die Gesamtheit aller Sprachen, die von Ihrer App unterstützt werden, als Standardsprachenwert für Ihre App angeben.</span><span class="sxs-lookup"><span data-stu-id="7a74f-139">You need to specify the union of all of your app's supported language as your app's default for language.</span></span> <span data-ttu-id="7a74f-140">Weitere Informationen finden Sie unter [Angeben der von der App verwendeten Standardressourcen](specify-default-resources-installed.md).</span><span class="sxs-lookup"><span data-stu-id="7a74f-140">For details, see [Specify the default resources that your app uses](specify-default-resources-installed.md).</span></span> <span data-ttu-id="7a74f-141">Dies würde die Datei `priconfig.default.xml` enthalten, wenn Sie Ressourcen für Englisch, Spanisch und Französisch in Ihrem App-Paket integrieren würden.</span><span class="sxs-lookup"><span data-stu-id="7a74f-141">This is what your `priconfig.default.xml` would contain if you were including resources for English, Spanish, and French in your app package.</span></span>

```xml
   <default>
      <qualifier name="Language" value="en;es;fr" />
      ...
   </default>
```

### <a name="how-does-this-work"></a><span data-ttu-id="7a74f-142">Wie funktioniert das?</span><span class="sxs-lookup"><span data-stu-id="7a74f-142">How does this work?</span></span>

<span data-ttu-id="7a74f-143">Im Hintergrund wird von Visual Studio ein Tool namens `MakePri.exe` gestartet, um eine Datei (den Paketressourcenindex) zu generieren, die alle Ressourcen Ihrer App beschreibt und außerdem darauf hinweist, für welche Qualifizierernamen automatisch aufgeteilt werden soll.</span><span class="sxs-lookup"><span data-stu-id="7a74f-143">Behind the scenes, Visual Studio launches a tool named `MakePri.exe` to generate a file known as a Package Resource Index, which describes all of your app's resources, including indicating which resource qualifier names to auto-split on.</span></span> <span data-ttu-id="7a74f-144">Weitere Informationen zu diesem Tool finden Sie unter [Manuelles Kompilieren von Ressourcen mit MakePri.exe](compile-resources-manually-with-makepri.md).</span><span class="sxs-lookup"><span data-stu-id="7a74f-144">For details about this tool, see [Compile resources manually with MakePri.exe](compile-resources-manually-with-makepri.md).</span></span> <span data-ttu-id="7a74f-145">Visual Studio übergibt eine Konfigurationsdatei an `MakePri.exe`.</span><span class="sxs-lookup"><span data-stu-id="7a74f-145">Visual Studio passes a configuration file to `MakePri.exe`.</span></span> <span data-ttu-id="7a74f-146">Der Inhalt der Datei `priconfig.packaging.xml` wird als `<packaging>`-Element dieser Konfigurationsdatei verwendet, welches die automatische Aufteilung festlegt.</span><span class="sxs-lookup"><span data-stu-id="7a74f-146">The contents of your `priconfig.packaging.xml` file are used as the `<packaging>` element of that configuration file, which is the part that determines auto-splitting.</span></span> <span data-ttu-id="7a74f-147">Durch Hinzufügen und Bearbeiten von `priconfig.packaging.xml` wird letztlich der Inhalt der Paketressourcenindex-Datei beeinflusst, die Visual Studio für Ihre App generiert, sowie der Inhalt der Pakete in Ihrem App Bundle.</span><span class="sxs-lookup"><span data-stu-id="7a74f-147">So, adding and editing `priconfig.packaging.xml` ultimately influences the contents of the Package Resource Index file that Visual Studio generates for your app, as well as the contents of the packages in your app bundle.</span></span>

### <a name="using-a-different-file-name-than-priconfigpackagingxml"></a><span data-ttu-id="7a74f-148">Verwenden eines anderen Dateinamens als `priconfig.packaging.xml`</span><span class="sxs-lookup"><span data-stu-id="7a74f-148">Using a different file name than `priconfig.packaging.xml`</span></span>

<span data-ttu-id="7a74f-149">Wenn Sie die Datei `priconfig.packaging.xml` nennen, wird sie von Visual Studio erkannt und automatisch verwendet.</span><span class="sxs-lookup"><span data-stu-id="7a74f-149">If you name your file `priconfig.packaging.xml`, then Visual Studio will recognize it and use it automatically.</span></span> <span data-ttu-id="7a74f-150">Wenn Sie ihr einen anderen Namen geben, müssen Sie dies Visual Studio mitteilen.</span><span class="sxs-lookup"><span data-stu-id="7a74f-150">If you give it a different name, then you'll need to let Visual Studio know.</span></span> <span data-ttu-id="7a74f-151">Fügen Sie diese XML-Datei in Ihrer Projektdatei zwischen dem öffnenden und schließenden Tag des ersten `<PropertyGroup>`-Elements hinzu.</span><span class="sxs-lookup"><span data-stu-id="7a74f-151">In your project file, between the opening and closing tags of the first `<PropertyGroup>` element, add this XML.</span></span>

```xml
<AppxPriConfigXmlPackagingSnippetPath>FILE-PATH-AND-NAME</AppxPriConfigXmlPackagingSnippetPath>
```

<span data-ttu-id="7a74f-152">Ersetzen Sie `FILE-PATH-AND-NAME` durch den Pfad zur und den Namen der Datei.</span><span class="sxs-lookup"><span data-stu-id="7a74f-152">Replace `FILE-PATH-AND-NAME` with the path to, and name of, your file.</span></span>

## <a name="option-2-use-your-project-file-to-build-resources-into-your-app-package"></a><span data-ttu-id="7a74f-153">Option2:</span><span class="sxs-lookup"><span data-stu-id="7a74f-153">Option 2.</span></span> <span data-ttu-id="7a74f-154">Verwenden der Projektdatei, um Ressourcen im App-Paket zu integrieren</span><span class="sxs-lookup"><span data-stu-id="7a74f-154">Use your project file to build resources into your app package</span></span>

<span data-ttu-id="7a74f-155">Dies ist eine Alternative zu Option1.</span><span class="sxs-lookup"><span data-stu-id="7a74f-155">This is an alternative to Option 1.</span></span> <span data-ttu-id="7a74f-156">Sobald Sie mit der Funktionsweise von Option1 vertraut sind, können Sie stattdessen Option2 wählen, sollte dies besser zu Ihrem Entwicklungs- und/oder Buildworkflow passen.</span><span class="sxs-lookup"><span data-stu-id="7a74f-156">Once you understand how Option 1 works, you can choose to do Option 2 instead, if that suits your development and/or build workflow better.</span></span>

<span data-ttu-id="7a74f-157">Fügen Sie diese XML-Datei in Ihrer Projektdatei zwischen dem öffnenden und schließenden Tag des ersten `<PropertyGroup>`-Elements hinzu.</span><span class="sxs-lookup"><span data-stu-id="7a74f-157">In your project file, between the opening and closing tags of the first `<PropertyGroup>` element, add this XML.</span></span>

```xml
<AppxBundleAutoResourcePackageQualifiers>Language|Scale|DXFeatureLevel</AppxBundleAutoResourcePackageQualifiers>
```

<span data-ttu-id="7a74f-158">Hier sehen Sie, wie das aussieht, nachdem Sie den ersten Qualifizierernamen gelöscht haben.</span><span class="sxs-lookup"><span data-stu-id="7a74f-158">Here's how that looks after you've delete the first qualifier name.</span></span>

```xml
<AppxBundleAutoResourcePackageQualifiers>Scale|DXFeatureLevel</AppxBundleAutoResourcePackageQualifiers>
```

<span data-ttu-id="7a74f-159">Speichern und schließen Sie, und erstellen Sie das Projekt dann neu.</span><span class="sxs-lookup"><span data-stu-id="7a74f-159">Save and close, and rebuild your project.</span></span>

<span data-ttu-id="7a74f-160">Es gibt noch einen letzten Schritt, den Sie durchführen müssen.</span><span class="sxs-lookup"><span data-stu-id="7a74f-160">There is one final step that you need to do.</span></span> <span data-ttu-id="7a74f-161">**Aber nur, wenn Sie den `Language`-Qualifizierernamen gelöscht haben.**</span><span class="sxs-lookup"><span data-stu-id="7a74f-161">**But only if you deleted the `Language` qualifier name**.</span></span> <span data-ttu-id="7a74f-162">Sie müssen die Gesamtheit aller Sprachen, die von Ihrer App unterstützt werden, als Standardsprachenwert für Ihre App angeben.</span><span class="sxs-lookup"><span data-stu-id="7a74f-162">You need to specify the union of all of your app's supported language as your app's default for language.</span></span> <span data-ttu-id="7a74f-163">Weitere Informationen finden Sie unter [Angeben der von der App verwendeten Standardressourcen](specify-default-resources-installed.md).</span><span class="sxs-lookup"><span data-stu-id="7a74f-163">For details, see [Specify the default resources that your app uses](specify-default-resources-installed.md).</span></span> <span data-ttu-id="7a74f-164">Dies würde die Projektdatei enthalten, wenn Sie Ressourcen für Englisch, Spanisch und Französisch in Ihrem App-Paket integrieren würden.</span><span class="sxs-lookup"><span data-stu-id="7a74f-164">This is what your project file would contain if you were including resources for English, Spanish, and French in your app package.</span></span>

```xml
<AppxDefaultResourceQualifiers>Language=en;es;fr</AppxDefaultResourceQualifiers>
```

## <a name="related-topics"></a><span data-ttu-id="7a74f-165">Verwandte Themen</span><span class="sxs-lookup"><span data-stu-id="7a74f-165">Related topics</span></span>

* [<span data-ttu-id="7a74f-166">Verpacken einer UWP-App mit Visual Studio</span><span class="sxs-lookup"><span data-stu-id="7a74f-166">Package a UWP app with Visual Studio</span></span>](../packaging/packaging-uwp-apps.md)
* [<span data-ttu-id="7a74f-167">Manuelles Kompilieren von Ressourcen mit MakePri.exe</span><span class="sxs-lookup"><span data-stu-id="7a74f-167">Compile resources manually with MakePri.exe</span></span>](compile-resources-manually-with-makepri.md)
* [<span data-ttu-id="7a74f-168">Angeben der von der App verwendeten Standardressourcen</span><span class="sxs-lookup"><span data-stu-id="7a74f-168">Specify the default resources that your app uses</span></span>](specify-default-resources-installed.md)