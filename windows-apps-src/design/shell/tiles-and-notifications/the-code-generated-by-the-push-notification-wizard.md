---
author: mijacobs
Description: By using a wizard in Visual Studio, you can generate push notifications from a mobile service that was created with Azure Mobile Services.
title: Vom Assistenten für Pushbenachrichtigungen generierter Code
ms.assetid: 340F55C1-0DDF-4233-A8E4-C15EF9030785
template: detail.hbs
ms.author: mijacobs
ms.date: 05/19/2017
ms.topic: article
keywords: windows10, UWP
ms.localizationpriority: medium
ms.openlocfilehash: 6b39211c4b21a68fc0e563f73805805dcf1f4641
ms.sourcegitcommit: 753e0a7160a88830d9908b446ef0907cc71c64e7
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 10/30/2018
ms.locfileid: "5762561"
---
# <a name="code-generated-by-the-push-notification-wizard"></a><span data-ttu-id="c923e-103">Vom Assistenten für Pushbenachrichtigungen generierter Code</span><span class="sxs-lookup"><span data-stu-id="c923e-103">Code generated by the push notification wizard</span></span>
 

<span data-ttu-id="c923e-104">Mithilfe eines Assistenten in Visual Studio können Sie Pushbenachrichtigungen über einen mobilen Dienst generieren, der unter Verwendung von Azure Mobile Services erstellt wurde.</span><span class="sxs-lookup"><span data-stu-id="c923e-104">By using a wizard in Visual Studio, you can generate push notifications from a mobile service that was created with Azure Mobile Services.</span></span> <span data-ttu-id="c923e-105">Mit dem Visual Studio-Assistenten wird Code als Starthilfe generiert.</span><span class="sxs-lookup"><span data-stu-id="c923e-105">The Visual Studio wizard generates code to help you get started.</span></span> <span data-ttu-id="c923e-106">In diesem Thema wird erläutert, wie der Assistent Ihr Projekt modifiziert, welche Schritte mit dem generierten Code ausgeführt werden, wie der Code verwendet wird und was Sie als Nächstes tun können, um Pushbenachrichtigungen optimal einzusetzen.</span><span class="sxs-lookup"><span data-stu-id="c923e-106">This topic explains how the wizard modifies your project, what the generated code does, how to use this code, and what you can do next to get the most out of push notifications.</span></span> <span data-ttu-id="c923e-107">Weitere Informationen finden Sie unter [Übersicht über die Windows-Pushbenachrichtigungsdienste (Windows Push Notification Services, WNS)](windows-push-notification-services--wns--overview.md).</span><span class="sxs-lookup"><span data-stu-id="c923e-107">See [Windows Push Notification Services (WNS) overview](windows-push-notification-services--wns--overview.md).</span></span>

## <a name="how-the-wizard-modifies-your-project"></a><span data-ttu-id="c923e-108">Modifizierung des Projekts durch den Assistenten</span><span class="sxs-lookup"><span data-stu-id="c923e-108">How the wizard modifies your project</span></span>


<span data-ttu-id="c923e-109">Das Projekt wird vom Assistenten für Pushbenachrichtigungen wie folgt modifiziert:</span><span class="sxs-lookup"><span data-stu-id="c923e-109">The push notification wizard modifies your project in the following ways:</span></span>

-   <span data-ttu-id="c923e-110">Es wird ein Verweis auf den verwalteten Client von Mobile Dienste (MobileServicesManagedClient.dll) hinzugefügt.</span><span class="sxs-lookup"><span data-stu-id="c923e-110">Adds a reference to Mobile Services Managed Client (MobileServicesManagedClient.dll).</span></span> <span data-ttu-id="c923e-111">Dies gilt nicht für JavaScript-Projekte.</span><span class="sxs-lookup"><span data-stu-id="c923e-111">Not applicable to JavaScript projects.</span></span>
-   <span data-ttu-id="c923e-112">Unter "services" wird eine Datei in einen Unterordner eingefügt, die den Namen "push.register.cs", "push.register.vb", "push.register.cpp" oder "push.register.js" erhält.</span><span class="sxs-lookup"><span data-stu-id="c923e-112">Adds a file in a subfolder under services, and names the file push.register.cs, push.register.vb, push.register.cpp, or push.register.js.</span></span>
-   <span data-ttu-id="c923e-113">Auf dem Datenbankserver für den mobilen Dienst wird eine Datenkanaltabelle erstellt.</span><span class="sxs-lookup"><span data-stu-id="c923e-113">Creates a channels table on the database server for the mobile service.</span></span> <span data-ttu-id="c923e-114">Die Tabelle enthält Informationen, die zum Senden von Pushbenachrichtigungen an App-Instanzen erforderlich sind.</span><span class="sxs-lookup"><span data-stu-id="c923e-114">The table contains information that's required to send push notifications to app instances.</span></span>
-   <span data-ttu-id="c923e-115">Es werden Skripts für vier Funktionen erstellt: Löschen, Einfügen, Lesen und Aktualisieren.</span><span class="sxs-lookup"><span data-stu-id="c923e-115">Creates scripts for four functions: delete, insert, read and update.</span></span>
-   <span data-ttu-id="c923e-116">Erstellt ein Skript mit der benutzerdefinierten API "notifyallusers.js", das eine Pushbenachrichtigung an alle Clients sendet.</span><span class="sxs-lookup"><span data-stu-id="c923e-116">Creates a script with a custom API, notifyallusers.js, which sends a push notification to all clients.</span></span>
-   <span data-ttu-id="c923e-117">Der Datei "App.xaml.cs", "App.xaml.vb" oder "App.xaml.cpp" wird eine Deklaration hinzugefügt. Für JavaScript-Projekte wird der neuen Datei "service.js" eine Deklaration hinzugefügt.</span><span class="sxs-lookup"><span data-stu-id="c923e-117">Adds a declaration to your App.xaml.cs, App.xaml.vb, or App.xaml.cpp file, or adds a declaration to a new file, service.js, for JavaScript projects.</span></span> <span data-ttu-id="c923e-118">Mithilfe der Deklaration wird ein MobileServiceClient-Objekt deklariert, das die Informationen enthält, die zum Herstellen der Verbindung mit dem mobilen Dienst erforderlich sind.</span><span class="sxs-lookup"><span data-stu-id="c923e-118">The declaration declares a MobileServiceClient object, which contains the information that's required to connect to the mobile service.</span></span> <span data-ttu-id="c923e-119">Sie können auf dieses MobileServiceClient-Objekt, das den Namen „*MyServiceName*Client” trägt, von jeder Seite der App aus zugreifen, indem Sie den Namen „App.*MyServiceName*Client” verwenden.</span><span class="sxs-lookup"><span data-stu-id="c923e-119">You can access this MobileServiceClient object, which is named *MyServiceName*Client, from any page in your app by using the name App.*MyServiceName*Client.</span></span>

<span data-ttu-id="c923e-120">Die Datei „services.js” enthält den folgenden Code:</span><span class="sxs-lookup"><span data-stu-id="c923e-120">The services.js file contains the following code:</span></span>

```js
var <mobile-service-name>Client = new Microsoft.WindowsAzure.MobileServices.MobileServiceClient(
                "https://<mobile-service-name>.azure-mobile.net/",
                "<your client secret>");
```

## <a name="registration-for-push-notifications"></a><span data-ttu-id="c923e-121">Registrierung für Pushbenachrichtigungen</span><span class="sxs-lookup"><span data-stu-id="c923e-121">Registration for push notifications</span></span>


<span data-ttu-id="c923e-122">In „push.register.\*” registriert die UploadChannel-Methode des Geräts den Empfang von Pushbenachrichtigungen.</span><span class="sxs-lookup"><span data-stu-id="c923e-122">In push.register.\*, the UploadChannel method registers the device to receive push notifications.</span></span> <span data-ttu-id="c923e-123">Vom Store werden die installierten Instanzen Ihrer App nachverfolgt, und der Kanal für Pushbenachrichtigungen wird bereitgestellt.</span><span class="sxs-lookup"><span data-stu-id="c923e-123">The Store tracks installed instances of your app and provides the push notification channel.</span></span> <span data-ttu-id="c923e-124">Siehe [**PushNotificationChannelManager**](https://docs.microsoft.com/uwp/api/Windows.Networking.PushNotifications.PushNotificationChannelManager).</span><span class="sxs-lookup"><span data-stu-id="c923e-124">See [**PushNotificationChannelManager**](https://docs.microsoft.com/uwp/api/Windows.Networking.PushNotifications.PushNotificationChannelManager).</span></span>

<span data-ttu-id="c923e-125">Der Client-Code ist für das JavaScript-Back-End und .NET-Back-End identisch.</span><span class="sxs-lookup"><span data-stu-id="c923e-125">The client code is similar for both the JavaScript backend and the .NET backend.</span></span> <span data-ttu-id="c923e-126">Beim Hinzufügen von Pushbenachrichtigungen zu einem JavaScript-Back-End-Dienst wird eine benutzerdefinierte API zum NotifyAllUsers-Aufruf in der UploadChannel-Methode eingefügt.</span><span class="sxs-lookup"><span data-stu-id="c923e-126">By default, when you add push notifications for a JavaScript backend service, a sample call to notifyAllUsers custom API is inserted into the UploadChannel method.</span></span>

```csharp
using System;
using System.Collections.Generic;
using System.Linq;
using System.Net.Http;
using System.Text;
using System.Threading.Tasks;
using Microsoft.WindowsAzure.MobileServices;
using Newtonsoft.Json.Linq;

namespace App2
{
    internal class mymobileservice1234Push
    {
        public async static void UploadChannel()
        {
            var channel = await Windows.Networking.PushNotifications.PushNotificationChannelManager.CreatePushNotificationChannelForApplicationAsync();

            try
            {
                await App.mymobileservice1234Client.GetPush().RegisterNativeAsync(channel.Uri);
                await App.mymobileservice1234Client.InvokeApiAsync("notifyAllUsers");
            }
            catch (Exception exception)
            {
                HandleRegisterException(exception);
            }
        }

        private static void HandleRegisterException(Exception exception)
        {
            
        }
    }
}
```

```vb
Imports Microsoft.WindowsAzure.MobileServices
Imports Newtonsoft.Json.Linq

Friend Class mymobileservice1234Push
    Public Shared Async Sub UploadChannel()
        Dim channel = Await Windows.Networking.PushNotifications.PushNotificationChannelManager.CreatePushNotificationChannelForApplicationAsync()

        Try
            Await App.mymobileservice1234Client.GetPush().RegisterNativeAsync(channel.Uri)
            Await App.mymobileservice1234Client.GetPush().RegisterNativeAsync(channel.Uri, New String() {"tag1", "tag2"})
            Await App.mymobileservice1234Client.InvokeApiAsync("notifyAllUsers")
        Catch exception As Exception
            HandleRegisterException(exception)
        End Try
    End Sub

    Private Shared Sub HandleRegisterException(exception As Exception)

    End Sub
End Class
```

```c++
#include "pch.h"
#include "services\mobile services\mymobileservice1234\mymobileservice1234Push.h"

using namespace AzureMobileHelper;

using namespace web;
using namespace concurrency;

using namespace Windows::Networking::PushNotifications;

void mymobileservice1234Push::UploadChannel()
{
    create_task(PushNotificationChannelManager::CreatePushNotificationChannelForApplicationAsync()).
    then([] (PushNotificationChannel^ newChannel) 
    {
        return mymobileservice1234MobileService::GetClient().get_push().register_native(newChannel->Uri->Data());
    }).then([]()
    {
        return mymobileservice1234MobileService::GetClient().invoke_api(L"notifyAllUsers");
    }).then([](task<json::value> result)
    {
        try
        {
            result.wait();
        }
        catch(...)
        {
            HandleExceptionsComingFromTheServer();
        }
    });
}

void mymobileservice1234Push::HandleExceptionsComingFromTheServer()
{
}
```

```js
(function () {
    "use strict";

    var app = WinJS.Application;
    var activation = Windows.ApplicationModel.Activation;

    app.addEventListener("activated", function (args) {
        if (args.detail.kind == activation.ActivationKind.launch) {
            Windows.Networking.PushNotifications.PushNotificationChannelManager.createPushNotificationChannelForApplicationAsync()
                .then(function (channel) {
                    mymobileserviceclient1234Client.push.registerNative(channel.Uri, new Array("tag1", "tag2"))
                    return mymobileservice1234Client.push.registerNative(channel.uri);
                })
                .done(function (registration) {
                    return mymobileservice1234Client.invokeApi("notifyAllUsers");
                }, function (error) {
                    // Error

                });
        }
    });
})();
```

<span data-ttu-id="c923e-127">Tags für Push-Benachrichtigungen können Sie auf die Benachrichtigungen auf eine Teilmenge der Clients einschränken.</span><span class="sxs-lookup"><span data-stu-id="c923e-127">Push notification tags provide a way to restrict notifications to a subset of clients.</span></span> <span data-ttu-id="c923e-128">Nutzen Sie die RegisterNative-Methode (oder RegisterNativeAsync-Methode), um die Registrierung für alle Pushbenachrichtigungen ohne Angabe von Tags vorzunehmen, oder stellen Sie durch Registrieren von Tags das zweite Argument, ein Array von Tags, bereit.</span><span class="sxs-lookup"><span data-stu-id="c923e-128">You can use the for the registerNative method (or RegisterNativeAsync) method to either register for all push notifications without specifying tags, or you can register with tags by providing the second argument, an array of tags.</span></span> <span data-ttu-id="c923e-129">Wenn Sie die Registrierung mit mindestens einem Tag vornehmen, erhalten Sie nur Benachrichtigungen, die diesen Tags entsprechen.</span><span class="sxs-lookup"><span data-stu-id="c923e-129">If you register with one or more tags, you only receive notifications that match those tags.</span></span>

## <a name="server-side-scripts-javascript-backend-only"></a><span data-ttu-id="c923e-130">Serverseitige Skripts (nur JavaScript-Back-End)</span><span class="sxs-lookup"><span data-stu-id="c923e-130">Server-side scripts (JavaScript backend only)</span></span>


<span data-ttu-id="c923e-131">Bei mobilen Dienste, die JavaScript-Back-End verwenden, werden serverseitige Skripts beim Löschen, Einfügen, Lesen oder Aktualisieren von Vorgängen ausgeführt.</span><span class="sxs-lookup"><span data-stu-id="c923e-131">For mobile services that use the JavaScript backend, the server-side scripts run when delete, insert, read, or update operations occur.</span></span> <span data-ttu-id="c923e-132">Von den Skripts werden diese Vorgänge nicht implementiert, sondern sie werden ausgeführt, wenn diese Ereignisse per Clientaufruf der Windows Mobile-REST-API ausgelöst werden.</span><span class="sxs-lookup"><span data-stu-id="c923e-132">The scripts don't implement these operations, but they run when a call from the client to the Windows Mobile REST API triggers these events.</span></span> <span data-ttu-id="c923e-133">Von den Skripts wird die Steuerung dann an die Vorgänge selbst übergeben, indem „request.execute“ oder „request.respond“ aufgerufen wird, um eine Antwort an den aufrufenden Kontext auszugeben.</span><span class="sxs-lookup"><span data-stu-id="c923e-133">The scripts then pass control onto the operations themselves by calling request.execute or request.respond to issue a response to the calling context.</span></span> <span data-ttu-id="c923e-134">Weitere Infos finden Sie unter [REST-API für Azure-Mobile Dienste – Referenz](http://go.microsoft.com/fwlink/p/?linkid=511139).</span><span class="sxs-lookup"><span data-stu-id="c923e-134">See [Azure Mobile Services REST API Reference](http://go.microsoft.com/fwlink/p/?linkid=511139).</span></span>

<span data-ttu-id="c923e-135">Im serverseitigen Skript steht eine Auswahl von Funktionen zur Verfügung.</span><span class="sxs-lookup"><span data-stu-id="c923e-135">A variety of functions are available in the server-side script.</span></span> <span data-ttu-id="c923e-136">Weitere Infos erhalten Sie unter [Registrieren von Tabellenvorgängen für Azure-Mobile-Dienste](http://go.microsoft.com/fwlink/p/?linkid=511140).</span><span class="sxs-lookup"><span data-stu-id="c923e-136">See [Register table operations in Azure Mobile Services](http://go.microsoft.com/fwlink/p/?linkid=511140).</span></span> <span data-ttu-id="c923e-137">Eine Referenz mit allen verfügbaren Funktionen finden Sie unter [Serverskript für Mobile Dienste – Referenz](http://go.microsoft.com/fwlink/p/?linkid=257676).</span><span class="sxs-lookup"><span data-stu-id="c923e-137">For a reference to all available functions, see [Mobile Services server script reference](http://go.microsoft.com/fwlink/p/?linkid=257676).</span></span>

<span data-ttu-id="c923e-138">Außerdem wird der folgende benutzerdefinierte API-Code in „Notifyallusers.js“ erstellt:</span><span class="sxs-lookup"><span data-stu-id="c923e-138">The following custom API code in Notifyallusers.js is also created:</span></span>

```js
exports.post = function(request, response) {
    response.send(statusCodes.OK,{ message : 'Hello World!' })
    
    // The following call is for illustration purpose only
    // The call and function body should be moved to a script in your app
    // where you want to send a notification
    sendNotifications(request);
};

// The following code should be moved to appropriate script in your app where notification is sent
function sendNotifications(request) {
    var payload = '<?xml version="1.0" encoding="utf-8"?><toast><visual><binding template="ToastText01">' +
        '<text id="1">Sample Toast</text></binding></visual></toast>';
    var push = request.service.push; 
    push.wns.send(null,
        payload,
        'wns/toast', {
            success: function (pushResponse) {
                console.log("Sent push:", pushResponse);
            }
        });
}
```

<span data-ttu-id="c923e-139">Von der sendNotifications-Funktion wird eine einzelne Benachrichtigung als Popupbenachrichtigung gesendet.</span><span class="sxs-lookup"><span data-stu-id="c923e-139">The sendNotifications function sends a single notification as a toast notification.</span></span> <span data-ttu-id="c923e-140">Sie können auch andere Arten von Pushbenachrichtigungen verwenden.</span><span class="sxs-lookup"><span data-stu-id="c923e-140">You can also use other types of push notifications.</span></span>

<span data-ttu-id="c923e-141">**Tipp:** Informationen dazu, wie Sie Hilfe beim Bearbeiten von Skripts zu erhalten, finden Sie unter [Aktivieren von IntelliSense für serverseitigen JavaScript](http://go.microsoft.com/fwlink/p/?LinkId=309275).</span><span class="sxs-lookup"><span data-stu-id="c923e-141">**Tip**For information about how to get help while editing scripts, see [Enabling IntelliSense for server-side JavaScript](http://go.microsoft.com/fwlink/p/?LinkId=309275).</span></span>

 

## <a name="push-notification-types"></a><span data-ttu-id="c923e-142">Arten von Pushbenachrichtigungen</span><span class="sxs-lookup"><span data-stu-id="c923e-142">Push notification types</span></span>


<span data-ttu-id="c923e-143">Von Windows werden auch Benachrichtigungen unterstützt, bei denen es sich nicht um Pushbenachrichtigungen handelt.</span><span class="sxs-lookup"><span data-stu-id="c923e-143">Windows supports notifications that aren't push notifications.</span></span> <span data-ttu-id="c923e-144">Allgemeine Informationen zu Benachrichtigungen finden Sie unter [Auswählen einer Methode für die Übermittlung von Benachrichtigungen](choosing-a-notification-delivery-method.md).</span><span class="sxs-lookup"><span data-stu-id="c923e-144">For general information about notifications, see [Choosing a notification delivery method](choosing-a-notification-delivery-method.md).</span></span>

<span data-ttu-id="c923e-145">Die Nutzung von Popupbenachrichtigungen ist einfach. Im "Insert.js"-Code der für Sie generierten Kanaltabelle ist dazu ein Beispiel enthalten.</span><span class="sxs-lookup"><span data-stu-id="c923e-145">Toast notifications are easy to use, and you can review an example in the Insert.js code on the channel's table that's generated for you.</span></span> <span data-ttu-id="c923e-146">Wenn Sie die Verwendung von Kachel- oder Signalbenachrichtigungen planen, müssen Sie eine XML-Vorlage für die Kachel und das Signal erstellen und die Codierung der verpackten Informationen in der Vorlage angeben.</span><span class="sxs-lookup"><span data-stu-id="c923e-146">If you plan to use tile or badge notifications, you must create an XML template for the tile and badge, and you must specify the encoding of packaged information in the template.</span></span> <span data-ttu-id="c923e-147">Weitere Informationen finden Sie unter [Verwenden von Kachel-, Signal- und Popupbenachrichtigungen](https://msdn.microsoft.com/library/windows/apps/xaml/hh868259).</span><span class="sxs-lookup"><span data-stu-id="c923e-147">See [Working with tiles, badges, and toast notifications](https://msdn.microsoft.com/library/windows/apps/xaml/hh868259).</span></span>

<span data-ttu-id="c923e-148">Da Windows auf Pushbenachrichtigungen reagiert, können die meisten dieser Benachrichtigungen verarbeitet werden, wenn die App nicht ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="c923e-148">Because Windows responds to push notifications, it can handle most of these notifications when the app isn't running.</span></span> <span data-ttu-id="c923e-149">Mit einer Pushbenachrichtigung können Benutzer beispielsweise auch dann darüber informiert werden, dass eine neue E-Mail-Nachricht verfügbar ist, wenn die lokale Mail-App nicht ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="c923e-149">For example, a push notification could let a user know when a new mail message is available even when the local mail app isn't running.</span></span> <span data-ttu-id="c923e-150">Von Windows wird eine Popupbenachrichtigung verarbeitet, indem eine Meldung angezeigt wird, z.B. die erste Zeile einer Textnachricht.</span><span class="sxs-lookup"><span data-stu-id="c923e-150">Windows handles a toast notification by displaying a message, such as the first line of a text message.</span></span> <span data-ttu-id="c923e-151">Bei Kachel- oder Signalbenachrichtigungen aktualisiert Windows die Live-Kachel einer App, um die Anzahl neuer E-Mail-Nachrichten anzugeben.</span><span class="sxs-lookup"><span data-stu-id="c923e-151">Windows handles a tile or badge notification by updating an app's live tile to reflect the number of new mail messages.</span></span> <span data-ttu-id="c923e-152">So können Sie Benutzer Ihrer App auffordern, die neuen Informationen mit der App zu prüfen.</span><span class="sxs-lookup"><span data-stu-id="c923e-152">In this way, you can prompt users of your app to check it for new information.</span></span> <span data-ttu-id="c923e-153">Ihre App kann unformatierte Benachrichtigungen empfangen, wenn sie ausgeführt wird, und Sie können sie verwenden, um Daten an die App zu senden.</span><span class="sxs-lookup"><span data-stu-id="c923e-153">Your app can receive raw notifications when it's running, and you can use them to send data to your app.</span></span> <span data-ttu-id="c923e-154">Wenn die App nicht ausgeführt wird, können Sie eine Hintergrundaufgabe zum Überwachen von Pushbenachrichtigungen einrichten.</span><span class="sxs-lookup"><span data-stu-id="c923e-154">If your app isn't running, you can set up a background task to monitor push notifications.</span></span>

<span data-ttu-id="c923e-155">Es ist ratsam, Pushbenachrichtigungen unter Beachtung der Richtlinien für UWP-Apps zu verwenden, weil diese Benachrichtigungen Ressourcen der Benutzer verbrauchen und bei übermäßiger Nutzung ablenken können.</span><span class="sxs-lookup"><span data-stu-id="c923e-155">You should use push notifications according to the guidelines for Universal Windows Platform (UWP) apps, because those notifications use up a user's resources and can be distracting if overused.</span></span> <span data-ttu-id="c923e-156">Weitere Informationen finden Sie unter [Richtlinien und Prüfliste für Pushbenachrichtigungen](https://msdn.microsoft.com/library/windows/apps/hh761462).</span><span class="sxs-lookup"><span data-stu-id="c923e-156">See [Guidelines and checklist for push notifications](https://msdn.microsoft.com/library/windows/apps/hh761462).</span></span>

<span data-ttu-id="c923e-157">Wenn Sie Live-Kacheln mit Pushbenachrichtigungen aktualisieren, sollten Sie auch die Richtlinien unter [Richtlinien und Prüfliste für Kacheln und Signale](https://msdn.microsoft.com/library/windows/apps/hh465403) beachten.</span><span class="sxs-lookup"><span data-stu-id="c923e-157">If you're updating live tiles with push notifications, you should also follow the guidelines in [Guidelines and checklist for tiles and badges](https://msdn.microsoft.com/library/windows/apps/hh465403).</span></span>

## <a name="next-steps"></a><span data-ttu-id="c923e-158">Nächste Schritte</span><span class="sxs-lookup"><span data-stu-id="c923e-158">Next steps</span></span>


### <a name="using-the-windows-push-notification-services-wns"></a><span data-ttu-id="c923e-159">Verwenden der Windows-Pushbenachrichtigungsdienste (Windows Push Notification Service, WNS)</span><span class="sxs-lookup"><span data-stu-id="c923e-159">Using the Windows Push Notification Services (WNS)</span></span>

<span data-ttu-id="c923e-160">Sie können den Windows-Pushbenachrichtigungsdienst (WNS) auch direkt aufrufen, wenn Mobile Services nicht genügend Flexibilität bietet, wenn Sie Ihren Servercode in C# oder Visual Basic schreiben möchten oder wenn Sie bereits über einen Clouddienst verfügen und darüber Pushbenachrichtigungen senden möchten.</span><span class="sxs-lookup"><span data-stu-id="c923e-160">You can call Windows Push Notification Services (WNS) directly if Mobile Services doesn't provide enough flexibility, if you want to write your server code in C# or Visual Basic, or if you already have a cloud service and you want to send push notifications from it.</span></span> <span data-ttu-id="c923e-161">Indem Sie WNS direkt aufrufen, können Sie Pushbenachrichtigungen über Ihren eigenen Clouddienst senden. Dies kann beispielsweise eine Workerrolle sein, mit der Daten aus einer Datenbank oder einem anderen Webdienst überwacht werden.</span><span class="sxs-lookup"><span data-stu-id="c923e-161">By calling WNS directly, you can send push notifications from your own cloud service, such as a worker role that monitors data from a database or another web service.</span></span> <span data-ttu-id="c923e-162">Der Clouddienst muss gegenüber WNS authentifiziert sein, damit Pushbenachrichtigungen an Ihre Apps gesendet werden können.</span><span class="sxs-lookup"><span data-stu-id="c923e-162">Your cloud service must authenticate with WNS to send push notifications to your apps.</span></span> <span data-ttu-id="c923e-163">Weitere Infos finden Sie unter [So wird's gemacht: Authentifizieren mit dem Windows-Pushbenachrichtigungsdienst (Windows Push Notification Service, WNS) (JavaScript)](https://msdn.microsoft.com/library/windows/apps/hh465407) oder [(C#/C++/VB)](https://msdn.microsoft.com/library/windows/apps/xaml/hh868206).</span><span class="sxs-lookup"><span data-stu-id="c923e-163">See [How to authenticate with the Windows Push Notification Service (JavaScript)](https://msdn.microsoft.com/library/windows/apps/hh465407) or [(C#/C++/VB)](https://msdn.microsoft.com/library/windows/apps/xaml/hh868206).</span></span>

<span data-ttu-id="c923e-164">Sie können Pushbenachrichtigungen auch senden, indem Sie in Ihrem mobilen Dienst eine geplante Aufgabe ausführen.</span><span class="sxs-lookup"><span data-stu-id="c923e-164">You can also send push notifications by running a scheduled task in your mobile service.</span></span> <span data-ttu-id="c923e-165">Weitere Informationen finden Sie unter [Planen von wiederkehrenden Aufträgen in Mobile Services](http://go.microsoft.com/fwlink/p/?linkid=301694).</span><span class="sxs-lookup"><span data-stu-id="c923e-165">See [Schedule recurring jobs in Mobile Services](http://go.microsoft.com/fwlink/p/?linkid=301694).</span></span>

<span data-ttu-id="c923e-166">**Warnung**Nachdem Sie den Assistenten für Pushbenachrichtigungen einmal ausgeführt haben, nicht führen Sie den Assistenten ein zweites Mal um Registrierungscode für andere mobile Dienste hinzuzufügen.</span><span class="sxs-lookup"><span data-stu-id="c923e-166">**Warning**Once you've run the push notification wizard once, don't run the wizard a second time to add registration code for another mobile service.</span></span> <span data-ttu-id="c923e-167">Wenn Sie den Assistenten mehr als einmal pro Projekt ausführen, wird Code generiert, der überlappende Aufrufe in der [**CreatePushNotificationChannelForApplicationAsync**](https://docs.microsoft.com/uwp/api/Windows.Networking.PushNotifications.PushNotificationChannelManager.CreatePushNotificationChannelForApplicationAsync)-Methode zur Folge hat. Dies führt zu einer Laufzeitausnahme.</span><span class="sxs-lookup"><span data-stu-id="c923e-167">Running the wizard more than once per project generates code that results in overlapping calls to the [**CreatePushNotificationChannelForApplicationAsync**](https://docs.microsoft.com/uwp/api/Windows.Networking.PushNotifications.PushNotificationChannelManager.CreatePushNotificationChannelForApplicationAsync) method, which leads to a runtime exception.</span></span> <span data-ttu-id="c923e-168">Wenn Sie sich für Pushbenachrichtigungen für mehr als einen mobilen Dienst registrieren möchten, führen Sie den Assistenten einmal aus. Schreiben Sie dann den Registrierungscode neu, um sicherzustellen, dass Aufrufe für **CreatePushNotificationChannelForApplicationAsync** nicht zur gleichen Zeit ausgeführt werden.</span><span class="sxs-lookup"><span data-stu-id="c923e-168">If you want to register for push notifications for more than one mobile service, run the wizard once and then rewrite the registration code to ensure that calls to **CreatePushNotificationChannelForApplicationAsync** do not run at the same time.</span></span> <span data-ttu-id="c923e-169">Sie können dies beispielsweise umsetzen, indem Sie den vom Assistenten generierten Code in „push.register.\*” (einschließlich des Aufrufs von **CreatePushNotificationChannelForApplicationAsync**) an eine Position außerhalb des OnLaunched-Ereignisses verschieben. Die diesbezüglichen Spezifikationen hängen aber von der Architektur Ihrer App ab.</span><span class="sxs-lookup"><span data-stu-id="c923e-169">For example, you can accomplish this by moving the wizard-generated code in push.register.\* (including the call to **CreatePushNotificationChannelForApplicationAsync**) outside of the OnLaunched event, but the specifics of this will depend on your app's architecture.</span></span>

 

## <a name="related-topics"></a><span data-ttu-id="c923e-170">Verwandte Themen</span><span class="sxs-lookup"><span data-stu-id="c923e-170">Related topics</span></span>


* [<span data-ttu-id="c923e-171">Übersicht über die Windows-Pushbenachrichtigungsdienste (Windows Push Notification Services, WNS)</span><span class="sxs-lookup"><span data-stu-id="c923e-171">Windows Push Notification Services (WNS) overview</span></span>](windows-push-notification-services--wns--overview.md)
* [<span data-ttu-id="c923e-172">Übersicht über unformatierte Benachrichtigungen</span><span class="sxs-lookup"><span data-stu-id="c923e-172">Raw notification overview</span></span>](raw-notification-overview.md)
* [<span data-ttu-id="c923e-173">Herstellen einer Verbindung mit Microsoft Azure-Mobile Dienste (JavaScript)</span><span class="sxs-lookup"><span data-stu-id="c923e-173">Connecting to Windows Azure Mobile Services (JavaScript)</span></span>](https://msdn.microsoft.com/library/windows/apps/dn263160)
* [<span data-ttu-id="c923e-174">Herstellen einer Verbindung mit Microsoft Azure-Mobile Dienste (C#/C++/VB)</span><span class="sxs-lookup"><span data-stu-id="c923e-174">Connecting to Windows Azure Mobile Services (C#/C++/VB)</span></span>](https://msdn.microsoft.com/library/windows/apps/xaml/dn263175)
* [<span data-ttu-id="c923e-175">Schnellstart: Hinzufügen von Pushbenachrichtigungen für einen mobilen Dienst (JavaScript)</span><span class="sxs-lookup"><span data-stu-id="c923e-175">Quickstart: Adding push notifications for a mobile service (JavaScript)</span></span>](https://msdn.microsoft.com/library/windows/apps/dn263163)
 

 




