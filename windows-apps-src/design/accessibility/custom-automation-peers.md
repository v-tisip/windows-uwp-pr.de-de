---
Description: Describes the concept of automation peers for Microsoft UI Automation, and how you can provide automation support for your own custom UI class.
ms.assetid: AA8DA53B-FE6E-40AC-9F0A-CB09637C87B4
title: Benutzerdefinierte Automatisierungs-Peers
label: Custom automation peers
template: detail.hbs
ms.date: 07/13/2018
ms.topic: article
keywords: windows10, UWP
ms.localizationpriority: medium
ms.openlocfilehash: 18d3affe5f142c56314d132ba488d87c6f285723
ms.sourcegitcommit: c01c29cd97f1cbf050950526e18e15823b6a12a0
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 12/05/2018
ms.locfileid: "8707526"
---
# <a name="custom-automation-peers"></a><span data-ttu-id="ba59c-103">Benutzerdefinierte Automatisierungs-Peers</span><span class="sxs-lookup"><span data-stu-id="ba59c-103">Custom automation peers</span></span>  

<span data-ttu-id="ba59c-104">Beschreibt das Konzept von Automatisierungspeers für die Microsoft-Benutzeroberflächenautomatisierung und erläutert, wie Sie eine Unterstützung der Benutzeroberflächenautomatisierung für eine eigene benutzerdefinierte UI-Klasse bereitstellen können.</span><span class="sxs-lookup"><span data-stu-id="ba59c-104">Describes the concept of automation peers for Microsoft UI Automation, and how you can provide automation support for your own custom UI class.</span></span>

<span data-ttu-id="ba59c-105">Mit der Benutzeroberflächenautomatisierung wird ein Framework bereitgestellt, das Automatisierungsclients verwenden können, um die Benutzeroberflächen einer Vielzahl von UI-Plattformen und Frameworks zu untersuchen oder zu betreiben.</span><span class="sxs-lookup"><span data-stu-id="ba59c-105">UI Automation provides a framework that automation clients can use to examine or operate the user interfaces of a variety of UI platforms and frameworks.</span></span> <span data-ttu-id="ba59c-106">Wenn Sie eine App für die universelle Windows-Plattform schreiben, bieten die Klassen, die Sie für Ihre Benutzeroberfläche verwenden, bereits Unterstützung für Benutzeroberflächenautomatisierung.</span><span class="sxs-lookup"><span data-stu-id="ba59c-106">If you are writing a Universal Windows Platform (UWP) app, the classes that you use for your UI already provide UI Automation support.</span></span> <span data-ttu-id="ba59c-107">Sie können vorhandene nicht versiegelte -Klassen ableiten, um einen neuen UI-Steuerelementtyp oder eine Unterstützungsklasse zu definieren.</span><span class="sxs-lookup"><span data-stu-id="ba59c-107">You can derive from existing, non-sealed classes to define a new kind of UI control or support class.</span></span> <span data-ttu-id="ba59c-108">Hierbei kann mit Ihrer Klasse möglicherweise Verhalten zur Unterstützung der Barrierefreiheit hinzugefügt werden, das die Standard-Benutzeroberflächenautomatisierung nicht bereitstellt.</span><span class="sxs-lookup"><span data-stu-id="ba59c-108">In the process of doing so, your class might add behavior that should have accessibility support but that the default UI Automation support does not cover.</span></span> <span data-ttu-id="ba59c-109">In diesem Fall sollten Sie die vorhandene Unterstützung der Benutzeroberflächenautomatisierung erweitern, indem Sie von der [**AutomationPeer**](https://msdn.microsoft.com/library/windows/apps/BR209185)-Klasse ableiten, die in der Basisimplementierung verwendet wird. Zudem sollten Sie Ihrer Peerimplementierung die notwendige Unterstützung hinzufügen und die Steuerungsinfrastruktur der Universelle Windows-Plattform (UWP)-App anweisen, den neuen Peer zu erstellen.</span><span class="sxs-lookup"><span data-stu-id="ba59c-109">In this case, you should extend the existing UI Automation support by deriving from the [**AutomationPeer**](https://msdn.microsoft.com/library/windows/apps/BR209185) class that the base implementation used, adding any necessary support to your peer implementation, and informing the Universal Windows Platform (UWP) control infrastructure that it should create your new peer.</span></span>

<span data-ttu-id="ba59c-110">Die Benutzeroberflächenautomatisierung ermöglicht nicht nur Anwendungen für die Barrierefreiheit und Hilfstechnologien wie Bildschirmleseprogramme, sondern auch Qualitätssicherungscode (Testcode).</span><span class="sxs-lookup"><span data-stu-id="ba59c-110">UI Automation enables not only accessibility applications and assistive technologies, such as screen readers, but also quality-assurance (test) code.</span></span> <span data-ttu-id="ba59c-111">In beiden Szenarien können Benutzeroberflächenautomatisierungs-Clients die Benutzeroberflächenelemente untersuchen und die Benutzerinteraktion mit Ihrer App für Code simulieren, der nicht aus Ihrer App stammt.</span><span class="sxs-lookup"><span data-stu-id="ba59c-111">In either scenario, UI Automation clients can examine user-interface elements and simulate user interaction with your app from other code outside your app.</span></span> <span data-ttu-id="ba59c-112">Informationen zur plattformübergreifenden Benutzeroberflächenautomatisierung und ihrer weiteren Bedeutung finden Sie unter [Übersicht über die Benutzeroberflächenautomatisierung](https://msdn.microsoft.com/library/windows/desktop/Ee684076).</span><span class="sxs-lookup"><span data-stu-id="ba59c-112">For info about UI Automation across all platforms and in its wider meaning, see [UI Automation Overview](https://msdn.microsoft.com/library/windows/desktop/Ee684076).</span></span>

<span data-ttu-id="ba59c-113">Es gibt zwei unterschiedliche Zielgruppen, von denen das Benutzeroberflächenautomatisierungs-Framework verwendet wird.</span><span class="sxs-lookup"><span data-stu-id="ba59c-113">There are two distinct audiences who use the UI Automation framework.</span></span>

* <span data-ttu-id="ba59c-114">**Benutzeroberflächenautomatisierungs-\*Clients**\* rufen Benutzeroberflächenautomatisierungs-APIs auf, um Informationen über die gesamte Benutzeroberfläche zu erhalten, die dem Benutzer gegenwärtig angezeigt wird.</span><span class="sxs-lookup"><span data-stu-id="ba59c-114">**UI Automation *clients*** call UI Automation APIs to learn about all of the UI that is currently displayed to the user.</span></span> <span data-ttu-id="ba59c-115">Beispielsweise fungiert eine Hilfstechnologie wie etwa eine Bildschirmsprachausgabe als Benutzeroberflächenautomatisierungs-Client.</span><span class="sxs-lookup"><span data-stu-id="ba59c-115">For example, an assistive technology such as a screen reader acts as a UI Automation client.</span></span> <span data-ttu-id="ba59c-116">Die Benutzeroberfläche wird als Struktur aus verwandten Automatisierungselementen dargestellt.</span><span class="sxs-lookup"><span data-stu-id="ba59c-116">The UI is presented as a tree of automation elements that are related.</span></span> <span data-ttu-id="ba59c-117">Der Benutzeroberflächenautomatisierungs-Client benötigt u.U. Informationen zu jeweils nur einer App oder aber zur gesamten Struktur.</span><span class="sxs-lookup"><span data-stu-id="ba59c-117">The UI Automation client might be interested in just one app at a time, or in the entire tree.</span></span> <span data-ttu-id="ba59c-118">Vom Benutzeroberflächenautomatisierungs-Client können Benutzeroberflächenautomatisierungs-APIs zum Navigieren in der Struktur und zum Lesen oder Ändern von Informationen in den Automatisierungselementen verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="ba59c-118">The UI Automation client can use UI Automation APIs to navigate the tree and to read or change information in the automation elements.</span></span>
* <span data-ttu-id="ba59c-119">**Benutzeroberflächenautomatisierungs-\*Anbieter**\* bringen Informationen in den Benutzeroberflächenautomatisierungs-Baum ein. Dies erfolgt durch die Implementierung von APIs, die die Elemente in der Benutzeroberfläche verfügbar machen, die von ihnen als Teil der App eingeführt wurden.</span><span class="sxs-lookup"><span data-stu-id="ba59c-119">**UI Automation *providers*** contribute information to the UI Automation tree, by implementing APIs that expose the elements in the UI that they introduced as part of their app.</span></span> <span data-ttu-id="ba59c-120">Wenn Sie ein neues Steuerelement erstellen, sollten Sie jetzt als Teilnehmer des Benutzeroberflächenautomatisierungs-Anbieterszenarios fungieren.</span><span class="sxs-lookup"><span data-stu-id="ba59c-120">When you create a new control, you should now act as a participant in the UI Automation provider scenario.</span></span> <span data-ttu-id="ba59c-121">Als Anbieter sollten Sie aus Gründen der Barrierefreiheit und zu Testzwecken sicherstellen, dass alle Benutzeroberflächenautomatisierungs-Clients das Benutzeroberflächenautomatisierungs-Framework für die Interaktion mit Ihrem Steuerelement nutzen können.</span><span class="sxs-lookup"><span data-stu-id="ba59c-121">As a provider, you should ensure that all UI Automation clients can use the UI Automation framework to interact with your control for both accessibility and testing purposes.</span></span>

<span data-ttu-id="ba59c-122">Gewöhnlich sind im Benutzeroberflächenautomatisierungs-Framework parallele APIs vorhanden: eine API für Benutzeroberflächenautomatisierungs-Clients und eine andere API mit einem ähnlichen Namen für Benutzeroberflächenautomatisierungs-Anbieter.</span><span class="sxs-lookup"><span data-stu-id="ba59c-122">Typically there are parallel APIs in the UI Automation framework: one API for UI Automation clients and another, similarly named API for UI Automation providers.</span></span> <span data-ttu-id="ba59c-123">In diesem Thema geht es hauptsächlich um die APIs für den Benutzeroberflächenautomatisierungs-Anbieter und speziell um die Klassen und Schnittstellen, die eine Anbietererweiterbarkeit in diesem Benutzeroberflächenframework ermöglichen.</span><span class="sxs-lookup"><span data-stu-id="ba59c-123">For the most part, this topic covers the APIs for the UI Automation provider, and specifically the classes and interfaces that enable provider extensibility in that UI framework.</span></span> <span data-ttu-id="ba59c-124">Gelegentlich werden auch von Benutzeroberflächenautomatisierungs-Clients verwendete Benutzeroberflächenautomatisierungs-APIs angesprochen, um eine andere Perspektive zu bieten oder in einer Suchtabelle einen Vergleich von Client- und Anbieter-APIs zu veranschaulichen.</span><span class="sxs-lookup"><span data-stu-id="ba59c-124">Occasionally we mention UI Automation APIs that the UI Automation clients use, to provide some perspective, or provide a lookup table that correlates the client and provider APIs.</span></span> <span data-ttu-id="ba59c-125">Weitere Informationen zur Clientperspektive finden Sie im [Programmierhandbuch für Benutzeroberflächenautomatisierungs-Clients](https://msdn.microsoft.com/library/windows/desktop/Ee684021).</span><span class="sxs-lookup"><span data-stu-id="ba59c-125">For more info about the client perspective, see [UI Automation Client Programmer's Guide](https://msdn.microsoft.com/library/windows/desktop/Ee684021).</span></span>

> [!NOTE]
> <span data-ttu-id="ba59c-126">Benutzeroberflächenautomatisierungs-Clients verwenden normalerweise keinen verwalteten Code und werden meist auch nicht als UWP-App implementiert (sondern als Desktop-Apps).</span><span class="sxs-lookup"><span data-stu-id="ba59c-126">UI Automation clients don't typically use managed code and aren't typically implemented as a UWP app (they are usually desktop apps).</span></span> <span data-ttu-id="ba59c-127">Die Benutzeroberflächenautomatisierung basiert auf einem Standard, nicht auf einer bestimmten Implementierung oder einem bestimmten Framework.</span><span class="sxs-lookup"><span data-stu-id="ba59c-127">UI Automation is based on a standard and not a specific implementation or framework.</span></span> <span data-ttu-id="ba59c-128">Viele vorhandene Benutzeroberflächenautomatisierungs-Clients, z.B. Hilfstechnologieprodukte wie Bildschirmleseprogramme, verwenden Component Object Model (COM)-Schnittstellen für die Interaktion mit der Benutzeroberflächenautomatisierung, dem System und den in untergeordneten Fenstern ausgeführten Apps.</span><span class="sxs-lookup"><span data-stu-id="ba59c-128">Many existing UI Automation clients, including assistive technology products such as screen readers, use Component Object Model (COM) interfaces to interact with UI Automation, the system, and the apps that run in child windows.</span></span> <span data-ttu-id="ba59c-129">Weitere Informationen zu COM-Schnittstellen und zum Schreiben eines Benutzeroberflächenautomatisierungs-Clients mithilfe von COM finden Sie unter [Grundlagen der Benutzeroberflächenautomatisierung](https://msdn.microsoft.com/library/windows/desktop/Ee684007).</span><span class="sxs-lookup"><span data-stu-id="ba59c-129">For more info on the COM interfaces and how to write a UI Automation client using COM, see [UI Automation Fundamentals](https://msdn.microsoft.com/library/windows/desktop/Ee684007).</span></span>

<span id="Determining_the_existing_state_of_UI_Automation_support_for_your_custom_UI_class"/>
<span id="determining_the_existing_state_of_ui_automation_support_for_your_custom_ui_class"/>
<span id="DETERMINING_THE_EXISTING_STATE_OF_UI_AUTOMATION_SUPPORT_FOR_YOUR_CUSTOM_UI_CLASS"/>

## <a name="determining-the-existing-state-of-ui-automation-support-for-your-custom-ui-class"></a><span data-ttu-id="ba59c-130">Ermitteln des vorhandenen Zustands der Benutzeroberflächenautomatisierung für benutzerdefinierte UI-Klassen</span><span class="sxs-lookup"><span data-stu-id="ba59c-130">Determining the existing state of UI Automation support for your custom UI class</span></span>  
<span data-ttu-id="ba59c-131">Bevor Sie versuchen, einen Automatisierungspeer für ein benutzerdefiniertes Steuerelement zu implementieren, sollten Sie testen, ob die Basisklasse und der Automatisierungspeer bereits die erforderliche Barrierefreiheit oder Automatisierungsunterstützung bereitstellen.</span><span class="sxs-lookup"><span data-stu-id="ba59c-131">Before you attempt to implement an automation peer for a custom control, you should test whether the base class and its automation peer already provides the accessibility or automation support that you need.</span></span> <span data-ttu-id="ba59c-132">In vielen Fällen kann die Kombination aus [**FrameworkElementAutomationPeer**](https://msdn.microsoft.com/library/windows/apps/BR242472)-Implementierungen, bestimmten Peers und den Mustern, die diese implementieren, eine einfache Barrierefreiheit bieten, die den Anforderungen genügt.</span><span class="sxs-lookup"><span data-stu-id="ba59c-132">In many cases, the combination of the [**FrameworkElementAutomationPeer**](https://msdn.microsoft.com/library/windows/apps/BR242472) implementations, specific peers, and the patterns they implement can provide a basic but satisfactory accessibility experience.</span></span> <span data-ttu-id="ba59c-133">Dies hängt davon ab, wie viele Änderungen Sie an der Objektmodellverfügbarkeit Ihres Steuerelements im Vergleich zur Basisklasse vorgenommen haben.</span><span class="sxs-lookup"><span data-stu-id="ba59c-133">Whether this is true depends on how many changes you made to the object model exposure to your control versus its base class.</span></span> <span data-ttu-id="ba59c-134">Zudem hängt dies davon ab, ob Ihre Ergänzungen der Basisklassenfunktionalität mit den neuen UI-Elementen im Vorlagenvertrag oder mit der visuellen Darstellung des Steuerelements korrelieren.</span><span class="sxs-lookup"><span data-stu-id="ba59c-134">Also, this depends on whether your additions to base class functionality correlate to new UI elements in the template contract or to the visual appearance of the control.</span></span> <span data-ttu-id="ba59c-135">In einigen Fällen führen Ihre Änderungen möglicherweise zu neuen Aspekten der Benutzererfahrung, die eine zusätzliche Unterstützung der Barrierefreiheit erfordern.</span><span class="sxs-lookup"><span data-stu-id="ba59c-135">In some cases your changes might introduce new aspects of user experience that require additional accessibility support.</span></span>

<span data-ttu-id="ba59c-136">Auch wenn durch die Verwendung der vorhandenen Basispeerklasse eine grundlegende Unterstützung für die Barrierefreiheit bereitgestellt wird, empfiehlt es sich, einen Peer zu definieren. So können Sie der Benutzeroberflächenautomatisierung genaue **ClassName**-Informationen für automatisierte Testszenarien angeben.</span><span class="sxs-lookup"><span data-stu-id="ba59c-136">Even if using the existing base peer class provides the basic accessibility support, it is still a best practice to define a peer so that you can report precise **ClassName** information to UI Automation for automated testing scenarios.</span></span> <span data-ttu-id="ba59c-137">Diese Überlegung ist besonders wichtig, wenn Sie ein Steuerelement für den Einsatz in Drittanbieterlösungen entwerfen.</span><span class="sxs-lookup"><span data-stu-id="ba59c-137">This consideration is especially important if you are writing a control that is intended for third-party consumption.</span></span>

<span id="Automation_peer_classes__"/>
<span id="automation_peer_classes__"/>
<span id="AUTOMATION_PEER_CLASSES__"/>

## <a name="automation-peer-classes"></a><span data-ttu-id="ba59c-138">Automatisierungspeerklassen</span><span class="sxs-lookup"><span data-stu-id="ba59c-138">Automation peer classes</span></span>  
<span data-ttu-id="ba59c-139">Die UWP baut auf vorhandenen Techniken und Konventionen für die Benutzeroberflächenautomatisierung auf, die von vorherigen Benutzeroberflächenframeworks mit verwaltetem Code verwendet wurden, z.B. Windows Forms, Windows Presentation Foundation (WPF) und Microsoft Silverlight.</span><span class="sxs-lookup"><span data-stu-id="ba59c-139">The UWP builds on existing UI Automation techniques and conventions used by previous managed-code UI frameworks such as Windows Forms, Windows Presentation Foundation (WPF) and Microsoft Silverlight.</span></span> <span data-ttu-id="ba59c-140">Viele der Steuerelementklassen und deren Funktion und Zweck entstammen auch einem vorherigen Benutzeroberflächenframework.</span><span class="sxs-lookup"><span data-stu-id="ba59c-140">Many of the control classes and their function and purpose also have their origin in a previous UI framework.</span></span>

<span data-ttu-id="ba59c-141">Üblicherweise beginnen Peerklassennamen mit dem Namen der Steuerelementklasse und enden mit „AutomationPeer“.</span><span class="sxs-lookup"><span data-stu-id="ba59c-141">By convention, peer class names begin with the control class name and end with "AutomationPeer".</span></span> <span data-ttu-id="ba59c-142">Beispielsweise ist [**ButtonAutomationPeer**](https://msdn.microsoft.com/library/windows/apps/BR242458) die Peerklasse für die [**Button**](https://msdn.microsoft.com/library/windows/apps/BR209265)-Steuerelementklasse.</span><span class="sxs-lookup"><span data-stu-id="ba59c-142">For example, [**ButtonAutomationPeer**](https://msdn.microsoft.com/library/windows/apps/BR242458) is the peer class for the [**Button**](https://msdn.microsoft.com/library/windows/apps/BR209265) control class.</span></span>

> [!NOTE]
> <span data-ttu-id="ba59c-143">Im Rahmen dieses Themas räumen wir den Eigenschaften, die sich auf die Barrierefreiheit beziehen, beim Implementieren eines Peers für ein Steuerelement eine höhere Priorität ein.</span><span class="sxs-lookup"><span data-stu-id="ba59c-143">For purposes of this topic, we treat the properties that are related to accessibility as being more important when you implement a control peer.</span></span> <span data-ttu-id="ba59c-144">In einem allgemeineren Konzept für die Unterstützung der Benutzeroberflächenautomatisierung sollten Sie jedoch einen Peer gemäß den Empfehlungen im [Programmierhandbuch für Benutzeroberflächenautomatisierungs-Anbieter](https://msdn.microsoft.com/library/windows/desktop/Ee671596) und in den [Grundlagen der Benutzeroberflächenautomatisierung](https://msdn.microsoft.com/library/windows/desktop/Ee684007) implementieren.</span><span class="sxs-lookup"><span data-stu-id="ba59c-144">But for a more general concept of UI Automation support, you should implement a peer in accordance with recommendations as documented by the [UI Automation Provider Programmer's Guide](https://msdn.microsoft.com/library/windows/desktop/Ee671596) and [UI Automation Fundamentals](https://msdn.microsoft.com/library/windows/desktop/Ee684007).</span></span> <span data-ttu-id="ba59c-145">In diesen Themen werden zwar keine spezifischen [**AutomationPeer**](https://msdn.microsoft.com/library/windows/apps/BR209185)-APIs behandelt, die Sie zum Bereitstellen der Informationen im UWP-Framework für die Benutzeroberflächenautomatisierung verwenden können, aber es werden die Eigenschaften beschrieben, mit denen Ihre Klasse identifiziert wird oder andere Informationen oder Interaktionen bereitgestellt werden.</span><span class="sxs-lookup"><span data-stu-id="ba59c-145">Those topics don't cover the specific [**AutomationPeer**](https://msdn.microsoft.com/library/windows/apps/BR209185) APIs that you would use to provide the information in the UWP framework for UI Automation, but they do describe the properties that identify your class or provide other information or interaction.</span></span>

<span id="Peers__patterns_and_control_types"/>
<span id="peers__patterns_and_control_types"/>
<span id="PEERS__PATTERNS_AND_CONTROL_TYPES"/>

## <a name="peers-patterns-and-control-types"></a><span data-ttu-id="ba59c-146">Peers, Muster und Steuerelementtypen</span><span class="sxs-lookup"><span data-stu-id="ba59c-146">Peers, patterns and control types</span></span>  
<span data-ttu-id="ba59c-147">Ein *Steuerelementmuster* ist eine Schnittstellenimplementierung, die einen bestimmten Aspekt der Funktionalität eines Steuerelements für einen Benutzeroberflächenautomatisierungs-Client verfügbar macht.</span><span class="sxs-lookup"><span data-stu-id="ba59c-147">A *control pattern* is an interface implementation that exposes a particular aspect of a control's functionality to a UI Automation client.</span></span> <span data-ttu-id="ba59c-148">Benutzeroberflächenautomatisierungs-Clients verwenden die Eigenschaften und Methoden, die über ein Steuerelementmuster verfügbar gemacht werden, um Informationen über die Funktionen des Steuerelements abzurufen oder das Verhalten des Steuerelements zur Laufzeit zu ändern.</span><span class="sxs-lookup"><span data-stu-id="ba59c-148">UI Automation clients use the properties and methods exposed through a control pattern to retrieve information about capabilities of the control, or to manipulate the control's behavior at run time.</span></span>

<span data-ttu-id="ba59c-149">Steuerelementmuster ermöglichen es, die Funktionen eines Steuerelements unabhängig vom Typ oder vom Aussehen des Steuerelements zu kategorisieren und verfügbar zu machen.</span><span class="sxs-lookup"><span data-stu-id="ba59c-149">Control patterns provide a way to categorize and expose a control's functionality independent of the control type or the appearance of the control.</span></span> <span data-ttu-id="ba59c-150">Ein Steuerelement, das eine tabellarische Oberfläche darstellt, verwendet das **Grid**-Steuerelementmuster, um die Anzahl der Zeilen und Spalten in der Tabelle verfügbar zu machen und einem Benutzeroberflächenautomatisierungs-Client zu ermöglichen, Objekte aus der Tabelle abzurufen.</span><span class="sxs-lookup"><span data-stu-id="ba59c-150">For example, a control that presents a tabular interface uses the **Grid** control pattern to expose the number of rows and columns in the table, and to enable a UI Automation client to retrieve items from the table.</span></span> <span data-ttu-id="ba59c-151">Der Benutzeroberflächenautomatisierungs-Client kann das **Invoke**-Steuerelementmuster für aufrufbare Steuerelemente (z.B. Schaltflächen) und das **Scroll**-Steuerelementmuster für Steuerelemente mit Bildlaufleisten (z.B. Listenfelder, Listenansichten oder Kombinationsfelder) verwenden.</span><span class="sxs-lookup"><span data-stu-id="ba59c-151">As other examples, the UI Automation client can use the **Invoke** control pattern for controls that can be invoked, such as buttons, and the **Scroll** control pattern for controls that have scroll bars, such as list boxes, list views, or combo boxes.</span></span> <span data-ttu-id="ba59c-152">Jedes Steuerelementmuster stellt eine separate Funktion dar, und Steuerelementmuster können kombiniert werden, um den gesamten Funktionsumfang zu beschreiben, der von einem bestimmten Steuerelement unterstützt wird.</span><span class="sxs-lookup"><span data-stu-id="ba59c-152">Each control pattern represents a separate type of functionality, and control patterns can be combined to describe the full set of functionality supported by a particular control.</span></span>

<span data-ttu-id="ba59c-153">Steuerelementmuster verhalten sich zur Benutzeroberfläche wie Schnittstellen zu COM-Objekten.</span><span class="sxs-lookup"><span data-stu-id="ba59c-153">Control patterns relate to UI as interfaces relate to COM objects.</span></span> <span data-ttu-id="ba59c-154">In COM können Sie von einem Objekt abfragen, welche Schnittstellen es unterstützt, und dann mithilfe dieser Schnittstellen auf die Funktionen zugreifen.</span><span class="sxs-lookup"><span data-stu-id="ba59c-154">In COM, you can query an object to ask what interfaces it supports and then use those interfaces to access functionality.</span></span> <span data-ttu-id="ba59c-155">Bei der Benutzeroberflächenautomatisierung können Benutzeroberflächenautomatisierungs-Clients von einem Benutzeroberflächenautomatisierungs-Element abfragen, welche Steuerelementmuster es unterstützt, und dann über die vom unterstützten Steuerelementmuster verfügbar gemachten Eigenschaften, Methoden, Ereignisse und Strukturen mit dem Element und dem Peersteuerelement interagieren.</span><span class="sxs-lookup"><span data-stu-id="ba59c-155">In UI Automation, UI Automation clients can query a UI Automation element to find out which control patterns it supports, and then interact with the element and its peered control through the properties, methods, events, and structures exposed by the supported control patterns.</span></span>

<span data-ttu-id="ba59c-156">Eine der Hauptaufgaben eines Automatisierungspeers besteht darin, dem Benutzeroberflächenautomatisierungs-Client zu melden, welche Steuerelementmuster das UI-Element über seinen Peer unterstützen kann.</span><span class="sxs-lookup"><span data-stu-id="ba59c-156">One of the main purposes of an automation peer is to report to a UI Automation client which control patterns the UI element can support through its peer.</span></span> <span data-ttu-id="ba59c-157">Hierzu werden von Benutzeroberflächenautomatisierungs-Anbietern neue Peers implementiert, mit denen das Verhalten der [**GetPattern**](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.automation.peers.automationpeer.getpattern)-Methode durch Überschreiben der [**GetPatternCore**](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.automation.peers.automationpeer.getpatterncore)-Methode geändert wird.</span><span class="sxs-lookup"><span data-stu-id="ba59c-157">To do this, UI Automation providers implement new peers that change the [**GetPattern**](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.automation.peers.automationpeer.getpattern) method behavior by overriding the [**GetPatternCore**](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.automation.peers.automationpeer.getpatterncore) method.</span></span> <span data-ttu-id="ba59c-158">Benutzeroberflächenautomatisierungs-Clients führen Aufrufe durch, die vom Benutzeroberflächenautomatisierungs-Anbieter dem aufrufenden **GetPattern**-Element zugeordnet werden.</span><span class="sxs-lookup"><span data-stu-id="ba59c-158">UI Automation clients make calls that the UI Automation provider maps to calling **GetPattern**.</span></span> <span data-ttu-id="ba59c-159">Benutzeroberflächenautomatisierungs-Clients fragen jedes spezielle Muster ab, mit dem sie interagieren möchten.</span><span class="sxs-lookup"><span data-stu-id="ba59c-159">UI Automation clients query for each specific pattern that they want to interact with.</span></span> <span data-ttu-id="ba59c-160">Wenn der Peer das Muster unterstützt, gibt er einen Objektverweis auf sich selbst oder andernfalls **null** zurück.</span><span class="sxs-lookup"><span data-stu-id="ba59c-160">If the peer supports the pattern, it returns an object reference to itself; otherwise it returns **null**.</span></span> <span data-ttu-id="ba59c-161">Wird nicht **null** zurückgegeben, erwartet der Benutzeroberflächenautomatisierungs-Client, dass er APIs der Musterschnittstelle als Client aufrufen kann, um mit diesem Steuerelementmuster zu interagieren.</span><span class="sxs-lookup"><span data-stu-id="ba59c-161">If the return is not **null**, the UI Automation client expects that it can call APIs of the pattern interface as a client, in order to interact with that control pattern.</span></span>

<span data-ttu-id="ba59c-162">Ein *Steuerelementtyp* ist eine Möglichkeit, die Funktionalität eines vom Peer dargestellten Steuerelements allgemein zu definieren.</span><span class="sxs-lookup"><span data-stu-id="ba59c-162">A *control type* is a way to broadly define the functionality of a control that the peer represents.</span></span> <span data-ttu-id="ba59c-163">Dieses Konzept unterscheidet sich insofern von dem eines Steuerelementmusters, da ein Muster die Benutzeroberflächenautomatisierung informiert, welche Informationen sie abrufen kann oder welche Aktionen sie über eine bestimmte Schnittstelle ausführen kann, während sich der Steuerelementtyp eine Ebene höher befindet.</span><span class="sxs-lookup"><span data-stu-id="ba59c-163">This is a different concept than a control pattern because while a pattern informs UI Automation what info it can get or what actions it can perform through a particular interface, the control type exists one level above that.</span></span> <span data-ttu-id="ba59c-164">Jeder Steuerelementtyp verfügt über Informationen zu den folgenden Aspekten der Benutzeroberflächenautomatisierung:</span><span class="sxs-lookup"><span data-stu-id="ba59c-164">Each control type has guidance about these aspects of UI Automation:</span></span>

* <span data-ttu-id="ba59c-165">Steuerelementmuster für die Benutzeroberflächenautomatisierung: Ein Steuerelementtyp kann mehrere Muster unterstützen, die jeweils eine andere Klassifizierung von Informationen oder Interaktionen darstellen.</span><span class="sxs-lookup"><span data-stu-id="ba59c-165">UI Automation control patterns: A control type might support more than one pattern, each of which represents a different classification of info or interaction.</span></span> <span data-ttu-id="ba59c-166">Jeder Steuerelementtyp verfügt über einen Satz von Steuerelementmustern, die das Steuerelement unterstützen muss. Dabei ist ein Satz optional, und der andere darf vom Steuerelement nicht unterstützt werden.</span><span class="sxs-lookup"><span data-stu-id="ba59c-166">Each control type has a set of control patterns that the control must support, a set that is optional, and a set that the control must not support.</span></span>
* <span data-ttu-id="ba59c-167">Eigenschaftswerte für die Benutzeroberflächenautomatisierung: Jeder Steuerelementtyp hat einen Satz von Eigenschaften, die das Steuerelement unterstützen muss.</span><span class="sxs-lookup"><span data-stu-id="ba59c-167">UI Automation property values: Each control type has a set of properties that the control must support.</span></span> <span data-ttu-id="ba59c-168">Dabei handelt es sich um die allgemeinen Eigenschaften, die unter [Übersicht über Eigenschaften für die Benutzeroberflächenautomatisierung](https://msdn.microsoft.com/library/windows/desktop/Ee671594) beschrieben werden, nicht um die musterspezifischen Eigenschaften.</span><span class="sxs-lookup"><span data-stu-id="ba59c-168">These are the general properties, as described in [UI Automation Properties Overview](https://msdn.microsoft.com/library/windows/desktop/Ee671594), not the ones that are pattern-specific.</span></span>
* <span data-ttu-id="ba59c-169">Ereignisse für die Benutzeroberflächenautomatisierung: Jeder Steuerelementtyp hat einen Satz von Ereignissen, die das Steuerelement unterstützen muss.</span><span class="sxs-lookup"><span data-stu-id="ba59c-169">UI Automation events: Each control type has a set of events that the control must support.</span></span> <span data-ttu-id="ba59c-170">Auch hier handelt es sich nicht um musterspezifische Ereignisse, sondern um die unter [Übersicht über Ereignisse für die Benutzeroberflächenautomatisierung](https://msdn.microsoft.com/library/windows/desktop/Ee671221) beschriebenen Ereignisse.</span><span class="sxs-lookup"><span data-stu-id="ba59c-170">Again these are general, not pattern-specific, as described in [UI Automation Events Overview](https://msdn.microsoft.com/library/windows/desktop/Ee671221).</span></span>
* <span data-ttu-id="ba59c-171">Baumstruktur der Benutzeroberflächenautomatisierung: Jeder Steuerelementtyp definiert, wie das Steuerelement in der Baumstruktur der Benutzeroberflächenautomatisierung dargestellt werden muss.</span><span class="sxs-lookup"><span data-stu-id="ba59c-171">UI Automation tree structure: Each control type defines how the control must appear in the UI Automation tree structure.</span></span>

<span data-ttu-id="ba59c-172">Unabhängig von der Implementierungsweise von Automatisierungspeers für das Framework sind die Funktionen von Benutzeroberflächenautomatisierungs-Clients nicht an die UWP gebunden. Es ist sogar wahrscheinlich, dass vorhandene Benutzeroberflächenautomatisierungs-Clients wie beispielsweise Hilfstechnologien andere Programmiermodelle (z.B. COM) verwenden.</span><span class="sxs-lookup"><span data-stu-id="ba59c-172">Regardless of how automation peers for the framework are implemented, UI Automation client functionality isn't tied to the UWP, and in fact it's likely that existing UI Automation clients such as assistive technologies will use other programming models, such as COM.</span></span> <span data-ttu-id="ba59c-173">In COM können Clients **QueryInterface** für die Schnittstelle des COM-Steuerelementmusters, das das angeforderte Muster implementiert, oder das allgemeine Benutzeroberflächenautomatisierungs-Framework für Eigenschaften, Ereignisse oder die Strukturuntersuchung verwenden.</span><span class="sxs-lookup"><span data-stu-id="ba59c-173">In COM, clients can **QueryInterface** for the COM control pattern interface that implements the requested pattern or the general UI Automation framework for properties, events or tree examination.</span></span> <span data-ttu-id="ba59c-174">Mithilfe des Benutzeroberflächenautomatisierungs-Frameworks wird für die Muster das Marshalling in UWP-Code vorgenommen, der für den Benutzeroberflächenautomatisierungs-Anbieter der App und den entsprechenden Peer ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="ba59c-174">For the patterns, the UI Automation framework marshals that interface code across into UWP code running against the app's UI Automation provider and the relevant peer.</span></span>

<span data-ttu-id="ba59c-175">Wenn Sie Steuerelementmuster für ein Framework mit verwaltetem Code implementieren, z.B. eine UWP-App mit C\# oder Microsoft Visual Basic, können Sie für die Darstellung dieser Muster .NETFramework-Schnittstellen anstelle von COM-Schnittstellen verwenden.</span><span class="sxs-lookup"><span data-stu-id="ba59c-175">When you implement control patterns for a managed-code framework such as a UWP app using C\# or Microsoft Visual Basic, you can use .NET Framework interfaces to represent these patterns instead of using the COM interface representation.</span></span> <span data-ttu-id="ba59c-176">Beispielsweise ist die Benutzeroberflächenautomatisierungs-Musterschnittstelle für eine Microsoft .NET-Anbieterimplementierung des **Invoke**-Musters [**IInvokeProvider**](https://msdn.microsoft.com/library/windows/apps/BR242582).</span><span class="sxs-lookup"><span data-stu-id="ba59c-176">For example, the UI Automation pattern interface for a Microsoft .NET provider implementation of the **Invoke** pattern is [**IInvokeProvider**](https://msdn.microsoft.com/library/windows/apps/BR242582).</span></span>

<span data-ttu-id="ba59c-177">Eine Liste mit Steuerelementmustern, Anbieterschnittstellen und deren Zweck finden Sie unter [Steuerelementmuster und -schnittstellen](control-patterns-and-interfaces.md).</span><span class="sxs-lookup"><span data-stu-id="ba59c-177">For a list of control patterns, provider interfaces, and their purpose, see [Control patterns and interfaces](control-patterns-and-interfaces.md).</span></span> <span data-ttu-id="ba59c-178">Eine Liste der Steuerelementtypen finden Sie unter [Übersicht über Steuerelementtypen für die Benutzeroberflächenautomatisierung](https://msdn.microsoft.com/library/windows/desktop/Ee671197).</span><span class="sxs-lookup"><span data-stu-id="ba59c-178">For the list of the control types, see [UI Automation Control Types Overview](https://msdn.microsoft.com/library/windows/desktop/Ee671197).</span></span>

<span id="Guidance_for_how_to_implement_control_patterns"/>
<span id="guidance_for_how_to_implement_control_patterns"/>
<span id="GUIDANCE_FOR_HOW_TO_IMPLEMENT_CONTROL_PATTERNS"/>

### <a name="guidance-for-how-to-implement-control-patterns"></a><span data-ttu-id="ba59c-179">Leitfaden für die Implementierung von Steuerelementmustern</span><span class="sxs-lookup"><span data-stu-id="ba59c-179">Guidance for how to implement control patterns</span></span>  
<span data-ttu-id="ba59c-180">Die Steuerelementmuster und ihr jeweiliger Zweck sind Bestandteil einer umfangreicheren Definition des Benutzeroberflächenautomatisierungs-Frameworks und gelten nicht nur für die Unterstützung der Barrierefreiheit in einer UWP-App.</span><span class="sxs-lookup"><span data-stu-id="ba59c-180">The control patterns and what they're intended for are part of a larger definition of the UI Automation framework, and don't just apply to the accessibility support for a UWP app.</span></span> <span data-ttu-id="ba59c-181">Stellen Sie beim Implementieren eines Steuerelementmusters sicher, dass die Implementierung den auf MSDN und in der Spezifikation für die Benutzeroberflächenautomatisierung dokumentierten Richtlinien entspricht.</span><span class="sxs-lookup"><span data-stu-id="ba59c-181">When you implement a control pattern you should make sure you're implementing it in a way that matches the guidance as documented on MSDN and also in the UI Automation specification.</span></span> <span data-ttu-id="ba59c-182">Wenn Sie Unterstützung benötigen, können Sie im Allgemeinen die MSDN-Themen verwenden und müssen nicht die Spezifikation zurate ziehen.</span><span class="sxs-lookup"><span data-stu-id="ba59c-182">If you're looking for guidance, you can generally use the MSDN topics and won't need to refer to the specification.</span></span> <span data-ttu-id="ba59c-183">Einen Leitfaden für die einzelnen Muster finden Sie unter [Implementieren von Steuerelementmustern für die Benutzeroberflächenautomatisierung](https://msdn.microsoft.com/library/windows/desktop/Ee671292).</span><span class="sxs-lookup"><span data-stu-id="ba59c-183">Guidance for each pattern is documented here: [Implementing UI Automation Control Patterns](https://msdn.microsoft.com/library/windows/desktop/Ee671292).</span></span> <span data-ttu-id="ba59c-184">Jedes Thema in diesem Bereich enthält einen Abschnitt mit Implementierungsrichtlinien und -konventionen und einen mit den erforderlichen Membern.</span><span class="sxs-lookup"><span data-stu-id="ba59c-184">You'll notice that each topic under this area has an "Implementation Guidelines and Conventions" section and "Required Members" section.</span></span> <span data-ttu-id="ba59c-185">Die Richtlinien beziehen sich in der Regel auf bestimmte APIs der relevanten Steuerelementmuster-Schnittstelle in der Referenz [Steuerelementmuster-Schnittstellen für Anbieter](https://msdn.microsoft.com/library/windows/desktop/Ee671201).</span><span class="sxs-lookup"><span data-stu-id="ba59c-185">The guidance usually refers to specific APIs of the relevant control pattern interface in the [Control Pattern Interfaces for Providers](https://msdn.microsoft.com/library/windows/desktop/Ee671201) reference.</span></span> <span data-ttu-id="ba59c-186">Bei diesen Schnittstellen handelt es sich um die systemeigenen Schnittstellen bzw. COM-Schnittstellen (und die zugehörigen APIs verwenden eine Syntax im COM-Stil).</span><span class="sxs-lookup"><span data-stu-id="ba59c-186">Those interfaces are the native/COM interfaces (and their APIs use COM-style syntax).</span></span> <span data-ttu-id="ba59c-187">Für alles, was Sie hier sehen, gibt es jedoch eine Entsprechung im [**Windows.UI.Xaml.Automation.Provider**](https://msdn.microsoft.com/library/windows/apps/BR209225)-Namespace.</span><span class="sxs-lookup"><span data-stu-id="ba59c-187">But everything you see there has an equivalent in the [**Windows.UI.Xaml.Automation.Provider**](https://msdn.microsoft.com/library/windows/apps/BR209225) namespace.</span></span>

<span data-ttu-id="ba59c-188">Wenn Sie die Standardautomatisierungspeers verwenden und deren Verhalten erweitern, ist zu beachten, dass diese Peers bereits gemäß den Richtlinien für die Benutzeroberflächenautomatisierung für Anbieter geschrieben wurden.</span><span class="sxs-lookup"><span data-stu-id="ba59c-188">If you're using the default automation peers and expanding on their behavior, those peers have already been written in conformance to UI Automation guidelines.</span></span> <span data-ttu-id="ba59c-189">Wenn sie Steuerelementmuster unterstützen, können Sie sich darauf verlassen, dass die jeweiligen Muster den Richtlinien unter [Implementieren von Steuerelementmustern für die Benutzeroberflächenautomatisierung](https://msdn.microsoft.com/library/windows/desktop/Ee671292) entsprechen.</span><span class="sxs-lookup"><span data-stu-id="ba59c-189">If they support control patterns, you can rely on that pattern support conforming with guidance at [Implementing UI Automation Control Patterns](https://msdn.microsoft.com/library/windows/desktop/Ee671292).</span></span> <span data-ttu-id="ba59c-190">Wenn ein Steuerelementpeer meldet, dass er einen durch die Benutzeroberflächenautomatisierung definierten Steuerelementtyp darstellt, orientiert sich dieser Peer an den unter [Unterstützen von Steuerelementtypen für die Benutzeroberflächenautomatisierung](https://msdn.microsoft.com/library/windows/desktop/Ee671633) dokumentierten Richtlinien.</span><span class="sxs-lookup"><span data-stu-id="ba59c-190">If a control peer reports that it's representative of a control type defined by UI Automation, then the guidance documented at [Supporting UI Automation Control Types](https://msdn.microsoft.com/library/windows/desktop/Ee671633) has been followed by that peer.</span></span>

<span data-ttu-id="ba59c-191">Trotzdem benötigen Sie u.U. weitere Richtlinien für Steuerelementmuster oder -typen, um in Ihrer Peerimplementierung den Empfehlungen für die Benutzeroberflächenautomatisierung zu folgen.</span><span class="sxs-lookup"><span data-stu-id="ba59c-191">Nevertheless you might need additional guidance for control patterns or control types in order to follow the UI Automation recommendations in your peer implementation.</span></span> <span data-ttu-id="ba59c-192">Dies ist besonders dann der Fall, wenn Sie eine Unterstützung für Muster oder Steuerelementtypen implementieren, die noch nicht als Standardimplementierung in einem UWP-Steuerelement vorhanden ist.</span><span class="sxs-lookup"><span data-stu-id="ba59c-192">That would be particularly true if you're implementing pattern or control type support that doesn't yet exist as a default implementation in a UWP control.</span></span> <span data-ttu-id="ba59c-193">Das Muster für Anmerkungen ist z.B. in keinem der standardmäßigen XAML-Steuerelemente implementiert.</span><span class="sxs-lookup"><span data-stu-id="ba59c-193">For example, the pattern for annotations isn't implemented in any of the default XAML controls.</span></span> <span data-ttu-id="ba59c-194">Vielleicht haben Sie aber eine App, die Anmerkungen intensiv nutzt, und möchten daher den Zugriff auf diese Funktionalität ermöglichen.</span><span class="sxs-lookup"><span data-stu-id="ba59c-194">But you might have an app that uses annotations extensively and therefore you want to surface that functionality to be accessible.</span></span> <span data-ttu-id="ba59c-195">Für dieses Szenario sollte Ihr Peer [**IAnnotationProvider**](https://msdn.microsoft.com/library/windows/apps/Hh738493) implementieren und sich vermutlich als **Document**-Steuerelementtyp mit entsprechenden Eigenschaften melden. Dies ist ein Hinweis darauf, dass Ihre Dokumente Anmerkungen unterstützen.</span><span class="sxs-lookup"><span data-stu-id="ba59c-195">For this scenario, your peer should implement [**IAnnotationProvider**](https://msdn.microsoft.com/library/windows/apps/Hh738493) and should probably report itself as the **Document** control type with appropriate properties to indicate that your documents support annotation.</span></span>

<span data-ttu-id="ba59c-196">Wir empfehlen, die Ratschläge für die Muster unter [Implementieren von Steuerelementmustern für die Benutzeroberflächenautomatisierung](https://msdn.microsoft.com/library/windows/desktop/Ee671292) oder für Steuerelementtypen unter [Unterstützen von Steuerelementtypen für die Benutzeroberflächenautomatisierung](https://msdn.microsoft.com/library/windows/desktop/Ee671633) zur Orientierung und als allgemeinen Leitfaden zu nutzen.</span><span class="sxs-lookup"><span data-stu-id="ba59c-196">We recommend that you use the guidance that you see for the patterns under [Implementing UI Automation Control Patterns](https://msdn.microsoft.com/library/windows/desktop/Ee671292) or control types under [Supporting UI Automation Control Types](https://msdn.microsoft.com/library/windows/desktop/Ee671633) as orientation and general guidance.</span></span> <span data-ttu-id="ba59c-197">Sie können auch einigen der API-Links folgen, unter denen Sie Beschreibungen und Anmerkungen zum Zweck der APIs finden.</span><span class="sxs-lookup"><span data-stu-id="ba59c-197">You might even try following some of the API links for descriptions and remarks as to the purpose of the APIs.</span></span> <span data-ttu-id="ba59c-198">Einzelheiten zur speziellen Syntax für die Programmierung von UWP-Apps finden Sie unter der entsprechenden API im [**Windows.UI.Xaml.Automation.Provider**](https://msdn.microsoft.com/library/windows/apps/BR209225)-Namespace und den zugehörigen Referenzseiten.</span><span class="sxs-lookup"><span data-stu-id="ba59c-198">But for syntax specifics that are needed for UWP app programming, find the equivalent API within the [**Windows.UI.Xaml.Automation.Provider**](https://msdn.microsoft.com/library/windows/apps/BR209225) namespace and use those reference pages for more info.</span></span>

<span id="Built-in_automation_peer_classes"/>
<span id="built-in_automation_peer_classes"/>
<span id="BUILT-IN_AUTOMATION_PEER_CLASSES"/>

## <a name="built-in-automation-peer-classes"></a><span data-ttu-id="ba59c-199">Integrierte Automatisierungspeerklassen</span><span class="sxs-lookup"><span data-stu-id="ba59c-199">Built-in automation peer classes</span></span>  
<span data-ttu-id="ba59c-200">Im Allgemeinen implementieren Elemente eine Automatisierungspeerklasse, wenn sie UI-Aktivität vom Benutzer akzeptieren. Ein weiterer Fall ist das Vorhandensein von Informationen, die Benutzer von Hilfstechnologien benötigen, mit denen die interaktive oder aussagekräftige Benutzeroberfläche von Apps dargestellt wird.</span><span class="sxs-lookup"><span data-stu-id="ba59c-200">In general, elements implement an automation peer class if they accept UI activity from the user, or if they contain information needed by users of assistive technologies that represent the interactive or meaningful UI of apps.</span></span> <span data-ttu-id="ba59c-201">Nicht alle visuellen UWP-Elemente verfügen über Automatisierungspeers.</span><span class="sxs-lookup"><span data-stu-id="ba59c-201">Not all UWP visual elements have automation peers.</span></span> <span data-ttu-id="ba59c-202">Beispiele für Klassen, die Automatisierungspeers implementieren, sind [**Button**](https://msdn.microsoft.com/library/windows/apps/BR209265) und [**TextBox**](https://msdn.microsoft.com/library/windows/apps/BR209683).</span><span class="sxs-lookup"><span data-stu-id="ba59c-202">Examples of classes that implement automation peers are [**Button**](https://msdn.microsoft.com/library/windows/apps/BR209265) and [**TextBox**](https://msdn.microsoft.com/library/windows/apps/BR209683).</span></span> <span data-ttu-id="ba59c-203">Beispiele für Klassen, die keine Automatisierungspeers implementieren, sind [**Border**](https://msdn.microsoft.com/library/windows/apps/BR209250) und Klassen auf Basis von [**Panel**](https://msdn.microsoft.com/library/windows/apps/BR227511), z.B. [**Grid**](https://msdn.microsoft.com/library/windows/apps/BR242704) und [**Canvas**](https://msdn.microsoft.com/library/windows/apps/BR209267).</span><span class="sxs-lookup"><span data-stu-id="ba59c-203">Examples of classes that do not implement automation peers are [**Border**](https://msdn.microsoft.com/library/windows/apps/BR209250) and classes based on [**Panel**](https://msdn.microsoft.com/library/windows/apps/BR227511), such as [**Grid**](https://msdn.microsoft.com/library/windows/apps/BR242704) and [**Canvas**](https://msdn.microsoft.com/library/windows/apps/BR209267).</span></span> <span data-ttu-id="ba59c-204">Ein **Panel** weist keinen Peer auf, weil es nur ein visuelles Layoutverhalten bereitstellt.</span><span class="sxs-lookup"><span data-stu-id="ba59c-204">A **Panel** has no peer because it is providing a layout behavior that is visual only.</span></span> <span data-ttu-id="ba59c-205">Benutzer haben keine für die Barrierefreiheit relevante Möglichkeit, mit einem **Panel** zu interagieren.</span><span class="sxs-lookup"><span data-stu-id="ba59c-205">There is no accessibility-relevant way for the user to interact with a **Panel**.</span></span> <span data-ttu-id="ba59c-206">Unabhängig davon, welche untergeordneten Elemente ein **Panel** enthält, werden diese den Benutzeroberflächenautomatisierungs-Bäumen als untergeordnete Elemente des nächsten verfügbaren übergeordneten Elements in der Struktur gemeldet, das über eine Peer- oder Elementdarstellung verfügt.</span><span class="sxs-lookup"><span data-stu-id="ba59c-206">Whatever child elements a **Panel** contains are instead reported to UI Automation trees as child elements of the next available parent in the tree that has a peer or element representation.</span></span>

<span id="UI_Automation_and_UWP_process_boundaries"/>
<span id="ui_automation_and_uwp_process_boundaries"/>
<span id="UI_AUTOMATION_AND_UWP_PROCESS_BOUNDARIES"/>

## <a name="ui-automation-and-uwp-process-boundaries"></a><span data-ttu-id="ba59c-207">UWP-Prozessgrenzen und Benutzeroberflächenautomatisierung</span><span class="sxs-lookup"><span data-stu-id="ba59c-207">UI Automation and UWP process boundaries</span></span>  
<span data-ttu-id="ba59c-208">In der Regel wird Benutzeroberflächenautomatisierungs-Client-Code, der auf eine UWP-App zugreift, außerhalb des Prozesses ausgeführt.</span><span class="sxs-lookup"><span data-stu-id="ba59c-208">Typically, UI Automation client code that accesses a UWP app runs out-of-process.</span></span> <span data-ttu-id="ba59c-209">Die Infrastruktur des Benutzeroberflächenautomatisierungs-Frameworks ermöglicht es, Informationen über Prozessgrenzen hinweg zu übertragen.</span><span class="sxs-lookup"><span data-stu-id="ba59c-209">The UI Automation framework infrastructure enables information to get across the process boundary.</span></span> <span data-ttu-id="ba59c-210">Weitere Informationen zu diesem Konzept finden Sie in den [Grundlagen der Benutzeroberflächenautomatisierung](https://msdn.microsoft.com/library/windows/desktop/Ee684007).</span><span class="sxs-lookup"><span data-stu-id="ba59c-210">This concept is explained in more detail in [UI Automation Fundamentals](https://msdn.microsoft.com/library/windows/desktop/Ee684007).</span></span>

<span id="OnCreateAutomationPeer"/>
<span id="oncreateautomationpeer"/>
<span id="ONCREATEAUTOMATIONPEER"/>

## <a name="oncreateautomationpeer"></a><span data-ttu-id="ba59c-211">OnCreateAutomationPeer</span><span class="sxs-lookup"><span data-stu-id="ba59c-211">OnCreateAutomationPeer</span></span>  
<span data-ttu-id="ba59c-212">Alle Klassen, die von [**UIElement**](https://msdn.microsoft.com/library/windows/apps/BR208911) abgeleitet werden, enthalten die geschützte virtuelle Methode [**OnCreateAutomationPeer**](https://msdn.microsoft.com/ibrary/windows/apps/windows.ui.xaml.uielement.oncreateautomationpeer).</span><span class="sxs-lookup"><span data-stu-id="ba59c-212">All classes that derive from [**UIElement**](https://msdn.microsoft.com/library/windows/apps/BR208911) contain the protected virtual method [**OnCreateAutomationPeer**](https://msdn.microsoft.com/ibrary/windows/apps/windows.ui.xaml.uielement.oncreateautomationpeer).</span></span> <span data-ttu-id="ba59c-213">Die Objektinitialisierungssequenz für Automatisierungspeers ruft **OnCreateAutomationPeer** auf, um das Automatisierungspeerobjekt für jedes Steuerelement abzurufen und so einen Benutzeroberflächenautomatisierungs-Baum zur Laufzeitverwendung zu erstellen.</span><span class="sxs-lookup"><span data-stu-id="ba59c-213">The object initialization sequence for automation peers calls **OnCreateAutomationPeer** to get the automation peer object for each control and thus to construct a UI Automation tree for run-time use.</span></span> <span data-ttu-id="ba59c-214">Der Benutzeroberflächenautomatisierungs-Code kann den Peer verwenden, um Informationen über die Merkmale und Features eines Steuerelements abzurufen und mithilfe der Steuerelementmuster die interaktive Verwendung des Steuerelements zu simulieren.</span><span class="sxs-lookup"><span data-stu-id="ba59c-214">UI Automation code can use the peer to get information about a control’s characteristics and features and to simulate interactive use by means of its control patterns.</span></span> <span data-ttu-id="ba59c-215">Ein benutzerdefiniertes Steuerelement, das Automatisierung unterstützt, muss **OnCreateAutomationPeer** überschreiben und eine Instanz der Klasse zurückgeben, die von [**AutomationPeer**](https://msdn.microsoft.com/library/windows/apps/BR209185) abgeleitet wird.</span><span class="sxs-lookup"><span data-stu-id="ba59c-215">A custom control that supports automation must override **OnCreateAutomationPeer** and return an instance of a class that derives from [**AutomationPeer**](https://msdn.microsoft.com/library/windows/apps/BR209185).</span></span> <span data-ttu-id="ba59c-216">Wenn beispielsweise ein benutzerdefiniertes Steuerelement von der Klasse [**ButtonBase**](https://msdn.microsoft.com/library/windows/apps/BR227736) abgeleitet wird, sollte das von **OnCreateAutomationPeer** zurückgegebene Objekt von [**ButtonBaseAutomationPeer**](https://docs.microsoft.com/en-us/uwp/api/windows.ui.xaml.automation.peers.buttonbaseautomationpeer) abgeleitet werden.</span><span class="sxs-lookup"><span data-stu-id="ba59c-216">For example, if a custom control derives from the [**ButtonBase**](https://msdn.microsoft.com/library/windows/apps/BR227736) class, the object returned by **OnCreateAutomationPeer** should derive from [**ButtonBaseAutomationPeer**](https://docs.microsoft.com/en-us/uwp/api/windows.ui.xaml.automation.peers.buttonbaseautomationpeer).</span></span>

<span data-ttu-id="ba59c-217">Wenn Sie eine benutzerdefinierte Steuerelementklasse schreiben und außerdem einen neuen Automatisierungspeer bereitstellen möchten, sollten Sie die [**OnCreateAutomationPeer**](https://msdn.microsoft.com/ibrary/windows/apps/windows.ui.xaml.uielement.oncreateautomationpeer)-Methode für das benutzerdefinierte Steuerelement überschreiben, sodass eine neue Instanz Ihres Peers zurückgegeben wird.</span><span class="sxs-lookup"><span data-stu-id="ba59c-217">If you're writing a custom control class and intend to also supply a new automation peer, you should override the [**OnCreateAutomationPeer**](https://msdn.microsoft.com/ibrary/windows/apps/windows.ui.xaml.uielement.oncreateautomationpeer) method for your custom control so that it returns a new instance of your peer.</span></span> <span data-ttu-id="ba59c-218">Die Peerklasse muss direkt oder indirekt von [**AutomationPeer**](https://msdn.microsoft.com/library/windows/apps/BR209185) abgeleitet werden.</span><span class="sxs-lookup"><span data-stu-id="ba59c-218">Your peer class must derive directly or indirectly from [**AutomationPeer**](https://msdn.microsoft.com/library/windows/apps/BR209185).</span></span>

<span data-ttu-id="ba59c-219">Mit dem folgenden Code wird beispielsweise deklariert, dass das benutzerdefinierte `NumericUpDown`-Steuerelement den Peer `NumericUpDownPeer` zur Benutzeroberflächenautomatisierung verwenden soll.</span><span class="sxs-lookup"><span data-stu-id="ba59c-219">For example, the following code declares that the custom control `NumericUpDown` should use the peer `NumericUpDownPeer` for UI Automation purposes.</span></span>

```csharp
using Windows.UI.Xaml.Automation.Peers;
...
public class NumericUpDown : RangeBase {
    public NumericUpDown() {
    // other initialization; DefaultStyleKey etc.
    }
    ...
    protected override AutomationPeer OnCreateAutomationPeer()
    {
        return new NumericUpDownAutomationPeer(this);
    }
}
```

```vb
Public Class NumericUpDown
    Inherits RangeBase
    ' other initialization; DefaultStyleKey etc.
       Public Sub New()
       End Sub
       Protected Overrides Function OnCreateAutomationPeer() As AutomationPeer
              Return New NumericUpDownAutomationPeer(Me)
       End Function
End Class
```

```cppwinrt
// NumericUpDown.idl
namespace MyNamespace
{
    runtimeclass NumericUpDown : Windows.UI.Xaml.Controls.Primitives.RangeBase
    {
        NumericUpDown();
        Int32 MyProperty;
    }
}

// NumericUpDown.h
...
struct NumericUpDown : NumericUpDownT<NumericUpDown>
{
    ...
    Windows::UI::Xaml::Automation::Peers::AutomationPeer OnCreateAutomationPeer()
    {
        return winrt::make<MyNamespace::implementation::NumericUpDownAutomationPeer>(*this);
    }
};
```

```cpp
//.h
public ref class NumericUpDown sealed : Windows::UI::Xaml::Controls::Primitives::RangeBase
{
// other initialization not shown
protected:
    virtual AutomationPeer^ OnCreateAutomationPeer() override
    {
         return ref new NumericUpDownAutomationPeer(this);
    }
};
```

> [!NOTE]
> <span data-ttu-id="ba59c-220">Die [**OnCreateAutomationPeer**](https://msdn.microsoft.com/ibrary/windows/apps/windows.ui.xaml.uielement.oncreateautomationpeer)-Implementierung sollte lediglich eine neue Instanz des benutzerdefinierten Automatisierungspeers initialisieren, das aufrufende Steuerelement als Besitzer übergeben und die neue Instanz zurückgeben.</span><span class="sxs-lookup"><span data-stu-id="ba59c-220">The [**OnCreateAutomationPeer**](https://msdn.microsoft.com/ibrary/windows/apps/windows.ui.xaml.uielement.oncreateautomationpeer) implementation should do nothing more than initialize a new instance of your custom automation peer, passing the calling control as owner, and return that instance.</span></span> <span data-ttu-id="ba59c-221">Versuchen Sie nicht, in diese Methode zusätzliche Logik einzubinden.</span><span class="sxs-lookup"><span data-stu-id="ba59c-221">Do not attempt additional logic in this method.</span></span> <span data-ttu-id="ba59c-222">Besonders Logik, die möglicherweise zur Zerstörung des [**AutomationPeer**](https://msdn.microsoft.com/library/windows/apps/BR209185)-Elements innerhalb desselben Aufrufs führt, kann ein unvorhergesehenes Laufzeitverhalten zur Folge haben.</span><span class="sxs-lookup"><span data-stu-id="ba59c-222">In particular, any logic that could potentially lead to destruction of the [**AutomationPeer**](https://msdn.microsoft.com/library/windows/apps/BR209185) within the same call may result in unexpected runtime behavior.</span></span>

<span data-ttu-id="ba59c-223">In typischen Implementierungen von [**OnCreateAutomationPeer**](https://msdn.microsoft.com/ibrary/windows/apps/windows.ui.xaml.uielement.oncreateautomationpeer) ist *owner* als **this** oder **Me** angegeben, da die Überschreibung der Methode den gleichen Umfang wie der Rest der Steuerelement-Klassendefinition hat.</span><span class="sxs-lookup"><span data-stu-id="ba59c-223">In typical implementations of [**OnCreateAutomationPeer**](https://msdn.microsoft.com/ibrary/windows/apps/windows.ui.xaml.uielement.oncreateautomationpeer), the *owner* is specified as **this** or **Me** because the method override is in the same scope as the rest of the control class definition.</span></span>

<span data-ttu-id="ba59c-224">Die tatsächliche Peerklassendefinition kann in derselben Codedatei wie das Steuerelement oder in einer separaten Codedatei erfolgen.</span><span class="sxs-lookup"><span data-stu-id="ba59c-224">The actual peer class definition can be done in the same code file as the control or in a separate code file.</span></span> <span data-ttu-id="ba59c-225">Die Peerdefinitionen befinden sich alle im [**Windows.UI.Xaml.Automation.Peers**](https://msdn.microsoft.com/library/windows/apps/BR242563)-Namespace, also getrennt von den Steuerelementen, für die sie Peers bereitstellen.</span><span class="sxs-lookup"><span data-stu-id="ba59c-225">The peer definitions all exist in the [**Windows.UI.Xaml.Automation.Peers**](https://msdn.microsoft.com/library/windows/apps/BR242563) namespace that is a separate namespace from the controls that they provide peers for.</span></span> <span data-ttu-id="ba59c-226">Sie können Ihre Peers auch in separaten Namespaces deklarieren, sofern Sie auf die erforderlichen Namespaces für den [**OnCreateAutomationPeer**](https://msdn.microsoft.com/ibrary/windows/apps/windows.ui.xaml.uielement.oncreateautomationpeer)-Methodenaufruf verweisen.</span><span class="sxs-lookup"><span data-stu-id="ba59c-226">You can choose to declare your peers in separate namespaces also, as long as you reference the necessary namespaces for the [**OnCreateAutomationPeer**](https://msdn.microsoft.com/ibrary/windows/apps/windows.ui.xaml.uielement.oncreateautomationpeer) method call.</span></span>

<span id="Choosing_the_correct_peer_base_class"/>
<span id="choosing_the_correct_peer_base_class"/>
<span id="CHOOSING_THE_CORRECT_PEER_BASE_CLASS"/>

### <a name="choosing-the-correct-peer-base-class"></a><span data-ttu-id="ba59c-227">Auswählen der richtigen Peerbasisklasse</span><span class="sxs-lookup"><span data-stu-id="ba59c-227">Choosing the correct peer base class</span></span>  
<span data-ttu-id="ba59c-228">Stellen Sie sicher, dass Ihr [**AutomationPeer**](https://msdn.microsoft.com/library/windows/apps/BR209185) von der Basisklasse abgeleitet wird, die am besten mit der vorhandenen Peerlogik der Steuerelementklasse übereinstimmt, von der Sie ableiten.</span><span class="sxs-lookup"><span data-stu-id="ba59c-228">Make sure that your [**AutomationPeer**](https://msdn.microsoft.com/library/windows/apps/BR209185) is derived from a base class that gives you the best match for the existing peer logic of the control class you are deriving from.</span></span> <span data-ttu-id="ba59c-229">Da `NumericUpDown` von [**RangeBase**](https://msdn.microsoft.com/library/windows/apps/BR227863) abgeleitet wird, ist im vorherigen Beispiel eine [**RangeBaseAutomationPeer**](https://msdn.microsoft.com/library/windows/apps/BR242506)-Klasse verfügbar, auf der Ihr Peer basieren sollte.</span><span class="sxs-lookup"><span data-stu-id="ba59c-229">In the case of the previous example, because `NumericUpDown` derives from [**RangeBase**](https://msdn.microsoft.com/library/windows/apps/BR227863), there is a [**RangeBaseAutomationPeer**](https://msdn.microsoft.com/library/windows/apps/BR242506) class available that you should base your peer on.</span></span> <span data-ttu-id="ba59c-230">Indem Sie entsprechend der Art, wie Sie das Steuerelement selbst ableiten, die am besten passende Peerklasse verwenden, können Sie zumindest für einen Teil der [**IRangeValueProvider**](https://msdn.microsoft.com/library/windows/apps/BR242590)-Funktionalität eine Überschreibung vermeiden, da diese bereits von der Basispeerklasse implementiert wird.</span><span class="sxs-lookup"><span data-stu-id="ba59c-230">By using the closest matching peer class in parallel to how you derive the control itself, you can avoid overriding at least some of the [**IRangeValueProvider**](https://msdn.microsoft.com/library/windows/apps/BR242590) functionality because the base peer class already implements it.</span></span>

<span data-ttu-id="ba59c-231">Die [**Control**](https://msdn.microsoft.com/library/windows/apps/BR209390)-Basisklasse besitzt keine entsprechende Peerklasse.</span><span class="sxs-lookup"><span data-stu-id="ba59c-231">The base [**Control**](https://msdn.microsoft.com/library/windows/apps/BR209390) class does not have a corresponding peer class.</span></span> <span data-ttu-id="ba59c-232">Wenn Sie eine Peerklasse benötigen, die mit einem benutzerdefinierten Steuerelement übereinstimmt, das von **Control** abgeleitet wird, leiten Sie die benutzerdefinierte Peerklasse von [**FrameworkElementAutomationPeer**](https://msdn.microsoft.com/library/windows/apps/BR242472) ab.</span><span class="sxs-lookup"><span data-stu-id="ba59c-232">If you need a peer class to correspond to a custom control that derives from **Control**, derive the custom peer class from [**FrameworkElementAutomationPeer**](https://msdn.microsoft.com/library/windows/apps/BR242472).</span></span>

<span data-ttu-id="ba59c-233">Wenn Sie direkt von [**ContentControl**](https://msdn.microsoft.com/library/windows/apps/BR209365) ableiten, hat diese Klasse kein standardmäßiges Automatisierungspeerverhalten, da keine [**OnCreateAutomationPeer**](https://msdn.microsoft.com/ibrary/windows/apps/windows.ui.xaml.uielement.oncreateautomationpeer)-Implementierung vorhanden ist, die auf eine Peerklasse verweist.</span><span class="sxs-lookup"><span data-stu-id="ba59c-233">If you derive from [**ContentControl**](https://msdn.microsoft.com/library/windows/apps/BR209365) directly, that class has no default automation peer behavior because there is no [**OnCreateAutomationPeer**](https://msdn.microsoft.com/ibrary/windows/apps/windows.ui.xaml.uielement.oncreateautomationpeer) implementation that references a peer class.</span></span> <span data-ttu-id="ba59c-234">Implementieren Sie also entweder **OnCreateAutomationPeer**, um Ihren eigenen Peer zu verwenden, oder verwenden Sie [**FrameworkElementAutomationPeer**](https://msdn.microsoft.com/library/windows/apps/BR242472) als Peer, wenn die hiermit bereitgestellte Unterstützung für die Barrierefreiheit für Ihr Steuerelement ausreichend ist.</span><span class="sxs-lookup"><span data-stu-id="ba59c-234">So make sure either to implement **OnCreateAutomationPeer** to use your own peer, or to use [**FrameworkElementAutomationPeer**](https://msdn.microsoft.com/library/windows/apps/BR242472) as the peer if that level of accessibility support is adequate for your control.</span></span>

> [!NOTE]
> <span data-ttu-id="ba59c-235">Normalerweise führen Sie keine Ableitungen von [**AutomationPeer**](https://msdn.microsoft.com/library/windows/apps/BR209185) anstelle von [**FrameworkElementAutomationPeer**](https://msdn.microsoft.com/library/windows/apps/BR242472) durch.</span><span class="sxs-lookup"><span data-stu-id="ba59c-235">You don't typically derive from [**AutomationPeer**](https://msdn.microsoft.com/library/windows/apps/BR209185) rather than [**FrameworkElementAutomationPeer**](https://msdn.microsoft.com/library/windows/apps/BR242472).</span></span> <span data-ttu-id="ba59c-236">Beim direkten Ableiten von **AutomationPeer** müssen Sie einen Großteil der grundlegenden Unterstützung der Barrierefreiheit duplizieren, die sonst über **FrameworkElementAutomationPeer** bereitgestellt wird.</span><span class="sxs-lookup"><span data-stu-id="ba59c-236">If you did derive directly from **AutomationPeer** you'll need to duplicate a lot of basic accessibility support that would otherwise come from **FrameworkElementAutomationPeer**.</span></span>

<span id="Initialization_of_a_custom_peer_class"/>
<span id="initialization_of_a_custom_peer_class"/>
<span id="INITIALIZATION_OF_A_CUSTOM_PEER_CLASS"/>

## <a name="initialization-of-a-custom-peer-class"></a><span data-ttu-id="ba59c-237">Initialisieren einer benutzerdefinierten Peerklasse</span><span class="sxs-lookup"><span data-stu-id="ba59c-237">Initialization of a custom peer class</span></span>  
<span data-ttu-id="ba59c-238">Der Automatisierungspeer sollte einen typsicheren Konstruktor definieren, der eine Instanz des Besitzersteuerelements für die Basisinitialisierung verwendet.</span><span class="sxs-lookup"><span data-stu-id="ba59c-238">The automation peer should define a type-safe constructor that uses an instance of the owner control for base initialization.</span></span> <span data-ttu-id="ba59c-239">Im nächsten Beispiel übergibt die Implementierung den *owner*-Wert an die [**RangeBaseAutomationPeer**](https://msdn.microsoft.com/library/windows/apps/BR242506)-Basis (und letztendlich verwendet tatsächlich [**FrameworkElementAutomationPeer**](https://msdn.microsoft.com/library/windows/apps/BR242472) *owner*, um [**FrameworkElementAutomationPeer**](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.automation.peers.frameworkelementautomationpeer.owner) festzulegen).</span><span class="sxs-lookup"><span data-stu-id="ba59c-239">In the next example, the implementation passes the *owner* value on to the [**RangeBaseAutomationPeer**](https://msdn.microsoft.com/library/windows/apps/BR242506) base, and ultimately it is the [**FrameworkElementAutomationPeer**](https://msdn.microsoft.com/library/windows/apps/BR242472) that actually uses *owner* to set [**FrameworkElementAutomationPeer.Owner**](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.automation.peers.frameworkelementautomationpeer.owner).</span></span>

```csharp
public NumericUpDownAutomationPeer(NumericUpDown owner): base(owner)
{}
```

```vb
Public Sub New(owner As NumericUpDown)
    MyBase.New(owner)
End Sub
```

```cppwinrt
// NumericUpDownAutomationPeer.idl
import "NumericUpDown.idl";
namespace MyNamespace
{
    runtimeclass NumericUpDownAutomationPeer : Windows.UI.Xaml.Automation.Peers.AutomationPeer
    {
        NumericUpDownAutomationPeer(NumericUpDown owner);
        Int32 MyProperty;
    }
}

// NumericUpDownAutomationPeer.h
...
struct NumericUpDownAutomationPeer : NumericUpDownAutomationPeerT<NumericUpDownAutomationPeer>
{
    ...
    NumericUpDownAutomationPeer(MyNamespace::NumericUpDown const& owner);
};
```

```cpp
//.h
public ref class NumericUpDownAutomationPeer sealed :  Windows::UI::Xaml::Automation::Peers::RangeBaseAutomationPeer
//.cpp
public:    NumericUpDownAutomationPeer(NumericUpDown^ owner);
```

<span id="Core_methods_of_AutomationPeer"/>
<span id="core_methods_of_automationpeer"/>
<span id="CORE_METHODS_OF_AUTOMATIONPEER"/>

## <a name="core-methods-of-automationpeer"></a><span data-ttu-id="ba59c-240">Core-Methoden von AutomationPeer</span><span class="sxs-lookup"><span data-stu-id="ba59c-240">Core methods of AutomationPeer</span></span>  
<span data-ttu-id="ba59c-241">Aufgrund der UWP-Infrastruktur sind die überschreibbaren Methoden eines Automatisierungspeers Teil eines Methodenpaars – der öffentlichen Zugriffsmethode, die der Benutzeroberflächenautomatisierungs-Anbieter als Weiterleitungspunkt für Benutzeroberflächenautomatisierungs-Clients verwendet, und der geschützten „Core“-Anpassungsmethode, die von einer UWP-Klasse überschrieben werden kann, um das Verhalten zu beeinflussen.</span><span class="sxs-lookup"><span data-stu-id="ba59c-241">For UWP infrastructure reasons, the overridable methods of an automation peer are part of a pair of methods: the public access method that the UI Automation provider uses as a forwarding point for UI Automation clients, and the protected "Core" customization method that a UWP class can override to influence the behavior.</span></span> <span data-ttu-id="ba59c-242">Das Methodenpaar wird standardmäßig so gebündelt, dass mit dem Aufruf der Zugriffsmethode stets die parallele „Core“-Methode mit der Anbieterimplementierung oder (als Fallback) eine Standardimplementierung aus den Basisklassen aufgerufen wird.</span><span class="sxs-lookup"><span data-stu-id="ba59c-242">The method pair is wired together by default in such a way that the call to the access method always invokes the parallel "Core" method that has the provider implementation, or as a fallback, invokes a default implementation from the base classes.</span></span>

<span data-ttu-id="ba59c-243">Überschreiben Sie beim Implementieren eines Peers für ein benutzerdefiniertes Steuerelement eine beliebige „Core“-Methode aus der Basis-Automatisierungspeerklasse, in der Sie für Ihr benutzerdefiniertes Steuerelement spezifisches Verhalten verfügbar machen möchten.</span><span class="sxs-lookup"><span data-stu-id="ba59c-243">When implementing a peer for a custom control, override any of the "Core" methods from the base automation peer class where you want to expose behavior that is unique to your custom control.</span></span> <span data-ttu-id="ba59c-244">Der Benutzeroberflächenautomatisierungs-Code ruft durch Aufruf der öffentlichen Methoden der Peerklasse Informationen über Ihr Steuerelement ab.</span><span class="sxs-lookup"><span data-stu-id="ba59c-244">UI Automation code gets information about your control by calling public methods of the peer class.</span></span> <span data-ttu-id="ba59c-245">Um Informationen zu Ihrem Steuerelement bereitzustellen, überschreiben Sie jede Methode, deren Name auf „Core“ endet, wenn durch die Implementierung und das Design Ihres Steuerelements Barrierefreiheitsszenarien oder andere Benutzeroberflächenautomatisierungs-Szenarien erstellt werden, die von jenen abweichen, die von der Basis-Automatisierungspeerklasse unterstützt werden.</span><span class="sxs-lookup"><span data-stu-id="ba59c-245">To provide information about your control, override each method with a name that ends with "Core" when your control implementation and design creates accessibility scenarios or other UI Automation scenarios that differ from what's supported by the base automation peer class.</span></span>

<span data-ttu-id="ba59c-246">Zumindest sollten Sie jedes Mal, wenn Sie eine neue Peerklasse definieren, die Methode [**GetClassNameCore**](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.automation.peers.automationpeer.getclassnamecore) implementieren, wie im nächsten Beispiel gezeigt.</span><span class="sxs-lookup"><span data-stu-id="ba59c-246">At a minimum, whenever you define a new peer class, implement the [**GetClassNameCore**](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.automation.peers.automationpeer.getclassnamecore) method, as shown in the next example.</span></span>

```csharp
protected override string GetClassNameCore()
{
    return "NumericUpDown";
}
```

> [!NOTE]
> <span data-ttu-id="ba59c-247">Es ist ratsam, die Zeichenfolgen als Konstanten zu speichern, anstatt direkt in der Methode. Die Entscheidung liegt jedoch bei Ihnen.</span><span class="sxs-lookup"><span data-stu-id="ba59c-247">You might want to store the strings as constants rather than directly in the method body, but that is up to you.</span></span> <span data-ttu-id="ba59c-248">Für [**GetClassNameCore**](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.automation.peers.automationpeer.getclassnamecore) müssen Sie diese Zeichenfolge nicht lokalisieren.</span><span class="sxs-lookup"><span data-stu-id="ba59c-248">For [**GetClassNameCore**](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.automation.peers.automationpeer.getclassnamecore), you won't need to localize this string.</span></span> <span data-ttu-id="ba59c-249">Jedes Mal, wenn ein Benutzeroberflächenautomatisierungs-Client eine lokalisierte Zeichenfolge benötigt, wird die **LocalizedControlType**-Eigenschaft verwendet, nicht **ClassName**.</span><span class="sxs-lookup"><span data-stu-id="ba59c-249">The **LocalizedControlType** property is used any time a localized string is needed by a UI Automation client, not **ClassName**.</span></span>

### <span id="GetAutomationControlType"/>
<span id="getautomationcontroltype"/>
<span id="GETAUTOMATIONCONTROLTYPE"/><span data-ttu-id="ba59c-250">GetAutomationControlType</span><span class="sxs-lookup"><span data-stu-id="ba59c-250">GetAutomationControlType</span></span>

<span data-ttu-id="ba59c-251">Einige Hilfstechnologien verwenden den Wert [**GetAutomationControlType**](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.automation.peers.automationpeer.getautomationcontroltype) direkt, wenn sie Merkmale der Elemente eines Benutzeroberflächenautomatisierungs-Baums angeben, um zusätzliche Informationen über das **Name**-Element der Benutzeroberflächenautomatisierung hinaus bereitzustellen.</span><span class="sxs-lookup"><span data-stu-id="ba59c-251">Some assistive technologies use the [**GetAutomationControlType**](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.automation.peers.automationpeer.getautomationcontroltype) value directly when reporting characteristics of the items in a UI Automation tree, as additional information beyond the UI Automation **Name**.</span></span> <span data-ttu-id="ba59c-252">Wenn sich Ihr Steuerelement erheblich von dem Steuerelement unterscheidet, von dem Sie ableiten, und Sie einen anderen Steuerelementtyp melden möchten als den, der durch die vom Steuerelement verwendete Basispeerklasse gemeldet wird, müssen Sie einen Peer implementieren und in Ihrer Implementierung des Peers [**GetAutomationControlTypeCore**](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.automation.peers.automationpeer.getautomationcontroltypecore) überschreiben.</span><span class="sxs-lookup"><span data-stu-id="ba59c-252">If your control is significantly different from the control you are deriving from and you want to report a different control type from what is reported by the base peer class used by the control, you must implement a peer and override [**GetAutomationControlTypeCore**](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.automation.peers.automationpeer.getautomationcontroltypecore) in your peer implementation.</span></span> <span data-ttu-id="ba59c-253">Dies ist besonders wichtig, wenn Sie von einer allgemeinen Basisklasse wie [**ItemsControl**](https://msdn.microsoft.com/library/windows/apps/BR242803) oder [**ContentControl**](https://msdn.microsoft.com/library/windows/apps/BR209365) ableiten, in der der Peer keine genauen Informationen über den Steuerelementtyp liefert.</span><span class="sxs-lookup"><span data-stu-id="ba59c-253">This is particularly important if you derive from a generalized base class such as [**ItemsControl**](https://msdn.microsoft.com/library/windows/apps/BR242803) or [**ContentControl**](https://msdn.microsoft.com/library/windows/apps/BR209365), where the base peer doesn't provide precise information about control type.</span></span>

<span data-ttu-id="ba59c-254">Ihre Implementierung von [**GetAutomationControlTypeCore**](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.automation.peers.automationpeer.getautomationcontroltypecore) beschreibt Ihr Steuerelement, indem ein [**AutomationControlType**](https://msdn.microsoft.com/library/windows/apps/BR209182)-Wert zurückgegeben wird.</span><span class="sxs-lookup"><span data-stu-id="ba59c-254">Your implementation of [**GetAutomationControlTypeCore**](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.automation.peers.automationpeer.getautomationcontroltypecore) describes your control by returning an [**AutomationControlType**](https://msdn.microsoft.com/library/windows/apps/BR209182) value.</span></span> <span data-ttu-id="ba59c-255">Obwohl Sie **AutomationControlType.Custom** zurückgeben können, sollten Sie einen der spezifischeren Steuerelementtypen zurückgeben, wenn dieser die Hauptszenarien Ihres Steuerelements genauer beschreibt.</span><span class="sxs-lookup"><span data-stu-id="ba59c-255">Although you can return **AutomationControlType.Custom**, you should return one of the more specific control types if it accurately describes your control's main scenarios.</span></span> <span data-ttu-id="ba59c-256">Beispiel:</span><span class="sxs-lookup"><span data-stu-id="ba59c-256">Here's an example.</span></span>

```csharp
protected override AutomationControlType GetAutomationControlTypeCore()
{
    return AutomationControlType.Spinner;
}
```

> [!NOTE]
> <span data-ttu-id="ba59c-257">Nur wenn Sie [**AutomationControlType.Custom**](https://msdn.microsoft.com/library/windows/apps/BR209182) angeben, müssen Sie [**GetLocalizedControlTypeCore**](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.automation.peers.automationpeer.getlocalizedcontroltypecore) implementieren, um für Clients einen **LocalizedControlType**-Eigenschaftswert bereitzustellen.</span><span class="sxs-lookup"><span data-stu-id="ba59c-257">Unless you specify [**AutomationControlType.Custom**](https://msdn.microsoft.com/library/windows/apps/BR209182), you don't have to implement [**GetLocalizedControlTypeCore**](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.automation.peers.automationpeer.getlocalizedcontroltypecore) to provide a **LocalizedControlType** property value to clients.</span></span> <span data-ttu-id="ba59c-258">Die allgemeine Benutzeroberflächenautomatisierungs-Infrastruktur stellt übersetzte Zeichenfolgen für jeden möglichen **AutomationControlType**-Wert mit Ausnahme von **AutomationControlType.Custom** bereit.</span><span class="sxs-lookup"><span data-stu-id="ba59c-258">UI Automation common infrastructure provides translated strings for every possible **AutomationControlType** value other than **AutomationControlType.Custom**.</span></span>

<span id="GetPattern_and_GetPatternCore"/>
<span id="getpattern_and_getpatterncore"/>
<span id="GETPATTERN_AND_GETPATTERNCORE"/>

### <a name="getpattern-and-getpatterncore"></a><span data-ttu-id="ba59c-259">GetPattern und GetPatternCore</span><span class="sxs-lookup"><span data-stu-id="ba59c-259">GetPattern and GetPatternCore</span></span>  
<span data-ttu-id="ba59c-260">Die Peerimplementierung von [**GetPatternCore**](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.automation.peers.automationpeer.getpatterncore) gibt das Objekt zurück, von dem das im Eingabeparameter angeforderte Muster unterstützt wird.</span><span class="sxs-lookup"><span data-stu-id="ba59c-260">A peer's implementation of [**GetPatternCore**](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.automation.peers.automationpeer.getpatterncore) returns the object that supports the pattern that is requested in the input parameter.</span></span> <span data-ttu-id="ba59c-261">Dabei ruft ein Benutzeroberflächenautomatisierungs-Client eine Methode auf, die an die [**GetPattern**](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.automation.peers.automationpeer.getpattern)-Methode des Anbieters weitergeleitet wird, und gibt einen [**PatternInterface**](https://msdn.microsoft.com/library/windows/apps/BR242496)-Enumerationswert an, mit dem das angeforderte Muster benannt wird.</span><span class="sxs-lookup"><span data-stu-id="ba59c-261">Specifically, a UI Automation client calls a method that is forwarded to the provider's [**GetPattern**](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.automation.peers.automationpeer.getpattern) method, and specifies a [**PatternInterface**](https://msdn.microsoft.com/library/windows/apps/BR242496) enumeration value that names the requested pattern.</span></span> <span data-ttu-id="ba59c-262">Ihre Überschreibung von **GetPatternCore** sollte das Objekt zurückgeben, mit dem das angegebene Muster implementiert wird.</span><span class="sxs-lookup"><span data-stu-id="ba59c-262">Your override of **GetPatternCore** should return the object that implements the specified pattern.</span></span> <span data-ttu-id="ba59c-263">Bei diesem Objekt handelt es sich um den Peer selbst, da von diesem bei jeder Meldung, dass er ein Muster unterstützt, die entsprechende Musterschnittstelle implementiert werden sollte.</span><span class="sxs-lookup"><span data-stu-id="ba59c-263">That object is the peer itself, because the peer should implement the corresponding pattern interface any time that it reports that it supports a pattern.</span></span> <span data-ttu-id="ba59c-264">Wenn Ihr Peer über keine benutzerdefinierte Implementierung eines Musters verfügt, Sie jedoch wissen, dass das Muster von der Basis des Peers implementiert wird, können Sie die Implementierung des Basistyps von **GetPatternCore** über **GetPatternCore** aufrufen.</span><span class="sxs-lookup"><span data-stu-id="ba59c-264">If your peer does not have a custom implementation of a pattern, but you know that the peer's base does implement the pattern, you can call the base type's implementation of **GetPatternCore** from your **GetPatternCore**.</span></span> <span data-ttu-id="ba59c-265">Das **GetPatternCore** eines Peers sollte **null** zurückgeben, wenn ein Muster nicht vom Peer unterstützt wird.</span><span class="sxs-lookup"><span data-stu-id="ba59c-265">A peer's **GetPatternCore** should return **null** if a pattern is not supported by the peer.</span></span> <span data-ttu-id="ba59c-266">Anstatt jedoch **null** direkt aus Ihrer Implementierung zurückzugeben, würden Sie gewöhnlich den Aufruf an die Basisimplementierung verwenden, um für jedes nicht unterstützte Muster **null** zurückzugeben.</span><span class="sxs-lookup"><span data-stu-id="ba59c-266">However, instead of returning **null** directly from your implementation, you would usually rely on the call to the base implementation to return **null** for any unsupported pattern.</span></span>

<span data-ttu-id="ba59c-267">Wenn ein Muster unterstützt wird, kann die [**GetPatternCore**](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.automation.peers.automationpeer.getpatterncore)-Implementierung **this** oder **Me** zurückgeben.</span><span class="sxs-lookup"><span data-stu-id="ba59c-267">When a pattern is supported, the [**GetPatternCore**](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.automation.peers.automationpeer.getpatterncore) implementation can return **this** or **Me**.</span></span> <span data-ttu-id="ba59c-268">Es wird erwartet, dass der Benutzeroberflächenautomatisierungs-Client den [**GetPattern**](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.automation.peers.automationpeer.getpattern)-Rückgabewert in die angeforderte Musterschnittstelle umwandelt, wenn diese nicht **null** ist.</span><span class="sxs-lookup"><span data-stu-id="ba59c-268">The expectation is that the UI Automation client will cast the [**GetPattern**](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.automation.peers.automationpeer.getpattern) return value to the requested pattern interface whenever it is not **null**.</span></span>

<span data-ttu-id="ba59c-269">Wenn eine Peerklasse von einem anderen Peer erbt und die notwendige Unterstützung und das Melden des Musters bereits von der Basisklasse behandelt wird, ist die Implementierung von [**GetPatternCore**](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.automation.peers.automationpeer.getpatterncore) nicht notwendig.</span><span class="sxs-lookup"><span data-stu-id="ba59c-269">If a peer class inherits from another peer, and all necessary support and pattern reporting is already handled by the base class, implementing [**GetPatternCore**](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.automation.peers.automationpeer.getpatterncore) isn't necessary.</span></span> <span data-ttu-id="ba59c-270">Wenn Sie beispielsweise ein Bereichssteuerelement implementieren, das von [**RangeBase**](https://msdn.microsoft.com/library/windows/apps/BR227863) abgeleitet wird, und Ihr Peer von [**RangeBaseAutomationPeer**](https://msdn.microsoft.com/library/windows/apps/BR242506) abgeleitet wird, gibt dieser Peer sich selbst für [**PatternInterface.RangeValue**](https://msdn.microsoft.com/library/windows/apps/BR242496) zurück und besitzt funktionierende Implementierungen der [**IRangeValueProvider**](https://msdn.microsoft.com/library/windows/apps/BR242590)-Schnittstelle, die das Muster unterstützt.</span><span class="sxs-lookup"><span data-stu-id="ba59c-270">For example, if you are implementing a range control that derives from [**RangeBase**](https://msdn.microsoft.com/library/windows/apps/BR227863), and your peer derives from [**RangeBaseAutomationPeer**](https://msdn.microsoft.com/library/windows/apps/BR242506), that peer returns itself for [**PatternInterface.RangeValue**](https://msdn.microsoft.com/library/windows/apps/BR242496) and has working implementations of the [**IRangeValueProvider**](https://msdn.microsoft.com/library/windows/apps/BR242590) interface that supports the pattern.</span></span>

<span data-ttu-id="ba59c-271">Obwohl dies nicht der tatsächliche Code ist, kommt dieses Beispiel der Implementierung von [**GetPatternCore**](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.automation.peers.automationpeer.getpatterncore) sehr nahe, die bereits in [**RangeBaseAutomationPeer**](https://msdn.microsoft.com/library/windows/apps/BR242506) vorhanden ist.</span><span class="sxs-lookup"><span data-stu-id="ba59c-271">Although it is not the literal code, this example approximates the implementation of [**GetPatternCore**](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.automation.peers.automationpeer.getpatterncore) already present in [**RangeBaseAutomationPeer**](https://msdn.microsoft.com/library/windows/apps/BR242506).</span></span>


```csharp
protected override object GetPatternCore(PatternInterface patternInterface)
{
    if (patternInterface == PatternInterface.RangeValue)
    {
        return this;
    }
    return base.GetPattern(patternInterface);
}
```

<span data-ttu-id="ba59c-272">Wenn Sie einen Peer implementieren, der nicht die gesamte Unterstützung bietet, die Sie von einer Basispeerklasse benötigen, oder wenn Sie die Gruppe der Muster, die von der Basis geerbt und von Ihrem Peer unterstützt werden, ändern oder ergänzen möchten, sollten Sie [**GetPatternCore**](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.automation.peers.automationpeer.getpatterncore) überschreiben, damit Benutzeroberflächenautomatisierungs-Clients die Muster verwenden können.</span><span class="sxs-lookup"><span data-stu-id="ba59c-272">If you are implementing a peer where you don't have all the support you need from a base peer class, or you want to change or add to the set of base-inherited patterns that your peer can support, then you should override [**GetPatternCore**](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.automation.peers.automationpeer.getpatterncore) to enable UI Automation clients to use the patterns.</span></span>

<span data-ttu-id="ba59c-273">Unter [**Windows.UI.Xaml.Automation.Provider**](https://msdn.microsoft.com/library/windows/apps/BR209225) finden Sie eine Liste der Anbietermuster, die in der UWP-Implementierung der Benutzeroberflächenautomatisierungs-Unterstützung verfügbar sind.</span><span class="sxs-lookup"><span data-stu-id="ba59c-273">For a list of the provider patterns that are available in the UWP implementation of UI Automation support, see [**Windows.UI.Xaml.Automation.Provider**](https://msdn.microsoft.com/library/windows/apps/BR209225).</span></span> <span data-ttu-id="ba59c-274">Jedes solche Muster hat einen entsprechenden Wert der [**PatternInterface**](https://msdn.microsoft.com/library/windows/apps/BR242496)-Enumeration. Dies ist die Art, wie Benutzeroberflächenautomatisierungs-Clients das Muster in einem [**GetPattern**](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.automation.peers.automationpeer.getpattern)-Aufruf anfordern.</span><span class="sxs-lookup"><span data-stu-id="ba59c-274">Each such pattern has a corresponding value of the [**PatternInterface**](https://msdn.microsoft.com/library/windows/apps/BR242496) enumeration, which is how UI Automation clients request the pattern in a [**GetPattern**](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.automation.peers.automationpeer.getpattern) call.</span></span>

<span data-ttu-id="ba59c-275">Ein Peer kann melden, dass er mehrere Muster unterstützt.</span><span class="sxs-lookup"><span data-stu-id="ba59c-275">A peer can report that it supports more than one pattern.</span></span> <span data-ttu-id="ba59c-276">In diesem Fall sollte die Überschreibung eine Rückgabepfadlogik für jeden unterstützten [**PatternInterface**](https://msdn.microsoft.com/library/windows/apps/BR242496)-Wert enthalten und den Peer bei jeder Übereinstimmung zurückgeben.</span><span class="sxs-lookup"><span data-stu-id="ba59c-276">If so, the override should include return path logic for each supported [**PatternInterface**](https://msdn.microsoft.com/library/windows/apps/BR242496) value and return the peer in each matching case.</span></span> <span data-ttu-id="ba59c-277">Es wird erwartet, dass der Aufrufer jeweils nur eine Schnittstelle anfordert und dass der Aufrufer entscheiden kann, ob eine Umwandlung für die erwartete Schnittstelle durchgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="ba59c-277">It is expected that the caller will request only one interface at a time, and it is up to the caller to cast to the expected interface.</span></span>

<span data-ttu-id="ba59c-278">Im Folgenden finden Sie ein Beispiel für eine [**GetPatternCore**](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.automation.peers.automationpeer.getpatterncore)-Überschreibung für einen benutzerdefinierten Peer.</span><span class="sxs-lookup"><span data-stu-id="ba59c-278">Here's an example of a [**GetPatternCore**](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.automation.peers.automationpeer.getpatterncore) override for a custom peer.</span></span> <span data-ttu-id="ba59c-279">Der Peer meldet, dass die beiden Muster [**IRangeValueProvider**](https://msdn.microsoft.com/library/windows/apps/BR242590) und [**IToggleProvider**](https://msdn.microsoft.com/library/windows/apps/BR242653) unterstützt werden.</span><span class="sxs-lookup"><span data-stu-id="ba59c-279">It reports the support for two patterns, [**IRangeValueProvider**](https://msdn.microsoft.com/library/windows/apps/BR242590) and [**IToggleProvider**](https://msdn.microsoft.com/library/windows/apps/BR242653).</span></span> <span data-ttu-id="ba59c-280">Bei dem hier verwendeten Steuerelement handelt es sich um ein Steuerelement zum Anzeigen von Medien, das als Vollbild (Umschaltmodus) dargestellt werden kann und über eine Fortschrittsleiste verfügt, auf der Benutzer eine Position (das Bereichssteuerelement) auswählen können.</span><span class="sxs-lookup"><span data-stu-id="ba59c-280">The control here is a media display control that can display as full-screen (the toggle mode) and that has a progress bar within which users can select a position (the range control).</span></span> <span data-ttu-id="ba59c-281">Dieser Code stammt aus dem [XAML-Beispiel für Barrierefreiheit](http://go.microsoft.com/fwlink/p/?linkid=238570).</span><span class="sxs-lookup"><span data-stu-id="ba59c-281">This code came from the [XAML accessibility sample](http://go.microsoft.com/fwlink/p/?linkid=238570).</span></span>


```csharp
protected override object GetPatternCore(PatternInterface patternInterface)
{
    if (patternInterface == PatternInterface.RangeValue)
    {
        return this;
    }
    else if (patternInterface == PatternInterface.Toggle)
    {
        return this;
    }
    return null;
}
```

<span id="Forwarding_patterns_from_sub-elements"/>
<span id="forwarding_patterns_from_sub-elements"/>
<span id="FORWARDING_PATTERNS_FROM_sub-elementS"/>

### <a name="forwarding-patterns-from-sub-elements"></a><span data-ttu-id="ba59c-282">Weiterleiten von Mustern aus Unterelementen</span><span class="sxs-lookup"><span data-stu-id="ba59c-282">Forwarding patterns from sub-elements</span></span>  
<span data-ttu-id="ba59c-283">Eine [**GetPatternCore**](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.automation.peers.automationpeer.getpatterncore)-Methodenimplementierung kann auch ein Unterelement oder einen Teil als Musteranbieter für den Host angeben.</span><span class="sxs-lookup"><span data-stu-id="ba59c-283">A [**GetPatternCore**](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.automation.peers.automationpeer.getpatterncore) method implementation can also specify a sub-element or part as a pattern provider for its host.</span></span> <span data-ttu-id="ba59c-284">Dieses Beispiel zeigt, wie mit [**ItemsControl**](https://msdn.microsoft.com/library/windows/apps/BR242803) die Behandlung des Bildlaufmusters an den Peer des internen [**ScrollViewer**](https://msdn.microsoft.com/library/windows/apps/BR209527)-Steuerelements übergeben wird.</span><span class="sxs-lookup"><span data-stu-id="ba59c-284">This example mimics how [**ItemsControl**](https://msdn.microsoft.com/library/windows/apps/BR242803) transfers scroll-pattern handling to the peer of its internal [**ScrollViewer**](https://msdn.microsoft.com/library/windows/apps/BR209527) control.</span></span> <span data-ttu-id="ba59c-285">Um ein Unterelement für die Musterbehandlung anzugeben, ruft dieser Code das Unterelementobjekt ab, erstellt mit der [**FrameworkElementAutomationPeer.CreatePeerForElement**](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.automation.peers.frameworkelementautomationpeer.createpeerforelement)-Methode einen Peer für das Unterelement und gibt den neuen Peer zurück.</span><span class="sxs-lookup"><span data-stu-id="ba59c-285">To specify a sub-element for pattern handling, this code gets the sub-element object, creates a peer for the sub-element by using the [**FrameworkElementAutomationPeer.CreatePeerForElement**](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.automation.peers.frameworkelementautomationpeer.createpeerforelement) method, and returns the new peer.</span></span>


```csharp
protected override object GetPatternCore(PatternInterface patternInterface)
{
    if (patternInterface == PatternInterface.Scroll)
    {
        ItemsControl owner = (ItemsControl) base.Owner;
        UIElement itemsHost = owner.ItemsHost;
        ScrollViewer element = null;
        while (itemsHost != owner)
        {
            itemsHost = VisualTreeHelper.GetParent(itemsHost) as UIElement;
            element = itemsHost as ScrollViewer;
            if (element != null)
            {
                break;
            }
        }
        if (element != null)
        {
            AutomationPeer peer = FrameworkElementAutomationPeer.CreatePeerForElement(element);
            if ((peer != null) && (peer is IScrollProvider))
            {
                return (IScrollProvider) peer;
            }
        }
    }
    return base.GetPatternCore(patternInterface);
}
```

<span id="Other_Core_methods"/>
<span id="other_core_methods"/>
<span id="OTHER_CORE_METHODS"/>

### <a name="other-core-methods"></a><span data-ttu-id="ba59c-286">Andere Core-Methoden</span><span class="sxs-lookup"><span data-stu-id="ba59c-286">Other Core methods</span></span>  
<span data-ttu-id="ba59c-287">Ihr Steuerelement muss vielleicht Tastaturentsprechungen für primäre Szenarien unterstützen. Weitere Informationen darüber, warum dies erforderlich sein kann, finden Sie unter [Barrierefreiheit für den Tastaturzugriff](keyboard-accessibility.md).</span><span class="sxs-lookup"><span data-stu-id="ba59c-287">Your control may need to support keyboard equivalents for primary scenarios; for more info about why this might be necessary, see [Keyboard accessibility](keyboard-accessibility.md).</span></span> <span data-ttu-id="ba59c-288">Die Implementierung der Schlüsselunterstützung ist zwingend Teil des Codes für das Steuerelement und nicht des Codes für den Peer, da es sich hierbei um einen Teil der Logik von Steuerelementen handelt. Ihre Peerklasse sollte die [**GetAcceleratorKeyCore**](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.automation.peers.automationpeer.getacceleratorkeycore)- und [**GetAccessKeyCore**](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.automation.peers.automationpeer.getaccesskeycore)-Methoden überschreiben, um den Benutzeroberflächenautomatisierungs-Clients zu melden, welche Schlüssel verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="ba59c-288">Implementing the key support is necessarily part of the control code and not the peer code because that is part of a control's logic, but your peer class should override the [**GetAcceleratorKeyCore**](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.automation.peers.automationpeer.getacceleratorkeycore) and [**GetAccessKeyCore**](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.automation.peers.automationpeer.getaccesskeycore) methods to report to UI Automation clients which keys are used.</span></span> <span data-ttu-id="ba59c-289">Bedenken Sie, dass Zeichenfolgen, in denen Schlüsselinformationen gemeldet werden, eventuell lokalisiert werden müssen und daher aus Ressourcen stammen sollten, nicht aus hartcodierten Zeichenfolgen.</span><span class="sxs-lookup"><span data-stu-id="ba59c-289">Consider that the strings that report key information might need to be localized, and should therefore come from resources, not hard-coded strings.</span></span>

<span data-ttu-id="ba59c-290">Wenn Sie einen Peer für eine Klasse bereitstellen, die eine Sammlung unterstützt, sollte am besten sowohl von Funktionsklassen als auch von Peerklassen abgeleitet werden, die bereits diese Art von Sammlungsunterstützung besitzen.</span><span class="sxs-lookup"><span data-stu-id="ba59c-290">If you are providing a peer for a class that supports a collection, it's best to derive from both functional classes and peer classes that already have that kind of collection support.</span></span> <span data-ttu-id="ba59c-291">Wenn dies nicht möglich ist, müssen Peers für Steuerelemente, die untergeordnete Sammlungen verwalten, möglicherweise die sammlungsbezogene Peermethode [**GetChildrenCore**](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.automation.peers.automationpeer.getchildrencore) überschreiben, um dem Benutzeroberflächenautomatisierungs-Baum die Beziehungen zwischen übergeordneten und untergeordneten Elementen korrekt zu melden.</span><span class="sxs-lookup"><span data-stu-id="ba59c-291">If you can't do so, peers for controls that maintain child collections may have to override the collection-related peer method [**GetChildrenCore**](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.automation.peers.automationpeer.getchildrencore) to properly report the parent-child relationships to the UI Automation tree.</span></span>

<span data-ttu-id="ba59c-292">Implementieren Sie die Methoden [**IsContentElementCore**](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.automation.peers.automationpeer.iscontentelementcore) und [**IsControlElementCore**](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.automation.peers.automationpeer.iscontrolelementcore), um anzugeben, ob Ihr Steuerelement Dateninhalte enthält und/oder eine interaktive Rolle auf der Benutzeroberfläche ausübt.</span><span class="sxs-lookup"><span data-stu-id="ba59c-292">Implement the [**IsContentElementCore**](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.automation.peers.automationpeer.iscontentelementcore) and [**IsControlElementCore**](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.automation.peers.automationpeer.iscontrolelementcore) methods to indicate whether your control contains data content or fulfills an interactive role in the user interface (or both).</span></span> <span data-ttu-id="ba59c-293">Standardmäßig geben beide Methoden **true** zurück.</span><span class="sxs-lookup"><span data-stu-id="ba59c-293">By default, both methods return **true**.</span></span> <span data-ttu-id="ba59c-294">Diese Einstellungen verbessern die Benutzerfreundlichkeit von Hilfstechnologien wie Bildschirmleseprogrammen, die diese Methoden möglicherweise zum Filtern der Automatisierungsstruktur verwenden.</span><span class="sxs-lookup"><span data-stu-id="ba59c-294">These settings improve the usability of assistive technologies such as screen readers, which may use these methods to filter the automation tree.</span></span> <span data-ttu-id="ba59c-295">Wenn Ihre [**GetPatternCore**](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.automation.peers.automationpeer.getpatterncore)-Methode die Musterbehandlung an einen Unterelementpeer überträgt, kann die **IsControlElementCore**-Methode des Unterelementpeers **false** zurückgeben, um den Unterelementpeer in der Automatisierungsstruktur auszublenden.</span><span class="sxs-lookup"><span data-stu-id="ba59c-295">If your [**GetPatternCore**](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.automation.peers.automationpeer.getpatterncore) method transfers pattern handling to a sub-element peer, the sub-element peer's **IsControlElementCore** method can return **false** to hide the sub-element peer from the automation tree.</span></span>

<span data-ttu-id="ba59c-296">Einige Steuerelemente stellen möglicherweise Unterstützung für Bezeichnungsszenarien bereit, in denen ein Teil mit einer Textbezeichnung Informationen für einen Teil ohne Text liefert, oder in denen sich ein Steuerelement in einer bekannten Bezeichnungsbeziehung zu einem anderen Steuerelement in der Benutzeroberfläche befinden soll.</span><span class="sxs-lookup"><span data-stu-id="ba59c-296">Some controls may support labeling scenarios, where a text label part supplies information for a non-text part, or a control is intended to be in a known labeling relationship with another control in the UI.</span></span> <span data-ttu-id="ba59c-297">Wenn es möglich ist, ein nützliches klassenbasiertes Verhalten bereitzustellen, können Sie [**GetLabeledByCore**](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.automation.peers.automationpeer.getlabeledbycore) überschreiben, um dieses Verhalten bereitzustellen.</span><span class="sxs-lookup"><span data-stu-id="ba59c-297">If it's possible to provide a useful class-based behavior, you can override [**GetLabeledByCore**](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.automation.peers.automationpeer.getlabeledbycore) to provide this behavior.</span></span>

<span data-ttu-id="ba59c-298">[**GetBoundingRectangleCore**](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.automation.peers.automationpeer.getboundingrectanglecore) und [**GetClickablePointCore**](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.automation.peers.automationpeer.getclickablepointcore) werden hauptsächlich für automatisierte Testszenarien verwendet..</span><span class="sxs-lookup"><span data-stu-id="ba59c-298">[**GetBoundingRectangleCore**](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.automation.peers.automationpeer.getboundingrectanglecore) and [**GetClickablePointCore**](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.automation.peers.automationpeer.getclickablepointcore) are used mainly for automated testing scenarios.</span></span> <span data-ttu-id="ba59c-299">Wenn Sie automatisierte Tests für Ihr Steuerelement unterstützen möchten, sollten Sie diese Methoden überschreiben.</span><span class="sxs-lookup"><span data-stu-id="ba59c-299">If you want to support automated testing for your control, you might want to override these methods.</span></span> <span data-ttu-id="ba59c-300">Dies kann für Bereichssteuerelemente nützlich sein, bei denen Sie nicht nur einen einzelnen Punkt vorschlagen können, weil sich abhängig von der Klickposition des Benutzers im Koordinatenbereich jeweils eine andere Auswirkung auf einen Bereich ergibt.</span><span class="sxs-lookup"><span data-stu-id="ba59c-300">This might be desired for range-type controls, where you can't suggest just a single point because where the user clicks in coordinate space has a different effect on a range.</span></span> <span data-ttu-id="ba59c-301">Beispielsweise überschreibt der standardmäßige [**ScrollBar**](https://msdn.microsoft.com/library/windows/apps/BR209745)-Automatisierungspeer **GetClickablePointCore**, um einen „keine Zahl“-Wert des Typs [**Point**](https://msdn.microsoft.com/library/windows/apps/BR225870) zurückzugeben.</span><span class="sxs-lookup"><span data-stu-id="ba59c-301">For example, the default [**ScrollBar**](https://msdn.microsoft.com/library/windows/apps/BR209745) automation peer overrides **GetClickablePointCore** to return a "not a number" [**Point**](https://msdn.microsoft.com/library/windows/apps/BR225870) value.</span></span>

<span data-ttu-id="ba59c-302">[**GetLiveSettingCore**](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.automation.peers.automationpeer.getlivesettingcore) beeinflusst den Steuerelementstandardwert für den **LiveSetting**-Wert für die Benutzeroberflächenautomatisierung.</span><span class="sxs-lookup"><span data-stu-id="ba59c-302">[**GetLiveSettingCore**](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.automation.peers.automationpeer.getlivesettingcore) influences the control default for the **LiveSetting** value for UI Automation.</span></span> <span data-ttu-id="ba59c-303">Sie sollten dies überschreiben, wenn das Steuerelement einen anderen Wert als [**AutomationLiveSetting.Off**](https://msdn.microsoft.com/library/windows/apps/JJ191519) zurückgeben soll.</span><span class="sxs-lookup"><span data-stu-id="ba59c-303">You might want to override this if you want your control to return a value other than [**AutomationLiveSetting.Off**](https://msdn.microsoft.com/library/windows/apps/JJ191519).</span></span> <span data-ttu-id="ba59c-304">Weitere Informationen zu **LiveSetting** finden Sie unter [**AutomationProperties.LiveSetting**](https://msdn.microsoft.com/library/windows/apps/JJ191516).</span><span class="sxs-lookup"><span data-stu-id="ba59c-304">For more info on what **LiveSetting** represents, see [**AutomationProperties.LiveSetting**](https://msdn.microsoft.com/library/windows/apps/JJ191516).</span></span>

<span data-ttu-id="ba59c-305">Sie können [**GetOrientationCore**](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.automation.peers.automationpeer.getorientationcore) überschreiben, wenn das Steuerelement über eine Eigenschaft mit festlegbarer Ausrichtung verfügt, die [**AutomationOrientation**](https://msdn.microsoft.com/library/windows/apps/BR209184) zugeordnet werden kann.</span><span class="sxs-lookup"><span data-stu-id="ba59c-305">You might override [**GetOrientationCore**](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.automation.peers.automationpeer.getorientationcore) if your control has a settable orientation property that can map to [**AutomationOrientation**](https://msdn.microsoft.com/library/windows/apps/BR209184).</span></span> <span data-ttu-id="ba59c-306">Dies ist mit den Klassen [**ScrollBarAutomationPeer**](https://msdn.microsoft.com/library/windows/apps/BR242522) und [**SliderAutomationPeer**](https://msdn.microsoft.com/library/windows/apps/BR242546) möglich.</span><span class="sxs-lookup"><span data-stu-id="ba59c-306">The [**ScrollBarAutomationPeer**](https://msdn.microsoft.com/library/windows/apps/BR242522) and [**SliderAutomationPeer**](https://msdn.microsoft.com/library/windows/apps/BR242546) classes do this.</span></span>

<span id="Base_implementation_in_FrameworkElementAutomationPeer"/>
<span id="base_implementation_in_frameworkelementautomationpeer"/>
<span id="BASE_IMPLEMENTATION_IN_FRAMEWORKELEMENTAUTOMATIONPEER"/>

### <a name="base-implementation-in-frameworkelementautomationpeer"></a><span data-ttu-id="ba59c-307">Basisimplementierung in FrameworkElementAutomationPeer</span><span class="sxs-lookup"><span data-stu-id="ba59c-307">Base implementation in FrameworkElementAutomationPeer</span></span>  
<span data-ttu-id="ba59c-308">Die Basisimplementierung von [**FrameworkElementAutomationPeer**](https://msdn.microsoft.com/library/windows/apps/BR242472) bietet einige Informationen zur Benutzeroberflächenautomatisierung, die von verschiedenen, auf der Frameworkebene definierten Layout- und Verhaltenseigenschaften interpretiert werden können.</span><span class="sxs-lookup"><span data-stu-id="ba59c-308">The base implementation of [**FrameworkElementAutomationPeer**](https://msdn.microsoft.com/library/windows/apps/BR242472) provides some UI Automation information that can be interpreted from various layout and behavior properties that are defined at the framework level.</span></span>

* <span data-ttu-id="ba59c-309">[**GetBoundingRectangleCore**](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.automation.peers.automationpeer.getboundingrectanglecore): Gibt eine [**Rect**](https://msdn.microsoft.com/library/windows/apps/BR225994)-Struktur basierend auf den bekannten Layouteigenschaften zurück.</span><span class="sxs-lookup"><span data-stu-id="ba59c-309">[**GetBoundingRectangleCore**](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.automation.peers.automationpeer.getboundingrectanglecore): Returns a [**Rect**](https://msdn.microsoft.com/library/windows/apps/BR225994) structure based on the known layout characteristics.</span></span> <span data-ttu-id="ba59c-310">Gibt einen 0-Wert **Rect** zurück, wenn [**IsOffscreen**](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.automation.peers.automationpeer.isoffscreen) **true** ist.</span><span class="sxs-lookup"><span data-stu-id="ba59c-310">Returns a 0-value **Rect** if [**IsOffscreen**](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.automation.peers.automationpeer.isoffscreen) is **true**.</span></span>
* <span data-ttu-id="ba59c-311">[**GetClickablePointCore**](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.automation.peers.automationpeer.getclickablepointcore): Gibt eine [**Point**](https://msdn.microsoft.com/library/windows/apps/BR225870)-Struktur basierend auf den bekannten Layouteigenschaften zurück, solange ein **BoundingRectangle** ungleich 0 (Null) vorhanden ist.</span><span class="sxs-lookup"><span data-stu-id="ba59c-311">[**GetClickablePointCore**](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.automation.peers.automationpeer.getclickablepointcore): Returns a [**Point**](https://msdn.microsoft.com/library/windows/apps/BR225870) structure based on the known layout characteristics, as long as there is a nonzero **BoundingRectangle**.</span></span>
* <span data-ttu-id="ba59c-312">[**GetNameCore**](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.automation.peers.automationpeer.getnamecore): Umfassendere Verhaltensweisen als hier zusammengefasst werden können; siehe [**GetNameCore**](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.automation.peers.automationpeer.getnamecore).</span><span class="sxs-lookup"><span data-stu-id="ba59c-312">[**GetNameCore**](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.automation.peers.automationpeer.getnamecore): More extensive behavior than can be summarized here; see [**GetNameCore**](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.automation.peers.automationpeer.getnamecore).</span></span> <span data-ttu-id="ba59c-313">Grundsätzlich wird versucht, eine Zeichenfolgenkonvertierung für alle bekannten Inhalte einer [**ContentControl**](https://msdn.microsoft.com/library/windows/apps/BR209365)-Klasse oder verwandter Klassen auszuführen, die über Inhalte verfügen.</span><span class="sxs-lookup"><span data-stu-id="ba59c-313">Basically, it attempts a string conversion on any known content of a [**ContentControl**](https://msdn.microsoft.com/library/windows/apps/BR209365) or related classes that have content.</span></span> <span data-ttu-id="ba59c-314">Wenn ein Wert für [**LabeledBy**](https://msdn.microsoft.com/library/windows/apps/Hh759769) vorhanden ist, wird darüber hinaus der **Name**-Wert dieses Elements als **Name** verwendet.</span><span class="sxs-lookup"><span data-stu-id="ba59c-314">Also, if there is a value for [**LabeledBy**](https://msdn.microsoft.com/library/windows/apps/Hh759769), that item's **Name** value is used as the **Name**.</span></span>
* <span data-ttu-id="ba59c-315">[**HasKeyboardFocusCore**](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.automation.peers.automationpeer.haskeyboardfocuscore): Ausgewertet basierend auf den Eigenschaften [**FocusState**](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.controls.control.focusstate) und [**IsEnabled**](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.controls.control.isenabled) des Besitzers.</span><span class="sxs-lookup"><span data-stu-id="ba59c-315">[**HasKeyboardFocusCore**](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.automation.peers.automationpeer.haskeyboardfocuscore): Evaluated based on the owner's [**FocusState**](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.controls.control.focusstate) and [**IsEnabled**](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.controls.control.isenabled) properties.</span></span> <span data-ttu-id="ba59c-316">Elemente, die keine Steuerelemente sind, geben stets **false** zurück.</span><span class="sxs-lookup"><span data-stu-id="ba59c-316">Elements that aren't controls always return **false**.</span></span>
* <span data-ttu-id="ba59c-317">[**IsEnabledCore**](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.automation.peers.automationpeer.isenabledcore): Ausgewertet basierend auf der Eigenschaft [**IsEnabled**](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.controls.control.isenabled), wenn diese ein [**Control**](https://msdn.microsoft.com/library/windows/apps/BR209390) ist.</span><span class="sxs-lookup"><span data-stu-id="ba59c-317">[**IsEnabledCore**](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.automation.peers.automationpeer.isenabledcore): Evaluated based on the owner's [**IsEnabled**](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.controls.control.isenabled) property if it is a [**Control**](https://msdn.microsoft.com/library/windows/apps/BR209390).</span></span> <span data-ttu-id="ba59c-318">Elemente, die keine Steuerelemente sind, geben stets **true** zurück.</span><span class="sxs-lookup"><span data-stu-id="ba59c-318">Elements that aren't controls always return **true**.</span></span> <span data-ttu-id="ba59c-319">Dies bedeutet nicht, dass der Besitzer im herkömmlichen Sinn einer Interaktion aktiviert wird, sondern dass der Peer aktiviert wird, obwohl der Besitzer nicht über die Eigenschaft **IsEnabled** verfügt.</span><span class="sxs-lookup"><span data-stu-id="ba59c-319">This doesn't mean that the owner is enabled in the conventional interaction sense; it means that the peer is enabled despite the owner not having an **IsEnabled** property.</span></span>
* <span data-ttu-id="ba59c-320">[**IsKeyboardFocusableCore**](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.automation.peers.automationpeer.iskeyboardfocusablecore): Gibt **true** zurück, wenn der Besitzer ein [**Control**](https://msdn.microsoft.com/library/windows/apps/BR209390) ist, andernfalls **false**.</span><span class="sxs-lookup"><span data-stu-id="ba59c-320">[**IsKeyboardFocusableCore**](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.automation.peers.automationpeer.iskeyboardfocusablecore): Returns **true** if owner is a [**Control**](https://msdn.microsoft.com/library/windows/apps/BR209390); otherwise it is **false**.</span></span>
* <span data-ttu-id="ba59c-321">[**IsOffscreenCore**](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.automation.peers.automationpeer.isoffscreencore): Eine [**Visibility**](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.uielement.visibility) mit dem Wert [**Collapsed**](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.visibility) für das Besitzerelement oder eines seiner übergeordneten Elemente entspricht dem Wert **true** für [**IsOffscreen**](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.automation.peers.automationpeer.isoffscreen).</span><span class="sxs-lookup"><span data-stu-id="ba59c-321">[**IsOffscreenCore**](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.automation.peers.automationpeer.isoffscreencore): A [**Visibility**](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.uielement.visibility) of [**Collapsed**](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.visibility) on the owner element or any of its parents equates to a **true** value for [**IsOffscreen**](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.automation.peers.automationpeer.isoffscreen).</span></span> <span data-ttu-id="ba59c-322">Ausnahme: ein [**Popup**](https://msdn.microsoft.com/library/windows/apps/BR227842)-Objekt kann sichtbar sein, auch wenn dies nicht auf dessen übergeordneten Elemente zutrifft.</span><span class="sxs-lookup"><span data-stu-id="ba59c-322">Exception: a [**Popup**](https://msdn.microsoft.com/library/windows/apps/BR227842) object can be visible even if its owner's parents are not.</span></span>
* <span data-ttu-id="ba59c-323">[**SetFocusCore**](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.automation.peers.automationpeer.setfocuscore): Ruft [**Focus**](https://msdn.microsoft.com/library/windows/apps/hh702161) auf.</span><span class="sxs-lookup"><span data-stu-id="ba59c-323">[**SetFocusCore**](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.automation.peers.automationpeer.setfocuscore): Calls [**Focus**](https://msdn.microsoft.com/library/windows/apps/hh702161).</span></span>
* <span data-ttu-id="ba59c-324">[**GetParent**](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.automation.peers.automationpeer.getparent): Ruft [**FrameworkElement.Parent**](https://msdn.microsoft.com/library/windows/apps/BR208739) vom Besitzer auf und findet den entsprechenden Peer.</span><span class="sxs-lookup"><span data-stu-id="ba59c-324">[**GetParent**](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.automation.peers.automationpeer.getparent): Calls [**FrameworkElement.Parent**](https://msdn.microsoft.com/library/windows/apps/BR208739) from the owner, and looks up the appropriate peer.</span></span> <span data-ttu-id="ba59c-325">Da es sich hier nicht um ein Überschreibungspaar mit einer Core-Methode handelt, können Sie dieses Verhalten nicht ändern.</span><span class="sxs-lookup"><span data-stu-id="ba59c-325">This isn't an override pair with a "Core" method, so you can't change this behavior.</span></span>

> [!NOTE]
> <span data-ttu-id="ba59c-326">Standard-UWP-Peers implementieren ein Verhalten mithilfe von systemeigenem Code, der die UWP implementiert, und nicht unbedingt mit tatsächlichem UWP-Code.</span><span class="sxs-lookup"><span data-stu-id="ba59c-326">Default UWP peers implement a behavior by using internal native code that implements the UWP, not necessarily by using actual UWP code.</span></span> <span data-ttu-id="ba59c-327">Sie können den Code oder die Logik der Implementierung nicht mittels Common Language Runtime (CLR)-Spiegelung oder anderer Verfahren anzeigen.</span><span class="sxs-lookup"><span data-stu-id="ba59c-327">You won't be able to see the code or logic of the implementation through common language runtime (CLR) reflection or other techniques.</span></span> <span data-ttu-id="ba59c-328">Außerdem sehen Sie keine einzelnen Referenzseiten in der Referenz für unterklassenspezifische Überschreibungen von Basispeerverhalten.</span><span class="sxs-lookup"><span data-stu-id="ba59c-328">You also won't see distinct reference pages for subclass-specific overrides of base peer behavior.</span></span> <span data-ttu-id="ba59c-329">Beispielsweise gibt es möglicherweise zusätzliche Verhaltensweisen für das [**GetNameCore**](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.automation.peers.automationpeer.getnamecore)-Element von [**TextBoxAutomationPeer**](https://msdn.microsoft.com/library/windows/apps/BR242550), die nicht auf der **AutomationPeer.GetNameCore**-Referenzseite beschrieben werden, und es ist keine Referenzseite für **TextBoxAutomationPeer.GetNameCore** vorhanden.</span><span class="sxs-lookup"><span data-stu-id="ba59c-329">For example, there might be additional behavior for [**GetNameCore**](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.automation.peers.automationpeer.getnamecore) of a [**TextBoxAutomationPeer**](https://msdn.microsoft.com/library/windows/apps/BR242550), which won't be described on the **AutomationPeer.GetNameCore** reference page, and there is no reference page for **TextBoxAutomationPeer.GetNameCore**.</span></span> <span data-ttu-id="ba59c-330">Es gibt noch nicht einmal eine **TextBoxAutomationPeer.GetNameCore**-Referenzseite.</span><span class="sxs-lookup"><span data-stu-id="ba59c-330">There isn't even a **TextBoxAutomationPeer.GetNameCore** reference page.</span></span> <span data-ttu-id="ba59c-331">Lesen Sie stattdessen das Referenzthema für die unmittelbarste Peerklasse, und suchen Sie im Abschnitt für Anmerkungen nach Implementierungshinweisen.</span><span class="sxs-lookup"><span data-stu-id="ba59c-331">Instead, read the reference topic for the most immediate peer class, and look for implementation notes in the Remarks section.</span></span>

<span id="Peers_and_AutomationProperties"/>
<span id="peers_and_automationproperties"/>
<span id="PEERS_AND_AUTOMATIONPROPERTIES"/>

## <a name="peers-and-automationproperties"></a><span data-ttu-id="ba59c-332">Peers und %%amp;quot;AutomationProperties%%amp;quot;</span><span class="sxs-lookup"><span data-stu-id="ba59c-332">Peers and AutomationProperties</span></span>  
<span data-ttu-id="ba59c-333">Ihr Automatisierungspeer sollte entsprechende Standardwerte für die Informationen bereitstellen, die sich auf die Barrierefreiheit des Steuerelements beziehen.</span><span class="sxs-lookup"><span data-stu-id="ba59c-333">Your automation peer should provide appropriate default values for your control's accessibility-related information.</span></span> <span data-ttu-id="ba59c-334">Beachten Sie, dass jeder App-Code, der das Steuerelement verwendet, einen Teil dieses Verhaltens überschreiben kann, indem Werte für die angefügte [**AutomationProperties**](https://msdn.microsoft.com/library/windows/apps/BR209081) Eigenschaft in die Steuerelementinstanzen eingeschlossen werden.</span><span class="sxs-lookup"><span data-stu-id="ba59c-334">Note that any app code that uses the control can override some of that behavior by including [**AutomationProperties**](https://msdn.microsoft.com/library/windows/apps/BR209081) attached-property values on control instances.</span></span> <span data-ttu-id="ba59c-335">Aufrufer können dies entweder für die Standardsteuerelemente oder für benutzerdefinierte Steuerelemente ausführen.</span><span class="sxs-lookup"><span data-stu-id="ba59c-335">Callers can do this either for the default controls or for custom controls.</span></span> <span data-ttu-id="ba59c-336">Mithilfe des folgenden XAML wird beispielsweise eine Schaltfläche erstellt, die über zwei angepasste Benutzeroberflächenautomatisierungs-Eigenschaften verfügt: </span><span class="sxs-lookup"><span data-stu-id="ba59c-336">For example, the following XAML creates a button that has two customized UI Automation properties:</span></span> `<Button AutomationProperties.Name="Special"      AutomationProperties.HelpText="This is a special button."/>`

<span data-ttu-id="ba59c-337">Weitere Informationen zu angefügten [**AutomationProperties**](https://msdn.microsoft.com/library/windows/apps/BR209081)-Eigenschaften finden Sie unter [Grundlegende Barrierefreiheitsinformationen](basic-accessibility-information.md).</span><span class="sxs-lookup"><span data-stu-id="ba59c-337">For more info about [**AutomationProperties**](https://msdn.microsoft.com/library/windows/apps/BR209081) attached properties, see [Basic accessibility information](basic-accessibility-information.md).</span></span>

<span data-ttu-id="ba59c-338">Einige [**AutomationPeer**](https://msdn.microsoft.com/library/windows/apps/BR209185)-Methoden sind aufgrund des allgemeinen Vertrags vorhanden, der festlegt, wie Benutzeroberflächenautomatisierungs-Anbieter Informationen melden sollen. Jedoch werden diese Methoden in der Regel nicht in Steuerelementpeers implementiert.</span><span class="sxs-lookup"><span data-stu-id="ba59c-338">Some of the [**AutomationPeer**](https://msdn.microsoft.com/library/windows/apps/BR209185) methods exist because of the general contract of how UI Automation providers are expected to report information, but these methods are not typically implemented in control peers.</span></span> <span data-ttu-id="ba59c-339">Dies liegt daran, dass erwartet wird, dass die [**AutomationProperties**](https://msdn.microsoft.com/library/windows/apps/BR209081)-Werte, die auf den App-Code angewendet werden, der die Steuerelemente auf einer bestimmten Benutzeroberfläche verwendet, diese Informationen liefern.</span><span class="sxs-lookup"><span data-stu-id="ba59c-339">This is because that info is expected to be provided by [**AutomationProperties**](https://msdn.microsoft.com/library/windows/apps/BR209081) values applied to the app code that uses the controls in a specific UI.</span></span> <span data-ttu-id="ba59c-340">Beispielweise würde die Mehrzahl der Apps die Bezeichnungsbeziehung zwischen zwei verschiedenen Steuerelementen in der Benutzeroberfläche definieren, indem sie den Wert [**AutomationProperties.LabeledBy**](https://msdn.microsoft.com/library/windows/apps/Hh759769) anwendet.</span><span class="sxs-lookup"><span data-stu-id="ba59c-340">For example, most apps would define the labeling relationship between two different controls in the UI by applying a [**AutomationProperties.LabeledBy**](https://msdn.microsoft.com/library/windows/apps/Hh759769) value.</span></span> <span data-ttu-id="ba59c-341">[**LabeledByCore**](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.automation.peers.automationpeer.getlabeledbycore) ist jedoch in bestimmten Peers implementiert, die Daten- oder Objektbeziehungen in einem Steuerelement darstellen, beispielsweise die Verwendung einer Headerkomponente zum Bezeichnen einer Datenfeldkomponente, das Bezeichnen von Objekten mit ihren Containern oder ähnliche Szenarien.</span><span class="sxs-lookup"><span data-stu-id="ba59c-341">However, [**LabeledByCore**](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.automation.peers.automationpeer.getlabeledbycore) is implemented in certain peers that represent data or item relationships in a control, such as using a header part to label a data-field part, labeling items with their containers, or similar scenarios.</span></span>

<span id="Implementing_patterns"/>
<span id="implementing_patterns"/>
<span id="IMPLEMENTING_PATTERNS"/>

## <a name="implementing-patterns"></a><span data-ttu-id="ba59c-342">Implementieren von Mustern</span><span class="sxs-lookup"><span data-stu-id="ba59c-342">Implementing patterns</span></span>  
<span data-ttu-id="ba59c-343">Als Nächstes wird beschrieben, wie ein Peer für ein Steuerelement geschrieben wird, mit dem durch die Implementierung der Steuerelement-Musterschnittstelle für Erweitern/Reduzieren das Verhalten zum Erweitern/Reduzieren implementiert wird.</span><span class="sxs-lookup"><span data-stu-id="ba59c-343">Let's look at how to write a peer for a control that implements an expand-collapse behavior by implementing the control pattern interface for expand-collapse.</span></span> <span data-ttu-id="ba59c-344">Der Peer sollte die Barrierefreiheit für das Erweitern/Reduzieren ermöglichen, indem er jedes Mal, wenn [**GetPattern**](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.automation.peers.automationpeer.getpattern) mit einem Wert von [**PatternInterface.ExpandCollapse**](https://msdn.microsoft.com/library/windows/apps/BR242496) aufgerufen wird, sich selbst zurückgibt.</span><span class="sxs-lookup"><span data-stu-id="ba59c-344">The peer should enable the accessibility for the expand-collapse behavior by returning itself whenever [**GetPattern**](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.automation.peers.automationpeer.getpattern) is called with a value of [**PatternInterface.ExpandCollapse**](https://msdn.microsoft.com/library/windows/apps/BR242496).</span></span> <span data-ttu-id="ba59c-345">Anschließend sollte der Peer die Anbieterschnittstelle für dieses Muster ([**IExpandCollapseProvider**](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.automation.provider.iexpandcollapseprovider)) erben und Implementierungen für alle Member dieser Anbieterschnittstelle bereitstellen.</span><span class="sxs-lookup"><span data-stu-id="ba59c-345">The peer should then inherit the provider interface for that pattern ([**IExpandCollapseProvider**](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.automation.provider.iexpandcollapseprovider)) and provide implementations for each of the members of that provider interface.</span></span> <span data-ttu-id="ba59c-346">In diesem Fall muss die Schnittstelle drei Member überschreiben: [**Expand**](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.automation.provider.iexpandcollapseprovider.expand), [**Collapse**](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.automation.provider.iexpandcollapseprovider.collapse) und [**ExpandCollapseState**](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.automation.provider.iexpandcollapseprovider.expandcollapsestate).</span><span class="sxs-lookup"><span data-stu-id="ba59c-346">In this case the interface has three members to override: [**Expand**](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.automation.provider.iexpandcollapseprovider.expand), [**Collapse**](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.automation.provider.iexpandcollapseprovider.collapse), [**ExpandCollapseState**](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.automation.provider.iexpandcollapseprovider.expandcollapsestate).</span></span>

<span data-ttu-id="ba59c-347">Es ist hilfreich, die Barrierefreiheit im API-Entwurf der Klasse selbst vorauszuplanen.</span><span class="sxs-lookup"><span data-stu-id="ba59c-347">It's helpful to plan ahead for accessibility in the API design of the class itself.</span></span> <span data-ttu-id="ba59c-348">Stellen Sie für ein Verhalten, das möglicherweise durch typische Benutzerinteraktionen mit der UI oder ein Automatisierungsanbietermuster angefordert wird, eine einzelne Methode bereit, die entweder als Benutzeroberflächenreaktion oder durch das Automatisierungsmuster aufgerufen werden kann.</span><span class="sxs-lookup"><span data-stu-id="ba59c-348">Whenever you have a behavior that is potentially requested either as a result of typical interactions with a user who is working in the UI or through an automation provider pattern, provide a single method that either the UI response or the automation pattern can call.</span></span> <span data-ttu-id="ba59c-349">Wenn Ihr Steuerelement beispielsweise Schaltflächenteile mit verknüpften Ereignishandlern, die das Steuerelement erweitern oder reduzieren können, sowie Tastaturentsprechungen für diese Aktionen enthält, sollten diese Ereignishandler die gleiche Methode aufrufen, die aus den [**Expand**](https://msdn.microsoft.com/library/windows/apps/BR242570)- oder [**Collapse**](https://msdn.microsoft.com/library/windows/apps/BR242569)-Implementierungen für [**IExpandCollapseProvider**](https://msdn.microsoft.com/library/windows/desktop/Ee671242) im Peer aufgerufen wird.</span><span class="sxs-lookup"><span data-stu-id="ba59c-349">For example, if your control has button parts that have wired event handlers that can expand or collapse the control, and has keyboard equivalents for those actions, have these event handlers call the same method that you call from within the body of the [**Expand**](https://msdn.microsoft.com/library/windows/apps/BR242570) or [**Collapse**](https://msdn.microsoft.com/library/windows/apps/BR242569) implementations for [**IExpandCollapseProvider**](https://msdn.microsoft.com/library/windows/desktop/Ee671242) in the peer.</span></span> <span data-ttu-id="ba59c-350">Es kann auch nützlich sein, mit einer allgemeinen Logikmethode sicherzustellen, dass die visuellen Zustände Ihres Steuerelements aktualisiert werden, um den logischen Zustand einheitlich anzuzeigen, unabhängig davon, wie das Verhalten aufgerufen wurde.</span><span class="sxs-lookup"><span data-stu-id="ba59c-350">Using a common logic method can also be a useful way to make sure that your control's visual states are updated to show logical state in a uniform way, regardless of how the behavior was invoked.</span></span>

<span data-ttu-id="ba59c-351">Bei einer typischen Implementierung wird von den Anbieter-APIs zuerst der [**Owner**](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.automation.peers.frameworkelementautomationpeer.owner) aufgerufen, um Zugriff zur Laufzeit auf die Steuerelementinstanz zu erhalten.</span><span class="sxs-lookup"><span data-stu-id="ba59c-351">A typical implementation is that the provider APIs first call [**Owner**](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.automation.peers.frameworkelementautomationpeer.owner) for access to the control instance at run time.</span></span> <span data-ttu-id="ba59c-352">Danach können die erforderlichen Verhaltensmethoden für dieses Objekt aufgerufen werden.</span><span class="sxs-lookup"><span data-stu-id="ba59c-352">Then the necessary behavior methods can be called on that object.</span></span>


```csharp
public class IndexCardAutomationPeer : FrameworkElementAutomationPeer, IExpandCollapseProvider {
    private IndexCard ownerIndexCard;
    public IndexCardAutomationPeer(IndexCard owner) : base(owner)
    {
         ownerIndexCard = owner;
    }
}
```

<span data-ttu-id="ba59c-353">Eine alternative Implementierungsmöglichkeit besteht darin, dass das Steuerelement selbst auf seinen Peer verweist.</span><span class="sxs-lookup"><span data-stu-id="ba59c-353">An alternate implementation is that the control itself can reference its peer.</span></span> <span data-ttu-id="ba59c-354">Dies ist ein häufig verwendetes Muster, wenn Automatisierungsereignisse über das Steuerelement ausgelöst werden, da die [**RaiseAutomationEvent**](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.automation.peers.automationpeer.raiseautomationevent)-Methode eine Peermethode ist.</span><span class="sxs-lookup"><span data-stu-id="ba59c-354">This is a common pattern if you are raising automation events from the control, because the [**RaiseAutomationEvent**](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.automation.peers.automationpeer.raiseautomationevent) method is a peer method.</span></span>

<span id="UI_Automation_events"/>
<span id="ui_automation_events"/>
<span id="UI_AUTOMATION_EVENTS"/>

## <a name="ui-automation-events"></a><span data-ttu-id="ba59c-355">Benutzeroberflächenautomatisierungs-Ereignisse</span><span class="sxs-lookup"><span data-stu-id="ba59c-355">UI Automation events</span></span>  

<span data-ttu-id="ba59c-356">Benutzeroberflächenautomatisierungs-Ereignisse werden in die folgenden Kategorien unterteilt.</span><span class="sxs-lookup"><span data-stu-id="ba59c-356">UI Automation events fall into the following categories.</span></span>

| <span data-ttu-id="ba59c-357">Ereignis</span><span class="sxs-lookup"><span data-stu-id="ba59c-357">Event</span></span> | <span data-ttu-id="ba59c-358">Beschreibung</span><span class="sxs-lookup"><span data-stu-id="ba59c-358">Description</span></span> |
|-------|-------------|
| <span data-ttu-id="ba59c-359">Eigenschaftsänderung</span><span class="sxs-lookup"><span data-stu-id="ba59c-359">Property change</span></span> | <span data-ttu-id="ba59c-360">Wird ausgelöst, wenn eine Eigenschaft eines Benutzeroberflächenautomatisierungs-Elements oder Steuerelementmusters geändert wird.</span><span class="sxs-lookup"><span data-stu-id="ba59c-360">Fires when a property on a UI Automation element or control pattern changes.</span></span> <span data-ttu-id="ba59c-361">Wenn ein Client beispielsweise das Steuerelement für das Kontrollkästchen einer App überwachen muss, kann dieser sich registrieren, um auf ein Eigenschaftsänderungsereignis im Hinblick auf die [**ToggleState**](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.automation.provider.itoggleprovider.togglestate)-Eigenschaft zu hören.</span><span class="sxs-lookup"><span data-stu-id="ba59c-361">For example, if a client needs to monitor an app's check box control, it can register to listen for a property change event on the [**ToggleState**](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.automation.provider.itoggleprovider.togglestate) property.</span></span> <span data-ttu-id="ba59c-362">Wenn das Steuerelement für das Kontrollkästchen aktiviert oder deaktiviert wird, wird das Ereignis vom Anbieter ausgelöst, und der Client kann die erforderliche Aktion ausführen.</span><span class="sxs-lookup"><span data-stu-id="ba59c-362">When the check box control is checked or unchecked, the provider fires the event and the client can act as necessary.</span></span> |
| <span data-ttu-id="ba59c-363">Aktion für Element</span><span class="sxs-lookup"><span data-stu-id="ba59c-363">Element action</span></span> | <span data-ttu-id="ba59c-364">Wird ausgelöst, wenn durch eine Aktivität des Benutzers oder eine programmgesteuerte Aktivität eine Änderung der Benutzeroberfläche ausgelöst wird, beispielsweise wenn über das Muster **Invoke** auf eine Schaltfläche geklickt oder diese aufgerufen wird.</span><span class="sxs-lookup"><span data-stu-id="ba59c-364">Fires when a change in the UI results from user or programmatic activity; for example, when a button is clicked or invoked through the **Invoke** pattern.</span></span> |
| <span data-ttu-id="ba59c-365">Strukturänderung</span><span class="sxs-lookup"><span data-stu-id="ba59c-365">Structure change</span></span> | <span data-ttu-id="ba59c-366">Wird ausgelöst, wenn der Benutzeroberflächenautomatisierungs-Baum geändert wird.</span><span class="sxs-lookup"><span data-stu-id="ba59c-366">Fires when the structure of the UI Automation tree changes.</span></span> <span data-ttu-id="ba59c-367">Die Struktur wird geändert, wenn neue Benutzeroberflächenelemente angezeigt, ausgeblendet oder vom Desktop entfernt werden.</span><span class="sxs-lookup"><span data-stu-id="ba59c-367">The structure changes when new UI items become visible, hidden, or removed on the desktop.</span></span> |
| <span data-ttu-id="ba59c-368">Globale Änderung</span><span class="sxs-lookup"><span data-stu-id="ba59c-368">Global change</span></span> | <span data-ttu-id="ba59c-369">Wird ausgelöst, wenn Aktionen ausgeführt werden, die den Client global betreffen, beispielsweise wenn der Fokus von einem Element auf ein anderes gewechselt wird oder wenn ein untergeordnetes Fenster geschlossen wird.</span><span class="sxs-lookup"><span data-stu-id="ba59c-369">Fires when actions of global interest to the client occur, such as when the focus shifts from one element to another, or when a child window closes.</span></span> <span data-ttu-id="ba59c-370">Einige Ereignisse implizieren nicht unbedingt, dass sich der Status der Benutzeroberfläche geändert hat.</span><span class="sxs-lookup"><span data-stu-id="ba59c-370">Some events do not necessarily mean that the state of the UI has changed.</span></span> <span data-ttu-id="ba59c-371">Wenn der Benutzer beispielsweise zu einem Texteingabefeld navigiert und anschließend auf eine Schaltfläche klickt, um das Feld zu aktualisieren, wird auch dann ein [**TextChanged**](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.controls.textbox.textchanged)-Ereignis ausgelöst, wenn der Benutzer den Text nicht geändert hat.</span><span class="sxs-lookup"><span data-stu-id="ba59c-371">For example, if the user tabs to a text-entry field and then clicks a button to update the field, a [**TextChanged**](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.controls.textbox.textchanged) event fires even if the user did not actually change the text.</span></span> <span data-ttu-id="ba59c-372">Bei der Verarbeitung eines Ereignisses ist es u.U. erforderlich, von einer Clientanwendung überprüfen zu lassen, ob Änderungen vorliegen, bevor Maßnahmen ergriffen werden.</span><span class="sxs-lookup"><span data-stu-id="ba59c-372">When processing an event, it may be necessary for a client application to check whether anything has actually changed before taking action.</span></span> |

<span id="AutomationEvents_identifiers"/>
<span id="automationevents_identifiers"/>
<span id="AUTOMATIONEVENTS_IDENTIFIERS"/>

### <a name="automationevents-identifiers"></a><span data-ttu-id="ba59c-373">AutomationEvents-Bezeichner</span><span class="sxs-lookup"><span data-stu-id="ba59c-373">AutomationEvents identifiers</span></span>  
<span data-ttu-id="ba59c-374">Benutzeroberflächenautomatisierungs-Ereignisse werden durch [**AutomationEvents**](https://msdn.microsoft.com/library/windows/apps/BR209183)-Werte identifiziert.</span><span class="sxs-lookup"><span data-stu-id="ba59c-374">UI Automation events are identified by [**AutomationEvents**](https://msdn.microsoft.com/library/windows/apps/BR209183) values.</span></span> <span data-ttu-id="ba59c-375">Durch die Werte der Enumeration wird die Art des Ereignisses eindeutig identifiziert.</span><span class="sxs-lookup"><span data-stu-id="ba59c-375">The values of the enumeration uniquely identify the kind of event.</span></span>

<span id="Raising_events"/>
<span id="raising_events"/>
<span id="RAISING_EVENTS"/>

### <a name="raising-events"></a><span data-ttu-id="ba59c-376">Auslösen von Ereignissen</span><span class="sxs-lookup"><span data-stu-id="ba59c-376">Raising events</span></span>  
<span data-ttu-id="ba59c-377">Benutzeroberflächenautomatisierungs-Clients können Automatisierungsereignisse abonnieren.</span><span class="sxs-lookup"><span data-stu-id="ba59c-377">UI Automation clients can subscribe to automation events.</span></span> <span data-ttu-id="ba59c-378">Im Automatisierungspeermodell müssen Peers für benutzerdefinierte Steuerelemente Änderungen am Zustand des Steuerelements, die für die Barrierefreiheit relevant sind, durch den Aufruf der [**RaiseAutomationEvent**](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.automation.peers.automationpeer.raiseautomationevent)-Methode melden.</span><span class="sxs-lookup"><span data-stu-id="ba59c-378">In the automation peer model, peers for custom controls must report changes to control state that are relevant to accessibility by calling the [**RaiseAutomationEvent**](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.automation.peers.automationpeer.raiseautomationevent) method.</span></span> <span data-ttu-id="ba59c-379">Entsprechend sollten die Peers des benutzerdefinierten Steuerelements die [**RaisePropertyChangedEvent**](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.automation.peers.automationpeer.raisepropertychangedevent)-Methode aufrufen, wenn sich der Wert einer wichtigen Benutzeroberflächenautomatisierungs-Eigenschaft ändert.</span><span class="sxs-lookup"><span data-stu-id="ba59c-379">Similarly, when a key UI Automation property value changes, custom control peers should call the [**RaisePropertyChangedEvent**](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.automation.peers.automationpeer.raisepropertychangedevent) method.</span></span>

<span data-ttu-id="ba59c-380">Das folgende Codebeispiel zeigt, wie das Peerobjekt aus dem Steuerelement-Definitionscode abgerufen und eine Methode aufgerufen wird, um von diesem Peer aus ein Ereignis auszulösen.</span><span class="sxs-lookup"><span data-stu-id="ba59c-380">The next code example shows how to get the peer object from within the control definition code and call a method to fire an event from that peer.</span></span> <span data-ttu-id="ba59c-381">Zur Optimierung stellt der Code fest, ob es Listener für diesen Ereignistyp gibt.</span><span class="sxs-lookup"><span data-stu-id="ba59c-381">As an optimization, the code determines whether there are any listeners for this event type.</span></span> <span data-ttu-id="ba59c-382">Wenn das Ereignis nur ausgelöst und das Peerobjekt nur erstellt wird, sofern Listener vorhanden sind, entsteht kein unnötiger Aufwand, und das Steuerelement bleibt reaktionsfähig.</span><span class="sxs-lookup"><span data-stu-id="ba59c-382">Firing the event and creating the peer object only when there are listeners avoids unnecessary overhead and helps the control remain responsive.</span></span>


```csharp
if (AutomationPeer.ListenerExists(AutomationEvents.PropertyChanged))
{
    NumericUpDownAutomationPeer peer =
        FrameworkElementAutomationPeer.FromElement(nudCtrl) as NumericUpDownAutomationPeer;
    if (peer != null)
    {
        peer.RaisePropertyChangedEvent(
            RangeValuePatternIdentifiers.ValueProperty,
            (double)oldValue,
            (double)newValue);
    }
}
```

<span id="Peer_navigation"/>
<span id="peer_navigation"/>
<span id="PEER_NAVIGATION"/>

## <a name="peer-navigation"></a><span data-ttu-id="ba59c-383">Peernavigation</span><span class="sxs-lookup"><span data-stu-id="ba59c-383">Peer navigation</span></span>  
<span data-ttu-id="ba59c-384">Nachdem ein Automatisierungspeer gefunden wurde, kann ein Benutzeroberflächenautomatisierungs-Client in der Peerstruktur einer App navigieren, indem die Methoden [**GetChildren**](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.automation.peers.automationpeer.getchildren) und [**GetParent**](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.automation.peers.automationpeer.getparent) des Peerobjekts aufgerufen werden.</span><span class="sxs-lookup"><span data-stu-id="ba59c-384">After locating an automation peer, a UI Automation client can navigate the peer structure of an app by calling the peer object's [**GetChildren**](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.automation.peers.automationpeer.getchildren) and [**GetParent**](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.automation.peers.automationpeer.getparent) methods.</span></span> <span data-ttu-id="ba59c-385">Die Navigation zwischen Benutzeroberflächenelementen in einem Steuerelement wird von der Implementierung der [**GetChildrenCore**](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.automation.peers.automationpeer.getchildrencore)-Methode des Peers unterstützt.</span><span class="sxs-lookup"><span data-stu-id="ba59c-385">Navigation among UI elements within a control is supported by the peer's implementation of the [**GetChildrenCore**](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.automation.peers.automationpeer.getchildrencore) method.</span></span> <span data-ttu-id="ba59c-386">Das Benutzeroberflächenautomatisierungs-System ruft diese Methode auf, um eine Struktur der in einem Steuerelement enthaltenen Unterelemente zu erstellen, beispielsweise von Listenelementen in einem Listenfeld.</span><span class="sxs-lookup"><span data-stu-id="ba59c-386">The UI Automation system calls this method to build up a tree of sub-elements contained within a control; for example, list items in a list box.</span></span> <span data-ttu-id="ba59c-387">Die **GetChildrenCore**-Standardmethode in [**FrameworkElementAutomationPeer**](https://msdn.microsoft.com/library/windows/apps/BR242472) durchläuft die visuelle Struktur der Elemente, um die Struktur der Automatisierungspeers zu erstellen.</span><span class="sxs-lookup"><span data-stu-id="ba59c-387">The default **GetChildrenCore** method in [**FrameworkElementAutomationPeer**](https://msdn.microsoft.com/library/windows/apps/BR242472) traverses the visual tree of elements to build the tree of automation peers.</span></span> <span data-ttu-id="ba59c-388">Benutzerdefinierte Steuerelemente können diese Methode überschreiben, um eine andere Darstellung der untergeordneten Elemente für Automatisierungsclients verfügbar zu machen. Dabei werden die Automatisierungspeers der Elemente zurückzugeben, die Informationen übermitteln oder Benutzerinteraktion erlauben.</span><span class="sxs-lookup"><span data-stu-id="ba59c-388">Custom controls can override this method to expose a different representation of child elements to automation clients, returning the automation peers of elements that convey information or allow user interaction.</span></span>

<span id="Native_automation_support_for_text_patterns"/>
<span id="native_automation_support_for_text_patterns"/>
<span id="NATIVE_AUTOMATION_SUPPORT_FOR_TEXT_PATTERNS"/>

## <a name="native-automation-support-for-text-patterns"></a><span data-ttu-id="ba59c-389">Systemeigene Automatisierungsunterstützung für Textmuster</span><span class="sxs-lookup"><span data-stu-id="ba59c-389">Native automation support for text patterns</span></span>  
<span data-ttu-id="ba59c-390">Einige der Standardautomatisierungspeers für UWP-Apps bieten Unterstützung für Steuerelementmuster ([**PatternInterface.Text**](https://msdn.microsoft.com/library/windows/apps/BR242496)).</span><span class="sxs-lookup"><span data-stu-id="ba59c-390">Some of the default UWP app automation peers provide control pattern support for the text pattern ([**PatternInterface.Text**](https://msdn.microsoft.com/library/windows/apps/BR242496)).</span></span> <span data-ttu-id="ba59c-391">Diese Unterstützung erfolgt jedoch über systemeigene Methoden, sodass die betroffenen Peers nicht die [**ITextProvider**](https://msdn.microsoft.com/library/windows/apps/BR242627)-Schnittstelle in der (verwalteten) Vererbung benachrichtigen.</span><span class="sxs-lookup"><span data-stu-id="ba59c-391">But they provide this support through native methods, and the peers involved won't note the [**ITextProvider**](https://msdn.microsoft.com/library/windows/apps/BR242627) interface in the (managed) inheritance.</span></span> <span data-ttu-id="ba59c-392">Wenn ein verwalteter oder nicht verwalteter Benutzeroberflächenautomatisierungs-Client den Peer nach Mustern abfragt, meldet dieser dennoch die Unterstützung des Textmusters und stellt Verhaltensweisen für Teile des Musters bereit, wenn die Client-APIs aufgerufen werden.</span><span class="sxs-lookup"><span data-stu-id="ba59c-392">Still, if a managed or non-managed UI Automation client queries the peer for patterns, it will report support for the text pattern, and provide behavior for parts of the pattern when client APIs are called.</span></span>

<span data-ttu-id="ba59c-393">Wenn Sie von einem Textsteuerelement einer UWP-App ableiten möchten, können Sie auch einen benutzerdefinierten Peer erstellen, der von einem der textspezifischen Peers abgeleitet ist. Im Abschnitt "Anmerkungen" des Peers finden Sie weitere Informationen zur möglichen systemeigenen Unterstützung von Mustern.</span><span class="sxs-lookup"><span data-stu-id="ba59c-393">If you intend to derive from one of the UWP app text controls and also create a custom peer that derives from one of the text-related peers, check the Remarks sections for the peer to learn more about any native-level support for patterns.</span></span> <span data-ttu-id="ba59c-394">Der Zugriff auf das systemeigene Verhalten Ihres benutzerdefinierten Peers erfolgt durch den Aufruf der Basisimplementierung Ihrer verwalteten Anbieterschnittstellenimplementierungen. es ist aber schwierig, das Verhalten der Basisimplementierung zu ändern, da die systemeigenen Schnittstellen weder im Peer noch im Eigentümersteuerelement verfügbar gemacht werden.</span><span class="sxs-lookup"><span data-stu-id="ba59c-394">You can access the native base behavior in your custom peer if you call the base implementation from your managed provider interface implementations, but it's difficult to modify what the base implementation does because the native interfaces on both the peer and its owner control aren't exposed.</span></span> <span data-ttu-id="ba59c-395">Sie sollten im Allgemeinen entweder die Basisimplementierungen wie bereitgestellt verwenden (durch Aufruf der Basis) oder die Funktionen vollständig im eigenen verwalteten Code ersetzen und die Basisimplementierung gar nicht aufrufen.</span><span class="sxs-lookup"><span data-stu-id="ba59c-395">Generally you should either use the base implementations as-is (call base only) or completely replace the functionality with your own managed code and don't call the base implementation.</span></span> <span data-ttu-id="ba59c-396">Im letzten Fall handelt es sich um ein fortgeschrittenes Szenario. Sie müssen mit dem von Ihrem Steuerelement verwendeten Textdienstframework vertraut sein, um die Anforderungen hinsichtlich der Barrierefreiheit zu unterstützen, wenn Sie dieses Framework verwenden.</span><span class="sxs-lookup"><span data-stu-id="ba59c-396">The latter is an advanced scenario, you'll need good familiarity with the text services framework being used by your control in order to support the accessibility requirements when using that framework.</span></span>

<span id="AutomationProperties.AccessibilityView"/>
<span id="automationproperties.accessibilityview"/>
<span id="AUTOMATIONPROPERTIES.ACCESSIBILITYVIEW"/>

## <a name="automationpropertiesaccessibilityview"></a><span data-ttu-id="ba59c-397">AutomationProperties.AccessibilityView</span><span class="sxs-lookup"><span data-stu-id="ba59c-397">AutomationProperties.AccessibilityView</span></span>  
<span data-ttu-id="ba59c-398">Zusätzlich zum Bereitstellen eines benutzerdefinierten Peers können Sie auch die Strukturansichtdarstellung für beliebige Steuerelementinstanzen anpassen, indem Sie im XAML-Code [**AutomationProperties.AccessibilityView**](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.automation.automationproperties.accessibilityview) festlegen.</span><span class="sxs-lookup"><span data-stu-id="ba59c-398">In addition to providing a custom peer, you can also adjust the tree view representation for any control instance, by setting [**AutomationProperties.AccessibilityView**](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.automation.automationproperties.accessibilityview) in XAML.</span></span> <span data-ttu-id="ba59c-399">Dies wird zwar nicht als Teil einer Peerklasse implementiert, wird hier jedoch erwähnt, weil es für die allgemeine Barrierefreiheitsunterstützung für benutzerdefinierte Steuerelemente oder für von Ihnen angepasste Vorlagen relevant ist.</span><span class="sxs-lookup"><span data-stu-id="ba59c-399">This isn't implemented as part of a peer class, but we'll mention it here because it's germane to overall accessibility support either for custom controls or for templates you customize.</span></span>

<span data-ttu-id="ba59c-400">Das Hauptszenario für die Verwendung von **AutomationProperties.AccessibilityView** ist das absichtliche Auslassen bestimmter Steuerelemente in einer Vorlage aus den Benutzeroberflächenautomatisierungs-Ansichten, weil sie keinen nennenswerten Beitrag zur Barrierefreiheitsansicht des gesamten Steuerelements leisten.</span><span class="sxs-lookup"><span data-stu-id="ba59c-400">The main scenario for using **AutomationProperties.AccessibilityView** is to deliberately omit certain controls in a template from the UI Automation views, because they don't meaningfully contribute to the accessibility view of the entire control.</span></span> <span data-ttu-id="ba59c-401">Um dies zu verhindern, legen Sie **AutomationProperties.AccessibilityView** auf „Raw“ fest.</span><span class="sxs-lookup"><span data-stu-id="ba59c-401">To prevent this, set **AutomationProperties.AccessibilityView** to "Raw".</span></span>

<span id="Throwing_exceptions_from_automation_peers"/>
<span id="throwing_exceptions_from_automation_peers"/>
<span id="THROWING_EXCEPTIONS_FROM_AUTOMATION_PEERS"/>

## <a name="throwing-exceptions-from-automation-peers"></a><span data-ttu-id="ba59c-402">Auslösen von Ausnahmen über Automatisierungspeers</span><span class="sxs-lookup"><span data-stu-id="ba59c-402">Throwing exceptions from automation peers</span></span>  
<span data-ttu-id="ba59c-403">Die APIs, die Sie für Ihre Automatisierungspeerunterstützung implementieren, dürfen Ausnahmen auslösen.</span><span class="sxs-lookup"><span data-stu-id="ba59c-403">The APIs that you are implementing for your automation peer support are permitted to throw exceptions.</span></span> <span data-ttu-id="ba59c-404">Es wird erwartet, dass lauschende Benutzeroberflächenautomatisierungs-Clients stabil genug sind, um nach dem Auslösen der meisten Ausnahmen weiter zu funktionieren.</span><span class="sxs-lookup"><span data-stu-id="ba59c-404">It's expected any UI Automation clients that are listening are robust enough to continue on after most exceptions are thrown.</span></span> <span data-ttu-id="ba59c-405">Aller Wahrscheinlichkeit nach betrachtet der Listener eine Automatisierungsgesamtstruktur, die neben Ihrer eigenen App auch andere Apps enthält. Das Clientdesign darf nicht zum Ausfall des gesamten Clients führen, wenn beim Aufrufen der APIs in einem Bereich der Struktur eine peerbasierte Ausnahme ausgelöst wird.</span><span class="sxs-lookup"><span data-stu-id="ba59c-405">In all likelihood that listener is looking at an all-up automation tree that includes apps other than your own, and it's an unacceptable client design to bring down the entire client just because one area of the tree threw a peer-based exception when the client called its APIs.</span></span>

<span data-ttu-id="ba59c-406">Parameter, die an Ihren Peer übergeben werden, können die Eingabe überprüfen und beispielsweise [**ArgumentNullException**](https://msdn.microsoft.com/library/windows/apps/system.argumentnullexception) auslösen, wenn **null** übergeben wurde und dies für Ihre Implementierung kein gültiger Wert ist.</span><span class="sxs-lookup"><span data-stu-id="ba59c-406">For parameters that are passed in to your peer, it's acceptable to validate the input, and for example throw [**ArgumentNullException**](https://msdn.microsoft.com/library/windows/apps/system.argumentnullexception) if it was passed **null** and that's not a valid value for your implementation.</span></span> <span data-ttu-id="ba59c-407">Wenn jedoch nachfolgende Vorgänge von Ihrem Peer ausgeführt werden, denken Sie daran, dass die Interaktionen des Peers mit dem hostenden Steuerelement einen gewissen asynchronen Charakter haben können.</span><span class="sxs-lookup"><span data-stu-id="ba59c-407">However, if there are subsequent operations performed by your peer, remember that the peer's interactions with the hosting control have something of an asynchronous character to them.</span></span> <span data-ttu-id="ba59c-408">Durch Aktionen eines Peers wird nicht zwangsläufig der Benutzeroberflächenthread im Steuerelement blockiert (dies sollte vermutlich auch nicht geschehen).</span><span class="sxs-lookup"><span data-stu-id="ba59c-408">Anything a peer does won't necessarily block the UI thread in the control (and it probably shouldn't).</span></span> <span data-ttu-id="ba59c-409">Daher sind Situationen denkbar, in denen ein Objekt bei der Erstellung des Peers oder beim ersten Aufruf einer Automatisierungspeermethode verfügbar war oder bestimmte Eigenschaften hatte, während sich der Zustand des Steuerelements in der Zwischenzeit geändert hat.</span><span class="sxs-lookup"><span data-stu-id="ba59c-409">So you could have situations where an object was available or had certain properties when the peer was created or when an automation peer method was first called, but in the meantime the control state has changed.</span></span> <span data-ttu-id="ba59c-410">Für diese Fälle gibt es zwei spezielle Ausnahmen, die ein Anbieter auslösen kann:</span><span class="sxs-lookup"><span data-stu-id="ba59c-410">For these cases, there are two dedicated exceptions that a provider can throw:</span></span>

* <span data-ttu-id="ba59c-411">Lösen Sie [**ElementNotAvailableException**](https://msdn.microsoft.com/library/system.windows.automation.elementnotavailableexception) aus, wenn Sie basierend auf den ursprünglich an Ihre APIs übergebenen Informationen nicht auf den Besitzer des Peers oder ein verwandtes Peerelement zugreifen können.</span><span class="sxs-lookup"><span data-stu-id="ba59c-411">Throw [**ElementNotAvailableException**](https://msdn.microsoft.com/library/system.windows.automation.elementnotavailableexception) if you're unable to access either the peer's owner or a related peer element based on the original info your API was passed.</span></span> <span data-ttu-id="ba59c-412">Beispielsweise gibt es möglicherweise einen Peer, der seine Methoden auszuführen versucht, dessen Besitzer jedoch in der Zwischenzeit aus der Benutzeroberfläche entfernt wurde. Dies ist beispielsweise der Fall, wenn ein modales Dialogfeld geschlossen wird.</span><span class="sxs-lookup"><span data-stu-id="ba59c-412">For example, you might have a peer that's trying to run its methods but the owner has since been removed from the UI, such as a modal dialog that's been closed.</span></span> <span data-ttu-id="ba59c-413">Bei anderen als .NET-Clients entspricht dies [**UIA\_E\_ELEMENTNOTAVAILABLE**](https://msdn.microsoft.com/library/windows/desktop/Ee671218).</span><span class="sxs-lookup"><span data-stu-id="ba59c-413">For a non-.NET client, this maps to [**UIA\_E\_ELEMENTNOTAVAILABLE**](https://msdn.microsoft.com/library/windows/desktop/Ee671218).</span></span>
* <span data-ttu-id="ba59c-414">Lösen Sie [**ElementNotEnabledException**](https://msdn.microsoft.com/library/system.windows.automation.elementnotenabledexception) aus, wenn zwar noch ein Besitzer vorhanden ist, dieser sich jedoch in einem Modus wie [**IsEnabled**](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.controls.control.isenabled)`=`**false** befindet, der einen Teil der spezifischen programmgesteuerten Änderungen blockiert, die der Peer auszuführen versucht.</span><span class="sxs-lookup"><span data-stu-id="ba59c-414">Throw [**ElementNotEnabledException**](https://msdn.microsoft.com/library/system.windows.automation.elementnotenabledexception) if there still is an owner, but that owner is in a mode such as [**IsEnabled**](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.controls.control.isenabled)`=`**false** that's blocking some of the specific programmatic changes that your peer is trying to accomplish.</span></span> <span data-ttu-id="ba59c-415">Bei anderen als .NET-Clients entspricht dies [**UIA\_E\_ELEMENTNOTENABLED**](https://msdn.microsoft.com/library/windows/desktop/Ee671218).</span><span class="sxs-lookup"><span data-stu-id="ba59c-415">For a non-.NET client, this maps to [**UIA\_E\_ELEMENTNOTENABLED**](https://msdn.microsoft.com/library/windows/desktop/Ee671218).</span></span>

<span data-ttu-id="ba59c-416">Darüber hinaus sollten Peers mit Ausnahmen, die sie über die Peerunterstützung auslösen, vergleichsweise konservativ umgehen.</span><span class="sxs-lookup"><span data-stu-id="ba59c-416">Beyond this, peers should be relatively conservative regarding exceptions that they throw from their peer support.</span></span> <span data-ttu-id="ba59c-417">Die meisten Clients können Ausnahmen von Peers nicht verarbeiten und wandeln diese in Wahlmöglichkeiten mit ausführbaren Aktionen um, die Benutzer bei Interaktionen mit dem Client auswählen können.</span><span class="sxs-lookup"><span data-stu-id="ba59c-417">Most clients won't be able to handle exceptions from peers and turn these into actionable choices that their users can make when interacting with the client.</span></span> <span data-ttu-id="ba59c-418">Manchmal ist es also eine bessere Strategie, keinen Vorgang auszuführen und Ausnahmen ohne erneutes Auslösen in Ihren Peerimplementierungen abzufangen, als bei jeder fehlgeschlagenen Aktion des Peers Ausnahmen auszulösen.</span><span class="sxs-lookup"><span data-stu-id="ba59c-418">So sometimes a no-op, and catching exceptions without rethrowing within your peer implementations, is a better strategy than is throwing exceptions every time something the peer tries to do doesn't work.</span></span> <span data-ttu-id="ba59c-419">Berücksichtigen Sie auch, dass die meisten Benutzeroberflächenautomatisierungs-Clients nicht in verwaltetem Code geschrieben werden.</span><span class="sxs-lookup"><span data-stu-id="ba59c-419">Consider also that most UI Automation clients aren't written in managed code.</span></span> <span data-ttu-id="ba59c-420">Die meisten werden in COM geschrieben und überprüfen lediglich **S\_OK** in **HRESULT**, wenn sie eine Benutzeroberflächenautomatisierungs-Clientmethode aufrufen, die auf Ihren Peer zugreift.</span><span class="sxs-lookup"><span data-stu-id="ba59c-420">Most are written in COM and are just checking for **S\_OK** in an **HRESULT** whenever they call a UI Automation client method that ends up accessing your peer.</span></span>

<span id="related_topics"/>

## <a name="related-topics"></a><span data-ttu-id="ba59c-421">Verwandte Themen</span><span class="sxs-lookup"><span data-stu-id="ba59c-421">Related topics</span></span>  
* [<span data-ttu-id="ba59c-422">Barrierefreiheit</span><span class="sxs-lookup"><span data-stu-id="ba59c-422">Accessibility</span></span>](accessibility.md)
* [<span data-ttu-id="ba59c-423">XAML-Beispiel für Barrierefreiheit</span><span class="sxs-lookup"><span data-stu-id="ba59c-423">XAML accessibility sample</span></span>](http://go.microsoft.com/fwlink/p/?linkid=238570)
* [**<span data-ttu-id="ba59c-424">FrameworkElementAutomationPeer</span><span class="sxs-lookup"><span data-stu-id="ba59c-424">FrameworkElementAutomationPeer</span></span>**](https://msdn.microsoft.com/library/windows/apps/BR242472)
* [**<span data-ttu-id="ba59c-425">AutomationPeer</span><span class="sxs-lookup"><span data-stu-id="ba59c-425">AutomationPeer</span></span>**](https://msdn.microsoft.com/library/windows/apps/BR209185)
* [**<span data-ttu-id="ba59c-426">OnCreateAutomationPeer</span><span class="sxs-lookup"><span data-stu-id="ba59c-426">OnCreateAutomationPeer</span></span>**](https://msdn.microsoft.com/ibrary/windows/apps/windows.ui.xaml.uielement.oncreateautomationpeer)
* [<span data-ttu-id="ba59c-427">Steuerelementmuster und Schnittstellen</span><span class="sxs-lookup"><span data-stu-id="ba59c-427">Control patterns and interfaces</span></span>](control-patterns-and-interfaces.md)
