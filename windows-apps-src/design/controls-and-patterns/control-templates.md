---
author: Jwmsft
Description: You can customize a control's visual structure and visual behavior by creating a control template in the XAML framework.
MS-HAID: dev\_ctrl\_layout\_txt.control\_templates
MSHAttr: PreferredLib:/library/windows/apps
Search.Product: eADQiWindows 10XVcnh
title: Steuerelementvorlagen
ms.assetid: 6E642626-A1D6-482F-9F7E-DBBA7A071DAD
label: Control templates
template: detail.hbs
ms.author: jimwalk
ms.date: 05/19/2017
ms.topic: article
keywords: Windows10, UWP
ms.localizationpriority: medium
ms.openlocfilehash: 1ce72c40d3b97942612fc2979d026c965727512e
ms.sourcegitcommit: e2fca6c79f31e521ba76f7ecf343cf8f278e6a15
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 11/15/2018
ms.locfileid: "6968866"
---
# <a name="control-templates"></a><span data-ttu-id="5323d-103">Steuerelementvorlagen</span><span class="sxs-lookup"><span data-stu-id="5323d-103">Control templates</span></span>

<span data-ttu-id="5323d-104">Durch Erstellen einer Steuerelementvorlage im XAML-Framework können Sie die visuelle Struktur und das visuelle Verhalten eines Steuerelements anpassen.</span><span class="sxs-lookup"><span data-stu-id="5323d-104">You can customize a control's visual structure and visual behavior by creating a control template in the XAML framework.</span></span> <span data-ttu-id="5323d-105">Steuerelemente besitzen zahlreiche Eigenschaften wie [**Background**](https://msdn.microsoft.com/library/windows/apps/br209395), [**Foreground**](https://msdn.microsoft.com/library/windows/apps/br209414) und [**FontFamily**](https://msdn.microsoft.com/library/windows/apps/br209404). Damit können Sie verschiedene Aspekte der Steuerelementdarstellung angeben.</span><span class="sxs-lookup"><span data-stu-id="5323d-105">Controls have many properties, such as [**Background**](https://msdn.microsoft.com/library/windows/apps/br209395), [**Foreground**](https://msdn.microsoft.com/library/windows/apps/br209414), and [**FontFamily**](https://msdn.microsoft.com/library/windows/apps/br209404), that you can set to specify different aspects of the control's appearance.</span></span> <span data-ttu-id="5323d-106">Die Anpassungen, die Sie mit diesen Eigenschaften vornehmen können, sind jedoch begrenzt.</span><span class="sxs-lookup"><span data-stu-id="5323d-106">But the changes that you can make by setting these properties are limited.</span></span> <span data-ttu-id="5323d-107">Weitere Anpassungen können Sie durch Erstellen einer Vorlage mit der [**ControlTemplate**](https://msdn.microsoft.com/library/windows/apps/br209391)-Klasse angeben.</span><span class="sxs-lookup"><span data-stu-id="5323d-107">You can specify additional customizations by creating a template using the [**ControlTemplate**](https://msdn.microsoft.com/library/windows/apps/br209391) class.</span></span> <span data-ttu-id="5323d-108">Hier erfahren Sie, wie Sie eine **ControlTemplate** erstellen, um das Erscheinungsbild eines [**CheckBox**](https://msdn.microsoft.com/library/windows/apps/br209316)-Steuerelements anzupassen.</span><span class="sxs-lookup"><span data-stu-id="5323d-108">Here, we show you how to create a **ControlTemplate** to customize the appearance of a [**CheckBox**](https://msdn.microsoft.com/library/windows/apps/br209316) control.</span></span>

> <span data-ttu-id="5323d-109">**Wichtige APIs:** [**Klasse „ControlTemplate“**](https://msdn.microsoft.com/library/windows/apps/br209391), [**Eigenschaft „Control.Template“**](https://msdn.microsoft.com/library/windows/apps/xaml/windows.ui.xaml.controls.control.template.aspx)</span><span class="sxs-lookup"><span data-stu-id="5323d-109">**Important APIs**: [**ControlTemplate class**](https://msdn.microsoft.com/library/windows/apps/br209391), [**Control.Template property**](https://msdn.microsoft.com/library/windows/apps/xaml/windows.ui.xaml.controls.control.template.aspx)</span></span>

## <a name="custom-control-template-example"></a><span data-ttu-id="5323d-110">Beispiel für eine benutzerdefinierte Steuerelementvorlage</span><span class="sxs-lookup"><span data-stu-id="5323d-110">Custom control template example</span></span>

<span data-ttu-id="5323d-111">Standardmäßig wird der Inhalt eines [**CheckBox**](https://msdn.microsoft.com/library/windows/apps/br209316)-Steuerelements (also die Zeichenfolge oder das Objekt neben dem **CheckBox**-Element) rechts neben dem Auswahlfeld platziert. Ein Häkchen gibt an, dass das **CheckBox**-Element von einem Benutzer aktiviert wurde.</span><span class="sxs-lookup"><span data-stu-id="5323d-111">By default, a [**CheckBox**](https://msdn.microsoft.com/library/windows/apps/br209316) control puts its content (the string or object next to the **CheckBox**) to the right of the selection box, and a check mark indicates that a user selected the **CheckBox**.</span></span> <span data-ttu-id="5323d-112">Diese Merkmale stellen die visuelle Struktur und das visuelle Verhalten des **CheckBox**-Elements dar.</span><span class="sxs-lookup"><span data-stu-id="5323d-112">These characteristics represent the visual structure and visual behavior of the **CheckBox**.</span></span>

<span data-ttu-id="5323d-113">Hier sehen Sie ein [**CheckBox**](https://msdn.microsoft.com/library/windows/apps/br209316)-Element mit standardmäßiger [**ControlTemplate**](https://msdn.microsoft.com/library/windows/apps/br209391)-Klasse und den Zuständen `Unchecked`, `Checked` und `Indeterminate`.</span><span class="sxs-lookup"><span data-stu-id="5323d-113">Here's a [**CheckBox**](https://msdn.microsoft.com/library/windows/apps/br209316) using the default [**ControlTemplate**](https://msdn.microsoft.com/library/windows/apps/br209391) shown in the `Unchecked`, `Checked`, and `Indeterminate` states.</span></span>

![Standardvorlage für CheckBox-Steuerelemente](images/templates-checkbox-states-default.png)

<span data-ttu-id="5323d-115">Sie können diese Merkmale ändern, indem Sie eine [**ControlTemplate**](https://msdn.microsoft.com/library/windows/apps/br209391) für das [**CheckBox**](https://msdn.microsoft.com/library/windows/apps/br209316)-Element erstellen.</span><span class="sxs-lookup"><span data-stu-id="5323d-115">You can change these characteristics by creating a [**ControlTemplate**](https://msdn.microsoft.com/library/windows/apps/br209391) for the [**CheckBox**](https://msdn.microsoft.com/library/windows/apps/br209316).</span></span> <span data-ttu-id="5323d-116">Ein Beispiel: Sie möchten den Inhalt des Kontrollkästchens unter dem Auswahlfeld platzieren und durch ein **X** angeben, dass das Kontrollkästchen vom Benutzer aktiviert wurde.</span><span class="sxs-lookup"><span data-stu-id="5323d-116">For example, if you want the content of the check box to be below the selection box, and you want to use an **X** to indicate that a user selected the check box.</span></span> <span data-ttu-id="5323d-117">Diese Merkmale geben Sie dann in der **ControlTemplate**-Klasse des **CheckBox**-Elements an.</span><span class="sxs-lookup"><span data-stu-id="5323d-117">You specify these characteristics in the **ControlTemplate** of the **CheckBox**.</span></span>

<span data-ttu-id="5323d-118">Wenn Sie eine benutzerdefinierte Vorlage für ein Steuerelement verwenden möchten, weisen Sie die [**ControlTemplate**](https://msdn.microsoft.com/library/windows/apps/br209391) der [**Template**](https://msdn.microsoft.com/library/windows/apps/br209465)-Eigenschaft des Steuerelements zu.</span><span class="sxs-lookup"><span data-stu-id="5323d-118">To use a custom template with a control, assign the [**ControlTemplate**](https://msdn.microsoft.com/library/windows/apps/br209391) to the [**Template**](https://msdn.microsoft.com/library/windows/apps/br209465) property of the control.</span></span> <span data-ttu-id="5323d-119">Hier sehen Sie ein [**CheckBox**](https://msdn.microsoft.com/library/windows/apps/br209316)-Element mit der **ControlTemplate**-Klasse `CheckBoxTemplate1`.</span><span class="sxs-lookup"><span data-stu-id="5323d-119">Here's a [**CheckBox**](https://msdn.microsoft.com/library/windows/apps/br209316) using a **ControlTemplate** called `CheckBoxTemplate1`.</span></span> <span data-ttu-id="5323d-120">Den XAML (Extensible Application Markup Language)-Code für die **ControlTemplate** zeigen wir im nächsten Abschnitt.</span><span class="sxs-lookup"><span data-stu-id="5323d-120">We show the Extensible Application Markup Language (XAML) for the **ControlTemplate** in the next section.</span></span>

```XAML
<CheckBox Content="CheckBox" Template="{StaticResource CheckBoxTemplate1}" IsThreeState="True" Margin="20"/>
```

<span data-ttu-id="5323d-121">So sieht dieses [**CheckBox**](https://msdn.microsoft.com/library/windows/apps/br209316)-Element in den Zuständen `Unchecked`, `Checked`, and `Indeterminate` aus, nachdem die Vorlage angewendet wurde.</span><span class="sxs-lookup"><span data-stu-id="5323d-121">Here's how this [**CheckBox**](https://msdn.microsoft.com/library/windows/apps/br209316) looks in the `Unchecked`, `Checked`, and `Indeterminate` states after we apply our template.</span></span>

![Benutzerdefinierte Vorlage für CheckBox-Steuerelemente](images/templates-checkbox-states.png)

## <a name="specify-the-visual-structure-of-a-control"></a><span data-ttu-id="5323d-123">Angeben der visuellen Struktur von Steuerelementen</span><span class="sxs-lookup"><span data-stu-id="5323d-123">Specify the visual structure of a control</span></span>

<span data-ttu-id="5323d-124">Wenn Sie eine [**ControlTemplate**](https://msdn.microsoft.com/library/windows/apps/br209391)-Klasse erstellen, kombinieren Sie [**FrameworkElement**](https://msdn.microsoft.com/library/windows/apps/br208706)-Objekte, um ein einzelnes Steuerelement zu erstellen.</span><span class="sxs-lookup"><span data-stu-id="5323d-124">When you create a [**ControlTemplate**](https://msdn.microsoft.com/library/windows/apps/br209391), you combine [**FrameworkElement**](https://msdn.microsoft.com/library/windows/apps/br208706) objects to build a single control.</span></span> <span data-ttu-id="5323d-125">Eine **ControlTemplate**-Klasse kann nur ein **FrameworkElement** als Stammelement besitzen.</span><span class="sxs-lookup"><span data-stu-id="5323d-125">A **ControlTemplate** must have only one **FrameworkElement** as its root element.</span></span> <span data-ttu-id="5323d-126">Das Stammelement enthält in der Regel weitere **FrameworkElement**-Objekte.</span><span class="sxs-lookup"><span data-stu-id="5323d-126">The root element usually contains other **FrameworkElement** objects.</span></span> <span data-ttu-id="5323d-127">Die Kombination aus Objekten ergibt die visuelle Struktur des Steuerelements.</span><span class="sxs-lookup"><span data-stu-id="5323d-127">The combination of objects makes up the control's visual structure.</span></span>

<span data-ttu-id="5323d-128">Dieser XAML-Code erstellt eine [**ControlTemplate**](https://msdn.microsoft.com/library/windows/apps/br209391)-Klasse für ein [**CheckBox**](https://msdn.microsoft.com/library/windows/apps/br209316)-Element, die festlegt, dass sich das Steuerelement unter dem Auswahlfeld befinden soll.</span><span class="sxs-lookup"><span data-stu-id="5323d-128">This XAML creates a [**ControlTemplate**](https://msdn.microsoft.com/library/windows/apps/br209391) for a [**CheckBox**](https://msdn.microsoft.com/library/windows/apps/br209316) that specifies that the content of the control is below the selection box.</span></span> <span data-ttu-id="5323d-129">Das Stammelement ist eine [**Border**](https://msdn.microsoft.com/library/windows/apps/br209250)-Klasse.</span><span class="sxs-lookup"><span data-stu-id="5323d-129">The root element is a [**Border**](https://msdn.microsoft.com/library/windows/apps/br209250).</span></span> <span data-ttu-id="5323d-130">Das Beispiel gibt einen [**Path**](/uwp/api/Windows.UI.Xaml.Shapes.Path)-Wert an, um das **X** zu erstellen, mit darauf hinweist, dass ein Benutzer das **CheckBox**-Element aktiviert hat. Eine [**Ellipse**](/uwp/api/Windows.UI.Xaml.Shapes.Ellipse)-Klasse kennzeichnet einen unbestimmten Zustand.</span><span class="sxs-lookup"><span data-stu-id="5323d-130">The example specifies a [**Path**](/uwp/api/Windows.UI.Xaml.Shapes.Path) to create an **X** that indicates that a user selected the **CheckBox**, and an [**Ellipse**](/uwp/api/Windows.UI.Xaml.Shapes.Ellipse) that indicates an indeterminate state.</span></span> <span data-ttu-id="5323d-131">Beachten Sie, dass [**Opacity**](/uwp/api/Windows.UI.Xaml.UIElement.Opacity) für **Path** und **Ellipse** auf 0festgelegt ist, sodass beide standardmäßig nicht angezeigt werden.</span><span class="sxs-lookup"><span data-stu-id="5323d-131">Note that the [**Opacity**](/uwp/api/Windows.UI.Xaml.UIElement.Opacity) is set to 0 on the **Path** and the **Ellipse** so that by default, neither appear.</span></span>

<span data-ttu-id="5323d-132">[TemplateBinding](../../xaml-platform/templatebinding-markup-extension.md) stellt eine spezielle Bindung dar, die den Wert einer Eigenschaft in einer Steuerelementvorlage mit dem Wert einer anderen Eigenschaft verknüpft, die im Steuerelement mit Vorlagen verfügbar gemacht wird.</span><span class="sxs-lookup"><span data-stu-id="5323d-132">A [TemplateBinding](../../xaml-platform/templatebinding-markup-extension.md) is a special binding that links the value of a property in a control template to the value of some other exposed property on the templated control.</span></span> <span data-ttu-id="5323d-133">TemplateBinding kann nur in einer ControlTemplate-Definition in XAML verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="5323d-133">TemplateBinding can only be used within a ControlTemplate definition in XAML.</span></span> <span data-ttu-id="5323d-134">Weitere Informationen finden Sie unter [TemplateBinding-Markuperweiterung](../../xaml-platform/templatebinding-markup-extension.md).</span><span class="sxs-lookup"><span data-stu-id="5323d-134">See [TemplateBinding markup extension](../../xaml-platform/templatebinding-markup-extension.md) for more info.</span></span>

> [!NOTE]
> <span data-ttu-id="5323d-135">Ab Windows 10, Version 1809 ([SDK 17763](https://developer.microsoft.com/windows/downloads/windows-10-sdk)), können Sie [**X: Bind**](https://msdn.microsoft.com/library/windows/apps/Mt204783) -Markuperweiterungen an Orten verwenden Sie [TemplateBinding](../../xaml-platform/templatebinding-markup-extension.md).</span><span class="sxs-lookup"><span data-stu-id="5323d-135">Starting with Windows 10, version 1809 ([SDK 17763](https://developer.microsoft.com/windows/downloads/windows-10-sdk)), you can use [**x:Bind**](https://msdn.microsoft.com/library/windows/apps/Mt204783) markup extensions in places you use [TemplateBinding](../../xaml-platform/templatebinding-markup-extension.md).</span></span> <span data-ttu-id="5323d-136">Weitere Informationen finden Sie unter [TemplateBinding-Markuperweiterung](../../xaml-platform/templatebinding-markup-extension.md).</span><span class="sxs-lookup"><span data-stu-id="5323d-136">See [TemplateBinding markup extension](../../xaml-platform/templatebinding-markup-extension.md) for more info.</span></span>

```XAML
<ControlTemplate x:Key="CheckBoxTemplate1" TargetType="CheckBox">
    <Border BorderBrush="{TemplateBinding BorderBrush}"
            BorderThickness="{TemplateBinding BorderThickness}"
            Background="{TemplateBinding Background}">
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="*"/>
                <RowDefinition Height="25"/>
            </Grid.RowDefinitions>
            <Rectangle x:Name="NormalRectangle" Fill="Transparent" Height="20" Width="20"
                       Stroke="{ThemeResource SystemControlForegroundBaseMediumHighBrush}"
                       StrokeThickness="{ThemeResource CheckBoxBorderThemeThickness}"
                       UseLayoutRounding="False"/>
            <!-- Create an X to indicate that the CheckBox is selected. -->
            <Path x:Name="CheckGlyph"
                  Data="M103,240 L111,240 119,248 127,240 135,240 123,252 135,264 127,264 119,257 111,264 103,264 114,252 z"
                  Fill="{ThemeResource CheckBoxForegroundThemeBrush}"
                  FlowDirection="LeftToRight"
                  Height="14" Width="16" Opacity="0" Stretch="Fill"/>
            <Ellipse x:Name="IndeterminateGlyph"
                     Fill="{ThemeResource CheckBoxForegroundThemeBrush}"
                     Height="8" Width="8" Opacity="0" UseLayoutRounding="False" />
            <ContentPresenter x:Name="ContentPresenter"
                              ContentTemplate="{TemplateBinding ContentTemplate}"
                              Content="{TemplateBinding Content}"
                              Margin="{TemplateBinding Padding}" Grid.Row="1"
                              HorizontalAlignment="Center"
                              VerticalAlignment="{TemplateBinding VerticalContentAlignment}"/>
        </Grid>
    </Border>
</ControlTemplate>
```

## <a name="specify-the-visual-behavior-of-a-control"></a><span data-ttu-id="5323d-137">Festlegen des visuellen Verhaltens von Steuerelementen</span><span class="sxs-lookup"><span data-stu-id="5323d-137">Specify the visual behavior of a control</span></span>

<span data-ttu-id="5323d-138">Das visuelle Verhalten gibt das Erscheinungsbild eines Steuerelements in verschiedenen Zuständen an.</span><span class="sxs-lookup"><span data-stu-id="5323d-138">A visual behavior specifies the appearance of a control when it is in a certain state.</span></span> <span data-ttu-id="5323d-139">Das [**CheckBox**](https://msdn.microsoft.com/library/windows/apps/br209316)-Steuerelement besitzt 3Aktivierungszustände: `Checked`, `Unchecked` und `Indeterminate`.</span><span class="sxs-lookup"><span data-stu-id="5323d-139">The [**CheckBox**](https://msdn.microsoft.com/library/windows/apps/br209316) control has 3 check states: `Checked`, `Unchecked`, and `Indeterminate`.</span></span> <span data-ttu-id="5323d-140">Der Wert der [**IsChecked**](https://msdn.microsoft.com/library/windows/apps/br209798)-Eigenschaft bestimmt den Zustand des **CheckBox**, der wiederum festlegt, was im Feld angezeigt wird.</span><span class="sxs-lookup"><span data-stu-id="5323d-140">The value of the [**IsChecked**](https://msdn.microsoft.com/library/windows/apps/br209798) property determines the state of the **CheckBox**, and its state determines what appears in the box.</span></span>

<span data-ttu-id="5323d-141">Diese Tabelle enthält die möglichen Werte von [**IsChecked**](https://msdn.microsoft.com/library/windows/apps/br209798), die zugehörigen Zustände von [**CheckBox**](https://msdn.microsoft.com/library/windows/apps/br209316) und das Erscheinungsbild des **CheckBox**-Steuerelements.</span><span class="sxs-lookup"><span data-stu-id="5323d-141">This table lists the possible values of [**IsChecked**](https://msdn.microsoft.com/library/windows/apps/br209798), the corresponding states of the [**CheckBox**](https://msdn.microsoft.com/library/windows/apps/br209316), and the appearance of the **CheckBox**.</span></span>

|                     |                    |                         |
|---------------------|--------------------|-------------------------|
| <span data-ttu-id="5323d-142">**IsChecked**-Wert</span><span class="sxs-lookup"><span data-stu-id="5323d-142">**IsChecked** value</span></span> | <span data-ttu-id="5323d-143">**CheckBox**-Zustand</span><span class="sxs-lookup"><span data-stu-id="5323d-143">**CheckBox** state</span></span> | <span data-ttu-id="5323d-144">**CheckBox**-Darstellung</span><span class="sxs-lookup"><span data-stu-id="5323d-144">**CheckBox** appearance</span></span> |
| **<span data-ttu-id="5323d-145">true</span><span class="sxs-lookup"><span data-stu-id="5323d-145">true</span></span>**            | `Checked`          | <span data-ttu-id="5323d-146">Enthält ein „X“.</span><span class="sxs-lookup"><span data-stu-id="5323d-146">Contains an "X".</span></span>        |
| **<span data-ttu-id="5323d-147">false</span><span class="sxs-lookup"><span data-stu-id="5323d-147">false</span></span>**           | `Unchecked`        | <span data-ttu-id="5323d-148">Leer.</span><span class="sxs-lookup"><span data-stu-id="5323d-148">Empty.</span></span>                  |
| **<span data-ttu-id="5323d-149">Null</span><span class="sxs-lookup"><span data-stu-id="5323d-149">null</span></span>**            | `Indeterminate`    | <span data-ttu-id="5323d-150">Enthält einen Kreis.</span><span class="sxs-lookup"><span data-stu-id="5323d-150">Contains a circle.</span></span>      |


<span data-ttu-id="5323d-151">Das Erscheinungsbild eines Steuerelements in verschiedenen Zuständen wird mithilfe von [**VisualState**](https://msdn.microsoft.com/library/windows/apps/br209007)-Objekten angegeben.</span><span class="sxs-lookup"><span data-stu-id="5323d-151">You specify the appearance of a control when it is in a certain state by using [**VisualState**](https://msdn.microsoft.com/library/windows/apps/br209007) objects.</span></span> <span data-ttu-id="5323d-152">Eine **VisualState**-Klasse enthält eine [**Setter**](https://msdn.microsoft.com/library/windows/apps/br208817)- oder [**Storyboard**](https://msdn.microsoft.com/library/windows/apps/br243053)-Eigenschaft, mit der die Darstellung der Elementen in der [**ControlTemplate**](https://msdn.microsoft.com/library/windows/apps/br209391)-Klasse geändert wird.</span><span class="sxs-lookup"><span data-stu-id="5323d-152">A **VisualState** contains a [**Setter**](https://msdn.microsoft.com/library/windows/apps/br208817) or [**Storyboard**](https://msdn.microsoft.com/library/windows/apps/br243053) that changes the appearance of the elements in the [**ControlTemplate**](https://msdn.microsoft.com/library/windows/apps/br209391).</span></span> <span data-ttu-id="5323d-153">Wenn das Steuerelement in den Zustand übergeht, den die [**VisualState.Name**](https://msdn.microsoft.com/library/windows/apps/br209031) angibt, werden die Änderungen in der **Setter**- oder [**Storyboard**](https://msdn.microsoft.com/library/windows/apps/br210490)-Eigenschaft angewendet.</span><span class="sxs-lookup"><span data-stu-id="5323d-153">When the control enters the state that the [**VisualState.Name**](https://msdn.microsoft.com/library/windows/apps/br209031) property specifies, the property changes in the **Setter** or [**Storyboard**](https://msdn.microsoft.com/library/windows/apps/br210490) are applied.</span></span> <span data-ttu-id="5323d-154">Verlässt das Steuerelement den Zustand wieder, werden die Änderungen entfernt.</span><span class="sxs-lookup"><span data-stu-id="5323d-154">When the control exits the state, the changes are removed.</span></span> <span data-ttu-id="5323d-155">**VisualState**-Objekte werden [**VisualStateGroup**](https://msdn.microsoft.com/library/windows/apps/br209014)-Objekten hinzugefügt.</span><span class="sxs-lookup"><span data-stu-id="5323d-155">You add **VisualState** objects to [**VisualStateGroup**](https://msdn.microsoft.com/library/windows/apps/br209014) objects.</span></span> <span data-ttu-id="5323d-156">**VisualStateGroup**-Objekte werden der angefügten [**VisualStateManager.VisualStateGroups**](https://msdn.microsoft.com/library/windows/apps/hh738505)-Eigenschaft hinzugefügt. Diesel legen Sie im [**FrameworkElement**](https://msdn.microsoft.com/library/windows/apps/br208706)-Stammelement der **ControlTemplate**-Klasse fest.</span><span class="sxs-lookup"><span data-stu-id="5323d-156">You add **VisualStateGroup** objects to the [**VisualStateManager.VisualStateGroups**](https://msdn.microsoft.com/library/windows/apps/hh738505) attached property, which you set on the root [**FrameworkElement**](https://msdn.microsoft.com/library/windows/apps/br208706) of the **ControlTemplate**.</span></span>

<span data-ttu-id="5323d-157">Dieser XAML-Code zeigt die [**VisualState**](https://msdn.microsoft.com/library/windows/apps/br209007)-Objekte für die Zustände `Checked`, `Unchecked` und `Indeterminate`.</span><span class="sxs-lookup"><span data-stu-id="5323d-157">This XAML shows the [**VisualState**](https://msdn.microsoft.com/library/windows/apps/br209007) objects for the `Checked`, `Unchecked`, and `Indeterminate` states.</span></span> <span data-ttu-id="5323d-158">Das Beispiel legt die angefügte [**VisualStateManager.VisualStateGroups**](https://msdn.microsoft.com/library/windows/apps/hh738505)-Eigenschaft in der [**Border**](https://msdn.microsoft.com/library/windows/apps/br209250)-Klasse fest. Dies ist das Stammelement der [**ControlTemplate**](https://msdn.microsoft.com/library/windows/apps/br209391)-Klasse.</span><span class="sxs-lookup"><span data-stu-id="5323d-158">The example sets the [**VisualStateManager.VisualStateGroups**](https://msdn.microsoft.com/library/windows/apps/hh738505) attached property on the [**Border**](https://msdn.microsoft.com/library/windows/apps/br209250), which is the root element of the [**ControlTemplate**](https://msdn.microsoft.com/library/windows/apps/br209391).</span></span> <span data-ttu-id="5323d-159">Der Zustand `Checked` der **VisualState**-Eigenschaft gibt an, dass die [**Opacity**](/uwp/api/Windows.UI.Xaml.UIElement.Opacity)-Eigenschaft des [**Path**](/uwp/api/Windows.UI.Xaml.Shapes.Path)-Werts namens `CheckGlyph` (den wir im vorherigen Beispiel gezeigt haben) auf1 gesetzt ist.</span><span class="sxs-lookup"><span data-stu-id="5323d-159">The `Checked` **VisualState** specifies that the [**Opacity**](/uwp/api/Windows.UI.Xaml.UIElement.Opacity) of the [**Path**](/uwp/api/Windows.UI.Xaml.Shapes.Path) named `CheckGlyph` (which we show in the previous example) is 1.</span></span> <span data-ttu-id="5323d-160">Der Zustand `Indeterminate` der **VisualState**-Eigenschaft gibt an, dass die **Opacity**-Eigenschaft des [**Ellipse**](/uwp/api/Windows.UI.Xaml.Shapes.Ellipse)-Werts namens `IndeterminateGlyph` auf1 gesetzt ist.</span><span class="sxs-lookup"><span data-stu-id="5323d-160">The `Indeterminate` **VisualState** specifies that the **Opacity** of the [**Ellipse**](/uwp/api/Windows.UI.Xaml.Shapes.Ellipse) named `IndeterminateGlyph` is 1.</span></span> <span data-ttu-id="5323d-161">Da der Zustand `Unchecked` der **VisualState**-Eigenschaft keine [**Setter**](https://msdn.microsoft.com/library/windows/apps/br208817)- oder [**Storyboard**](https://msdn.microsoft.com/library/windows/apps/br210490)-Eigenschaft besitzt, kehrt [**CheckBox**](https://msdn.microsoft.com/library/windows/apps/br209316) zur Standarddarstellung zurück.</span><span class="sxs-lookup"><span data-stu-id="5323d-161">The `Unchecked` **VisualState** has no [**Setter**](https://msdn.microsoft.com/library/windows/apps/br208817) or [**Storyboard**](https://msdn.microsoft.com/library/windows/apps/br210490), so the [**CheckBox**](https://msdn.microsoft.com/library/windows/apps/br209316) returns to its default appearance.</span></span>

```XAML
<ControlTemplate x:Key="CheckBoxTemplate1" TargetType="CheckBox">
    <Border BorderBrush="{TemplateBinding BorderBrush}"
            BorderThickness="{TemplateBinding BorderThickness}"
            Background="{TemplateBinding Background}">

        <VisualStateManager.VisualStateGroups>
            <VisualStateGroup x:Name="CheckStates">
                <VisualState x:Name="Checked">
                    <VisualState.Setters>
                        <Setter Target="CheckGlyph.Opacity" Value="1"/>
                    </VisualState.Setters>
                    <!-- This Storyboard is equivalent to the Setter. -->
                    <!--<Storyboard>
                        <DoubleAnimation Duration="0" To="1"
                         Storyboard.TargetName="CheckGlyph" Storyboard.TargetProperty="Opacity"/>
                    </Storyboard>-->
                </VisualState>
                <VisualState x:Name="Unchecked"/>
                <VisualState x:Name="Indeterminate">
                    <VisualState.Setters>
                        <Setter Target="IndeterminateGlyph.Opacity" Value="1"/>
                    </VisualState.Setters>
                    <!-- This Storyboard is equivalent to the Setter. -->
                    <!--<Storyboard>
                        <DoubleAnimation Duration="0" To="1"
                         Storyboard.TargetName="IndeterminateGlyph" Storyboard.TargetProperty="Opacity"/>
                    </Storyboard>-->
                </VisualState>
            </VisualStateGroup>
        </VisualStateManager.VisualStateGroups>

        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="*"/>
                <RowDefinition Height="25"/>
            </Grid.RowDefinitions>
            <Rectangle x:Name="NormalRectangle" Fill="Transparent" Height="20" Width="20"
                       Stroke="{ThemeResource SystemControlForegroundBaseMediumHighBrush}"
                       StrokeThickness="{ThemeResource CheckBoxBorderThemeThickness}"
                       UseLayoutRounding="False"/>
            <!-- Create an X to indicate that the CheckBox is selected. -->
            <Path x:Name="CheckGlyph"
                  Data="M103,240 L111,240 119,248 127,240 135,240 123,252 135,264 127,264 119,257 111,264 103,264 114,252 z"
                  Fill="{ThemeResource CheckBoxForegroundThemeBrush}"
                  FlowDirection="LeftToRight"
                  Height="14" Width="16" Opacity="0" Stretch="Fill"/>
            <Ellipse x:Name="IndeterminateGlyph"
                     Fill="{ThemeResource CheckBoxForegroundThemeBrush}"
                     Height="8" Width="8" Opacity="0" UseLayoutRounding="False" />
            <ContentPresenter x:Name="ContentPresenter"
                              ContentTemplate="{TemplateBinding ContentTemplate}"
                              Content="{TemplateBinding Content}"
                              Margin="{TemplateBinding Padding}" Grid.Row="1"
                              HorizontalAlignment="Center"
                              VerticalAlignment="{TemplateBinding VerticalContentAlignment}"/>
        </Grid>
    </Border>
</ControlTemplate>
```

<span data-ttu-id="5323d-162">Zum besseren Verständnis der Funktionsweise von [**VisualState**](https://msdn.microsoft.com/library/windows/apps/br209007)-Objekten sollten Sie berücksichtigen, was passiert, wenn das [**CheckBox**](https://msdn.microsoft.com/library/windows/apps/br209316) vom `Unchecked`-Zustand in den `Checked`-Zustand, dann in den `Indeterminate`-Zustand und anschließend zurück in den `Unchecked`-Zustand wechselt.</span><span class="sxs-lookup"><span data-stu-id="5323d-162">To better understand how [**VisualState**](https://msdn.microsoft.com/library/windows/apps/br209007) objects work, consider what happens when the [**CheckBox**](https://msdn.microsoft.com/library/windows/apps/br209316) goes from the `Unchecked` state to the `Checked` state, then to the `Indeterminate` state, and then back to the `Unchecked` state.</span></span> <span data-ttu-id="5323d-163">Hier sehen Sie die Übergänge.</span><span class="sxs-lookup"><span data-stu-id="5323d-163">Here are the transitions.</span></span>

|                                      |                                                                                                                                                                                                                                                                                                                                                |                                                   |
|--------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------|
| <span data-ttu-id="5323d-164">Zustandsübergänge</span><span class="sxs-lookup"><span data-stu-id="5323d-164">State transition</span></span>                     | <span data-ttu-id="5323d-165">Folgendes passiert:</span><span class="sxs-lookup"><span data-stu-id="5323d-165">What happens</span></span>                                                                                                                                                                                                                                                                                                                                   | <span data-ttu-id="5323d-166">CheckBox-Darstellung nach Abschluss des Übergangs</span><span class="sxs-lookup"><span data-stu-id="5323d-166">CheckBox appearance when the transition completes</span></span> |
| <span data-ttu-id="5323d-167">Von `Unchecked` in `Checked`.</span><span class="sxs-lookup"><span data-stu-id="5323d-167">From `Unchecked` to `Checked`.</span></span>       | <span data-ttu-id="5323d-168">Der [**Setter**](https://msdn.microsoft.com/library/windows/apps/br208817)-Wert des `Checked` [**VisualState**](https://msdn.microsoft.com/library/windows/apps/br209007) wird angewendet. Daher hat die [**Opacity**](/uwp/api/Windows.UI.Xaml.UIElement.Opacity)-Eigenschaft von `CheckGlyph` den Wert1.</span><span class="sxs-lookup"><span data-stu-id="5323d-168">The [**Setter**](https://msdn.microsoft.com/library/windows/apps/br208817) value of the `Checked` [**VisualState**](https://msdn.microsoft.com/library/windows/apps/br209007) is applied, so the [**Opacity**](/uwp/api/Windows.UI.Xaml.UIElement.Opacity) of `CheckGlyph` is 1.</span></span>                                                                                                                                                         | <span data-ttu-id="5323d-169">Es wird ein „X“ angezeigt.</span><span class="sxs-lookup"><span data-stu-id="5323d-169">An X is displayed.</span></span>                                |
| <span data-ttu-id="5323d-170">Von `Checked` in `Indeterminate`.</span><span class="sxs-lookup"><span data-stu-id="5323d-170">From `Checked` to `Indeterminate`.</span></span>   | <span data-ttu-id="5323d-171">Der [**Setter**](https://msdn.microsoft.com/library/windows/apps/br208817)-Wert von `Indeterminate` [**VisualState**](https://msdn.microsoft.com/library/windows/apps/br209007) wird angewendet. Daher hat die [**Opacity**](/uwp/api/Windows.UI.Xaml.UIElement.Opacity)-Eigenschaft von `IndeterminateGlyph` den Wert1.</span><span class="sxs-lookup"><span data-stu-id="5323d-171">The [**Setter**](https://msdn.microsoft.com/library/windows/apps/br208817) value of the `Indeterminate` [**VisualState**](https://msdn.microsoft.com/library/windows/apps/br209007) is applied, so the [**Opacity**](/uwp/api/Windows.UI.Xaml.UIElement.Opacity) of `IndeterminateGlyph` is 1.</span></span> <span data-ttu-id="5323d-172">Der **Setter**-Wert von `Checked` **VisualState** wird entfernt. Daher hat die [**Opacity**](https://msdn.microsoft.com/library/windows/apps/br228078)-Eigenschaft des `CheckGlyph`-Zustands den Wert0.</span><span class="sxs-lookup"><span data-stu-id="5323d-172">The **Setter** value of the `Checked` **VisualState** is removed, so the [**Opacity**](https://msdn.microsoft.com/library/windows/apps/br228078) of `CheckGlyph` is 0.</span></span> | <span data-ttu-id="5323d-173">Ein Kreis wird angezeigt.</span><span class="sxs-lookup"><span data-stu-id="5323d-173">A circle is displayed.</span></span>                            |
| <span data-ttu-id="5323d-174">Von `Indeterminate` in `Unchecked`.</span><span class="sxs-lookup"><span data-stu-id="5323d-174">From `Indeterminate` to `Unchecked`.</span></span> | <span data-ttu-id="5323d-175">Der [**Setter**](https://msdn.microsoft.com/library/windows/apps/br208817)-Wert von `Indeterminate` [**VisualState**](https://msdn.microsoft.com/library/windows/apps/br209007) wird entfernt. Daher hat die [**Opacity**](/uwp/api/Windows.UI.Xaml.UIElement.Opacity)-Eigenschaft des `IndeterminateGlyph`-Zustands den Wert0.</span><span class="sxs-lookup"><span data-stu-id="5323d-175">The [**Setter**](https://msdn.microsoft.com/library/windows/apps/br208817) value of the `Indeterminate` [**VisualState**](https://msdn.microsoft.com/library/windows/apps/br209007) is removed, so the [**Opacity**](/uwp/api/Windows.UI.Xaml.UIElement.Opacity) of `IndeterminateGlyph` is 0.</span></span>                                                                                                                                           | <span data-ttu-id="5323d-176">Es wird nichts angezeigt.</span><span class="sxs-lookup"><span data-stu-id="5323d-176">Nothing is displayed.</span></span>                             |

 
<span data-ttu-id="5323d-177">Weitere Informationen zum Erstellen visueller Zustände für Steuerelemente und insbesondere zum Verwenden der [**Storyboard**](https://msdn.microsoft.com/library/windows/apps/br210490)-Klasse und der Animationstypen finden Sie unter [Storyboardanimationen für visuelle Zustände](https://msdn.microsoft.com/library/windows/apps/xaml/jj819808).</span><span class="sxs-lookup"><span data-stu-id="5323d-177">For more info about how to create visual states for controls, and in particular how to use the [**Storyboard**](https://msdn.microsoft.com/library/windows/apps/br210490) class and the animation types, see [Storyboarded animations for visual states](https://msdn.microsoft.com/library/windows/apps/xaml/jj819808).</span></span>

## <a name="use-tools-to-work-with-themes-easily"></a><span data-ttu-id="5323d-178">Verwenden Sie für die Arbeit mit Designs Tools.</span><span class="sxs-lookup"><span data-stu-id="5323d-178">Use tools to work with themes easily</span></span>

<span data-ttu-id="5323d-179">Wenn Sie schnell Designs auf Ihre Steuerelemente anwenden möchten, klicken Sie in der Microsoft Visual Studio-**Dokumentgliederung** mit der rechten Maustaste auf ein Steuerelement und wählen **Design bearbeiten** oder **Stil bearbeiten** aus (je nach Steuerelement).</span><span class="sxs-lookup"><span data-stu-id="5323d-179">A fast way to apply themes to your controls is to right-click on a control on the Microsoft Visual Studio **Document Outline** and select **Edit Theme** or **Edit Style** (depending on the control you are right-clicking on).</span></span> <span data-ttu-id="5323d-180">Anschließend können Sie ein vorhandenes Design anwenden, indem Sie **Ressource übernehmen** auswählen, oder ein neues erstellen, indem Sie **Create Empty** auswählen.</span><span class="sxs-lookup"><span data-stu-id="5323d-180">You can then apply an existing theme by selecting **Apply Resource** or define a new one by selecting **Create Empty**.</span></span>

## <a name="controls-and-accessibility"></a><span data-ttu-id="5323d-181">Steuerelemente und Barrierefreiheit</span><span class="sxs-lookup"><span data-stu-id="5323d-181">Controls and accessibility</span></span>

<span data-ttu-id="5323d-182">Beim Erstellen einer neuen Vorlage für ein Steuerelement können Sie zusätzlich zur eventuellen Änderung des Verhaltens und der visuellen Darstellung des Steuerelements auch die Art und Weise ändern, wie sich das Steuerelement selbst für Barrierefreiheits-Frameworks repräsentiert.</span><span class="sxs-lookup"><span data-stu-id="5323d-182">When you create a new template for a control, in addition to possibly changing the control's behavior and visual appearance, you might also be changing how the control represents itself to accessibility frameworks.</span></span> <span data-ttu-id="5323d-183">Die Universelle Windows-Plattform (UWP) unterstützt das Benutzeroberflächenautomatisierungs-Framework von Microsoft für die Barrierefreiheit.</span><span class="sxs-lookup"><span data-stu-id="5323d-183">The Universal Windows Platform (UWP) supports the Microsoft UI Automation framework for accessibility.</span></span> <span data-ttu-id="5323d-184">Alle Standardsteuerelemente und zugehörigen Vorlagen bieten Unterstützung für allgemeine Steuerelementtypen zur Benutzeroberflächenautomatisierung und Muster, die für den Zweck und die Funktion des Steuerelements geeignet sind.</span><span class="sxs-lookup"><span data-stu-id="5323d-184">All of the default controls and their templates have support for common UI Automation control types and patterns that are appropriate for the control's purpose and function.</span></span> <span data-ttu-id="5323d-185">Diese Steuerelementtypen und Muster werden von Benutzeroberflächenautomatisierungs-Clients interpretiert, beispielsweise von Hilfstechnologien, und dies ermöglicht die Zugriffsmöglichkeit auf ein Steuerelement als Bestandteil einer barrierefreien größeren App-UI.</span><span class="sxs-lookup"><span data-stu-id="5323d-185">These control types and patterns are interpreted by UI Automation clients such as assistive technologies, and this enables a control to be accessible as a part of a larger accessible app UI.</span></span>

<span data-ttu-id="5323d-186">Um die grundlegende Steuerlogik zu trennen und auch einige architekturbezogene Anforderungen der Benutzeroberflächenautomatisierung zu erfüllen, ist die Unterstützung der Barrierefreiheit von Steuerelementklassen in einer separaten Klasse in Form eines Automatisierungspeers enthalten.</span><span class="sxs-lookup"><span data-stu-id="5323d-186">To separate the basic control logic and also to satisfy some of the architectural requirements of UI Automation, control classes include their accessibility support in a separate class, an automation peer.</span></span> <span data-ttu-id="5323d-187">Die Automatisierungspeers interagieren mitunter mit den Steuerelementvorlagen, weil die Peers von der Existenz bestimmter benannter Teile in den Vorlagen ausgehen, sodass Funktionen wie die Aktivierung von Hilfstechnologien zum Aufrufen von Schaltflächenaktionen möglich sind.</span><span class="sxs-lookup"><span data-stu-id="5323d-187">The automation peers sometimes have interactions with the control templates because the peers expect certain named parts to exist in the templates, so that functionality such as enabling assistive technologies to invoke actions of buttons is possible.</span></span>

<span data-ttu-id="5323d-188">Beim Erstellen eines vollständig neuen, benutzerdefinierten Steuerelements sollten Sie mitunter auch einen neuen Automatisierungspeer für das Steuerelement erstellen.</span><span class="sxs-lookup"><span data-stu-id="5323d-188">When you create a completely new custom control, you sometimes also will want to create a new automation peer to go along with it.</span></span> <span data-ttu-id="5323d-189">Weitere Informationen finden Sie unter [Benutzerdefinierte Automatisierungspeers](../accessibility/custom-automation-peers.md).</span><span class="sxs-lookup"><span data-stu-id="5323d-189">For more info, see [Custom automation peers](../accessibility/custom-automation-peers.md).</span></span>

## <a name="learn-more-about-a-controls-default-template"></a><span data-ttu-id="5323d-190">Weitere Informationen zur Standardvorlage eines Steuerelements</span><span class="sxs-lookup"><span data-stu-id="5323d-190">Learn more about a control's default template</span></span>

<span data-ttu-id="5323d-191">Die Themen, in denen die Stile und Vorlagen für XAML-Steuerelemente dokumentiert werden, enthalten Auszüge des XAML-Anfangscodes, der genutzt wird, wenn Sie die bereits erläuterten Verfahren zum **Bearbeiten von Designs** oder zum **Bearbeiten von Stilen** verwenden.</span><span class="sxs-lookup"><span data-stu-id="5323d-191">The topics that document the styles and templates for XAML controls show you excerpts of the same starting XAML you'd see if you used the **Edit Theme** or **Edit Style** techniques explained previously.</span></span> <span data-ttu-id="5323d-192">In jedem Thema sind die Namen der Ansichtszustände, die Designressourcen und der vollständige XAML-Code für den Stil aufgeführt, der die Vorlage enthält.</span><span class="sxs-lookup"><span data-stu-id="5323d-192">Each topic lists the names of the visual states, the theme resources used, and the full XAML for the style that contains the template.</span></span> <span data-ttu-id="5323d-193">Die Themen können eine nützliche Hilfe darstellen, wenn Sie bereits mit der Änderung einer Vorlage begonnen haben und sehen möchten, wie die Vorlage im Originalzustand ausgesehen hat. Außerdem können Sie sicherstellen, dass die neue Vorlage über alle erforderlichen benannten Ansichtszustände verfügt.</span><span class="sxs-lookup"><span data-stu-id="5323d-193">The topics can be useful guidance if you've already started modifying a template and want to see what the original template looked like, or to verify that your new template has all of the required named visual states.</span></span>

## <a name="theme-resources-in-control-templates"></a><span data-ttu-id="5323d-194">Designressourcen in Steuerelementvorlagen</span><span class="sxs-lookup"><span data-stu-id="5323d-194">Theme resources in control templates</span></span>

<span data-ttu-id="5323d-195">Möglicherweise sind Ihnen bei einigen Attributen in den XAML-Beispielen Ressourcenverweise aufgefallen, für die die [{ThemeResource}-Markuperweiterung](../../xaml-platform/themeresource-markup-extension.md) verwendet wird.</span><span class="sxs-lookup"><span data-stu-id="5323d-195">For some of the attributes in the XAML examples, you may have noticed resource references that use the [{ThemeResource} markup extension](../../xaml-platform/themeresource-markup-extension.md).</span></span> <span data-ttu-id="5323d-196">Mit diesem Verfahren kann eine einzelne Steuerelementvorlage Ressourcen nutzen, bei denen es sich um unterschiedliche Werte handeln kann. Dies hängt davon ab, welches Design gerade aktiv ist.</span><span class="sxs-lookup"><span data-stu-id="5323d-196">This is a technique that enables a single control template to use resources that can be different values depending on which theme is currently active.</span></span> <span data-ttu-id="5323d-197">Besonders wichtig ist dies für Pinsel und Farben, da der Hauptzweck der Designs darin besteht, den Benutzern die Auswahl eines dunklen Designs, hellen Designs oder Designs mit hohem Kontrast zu ermöglichen, das auf das gesamte System angewendet wird.</span><span class="sxs-lookup"><span data-stu-id="5323d-197">This is particularly important for brushes and colors, because the main purpose of the themes is to enable users to choose whether they want a dark, light, or high contrast theme applied to the system overall.</span></span> <span data-ttu-id="5323d-198">Apps, für die das XAML-Ressourcensystem verwendet wird, können einen für das jeweilige Design geeigneten Ressourcensatz nutzen. Die Designauswahl in der UI einer App spiegelt dann die systemweite Designauswahl des Benutzers wider.</span><span class="sxs-lookup"><span data-stu-id="5323d-198">Apps that use the XAML resource system can use a resource set that's appropriate for that theme, so that the theme choices in an app's UI are reflective of the user's systemwide theme choice.</span></span>

 <span data-ttu-id="5323d-199">## Beispielcode herunterladen</span><span class="sxs-lookup"><span data-stu-id="5323d-199">## Get the sample code</span></span>

* [<span data-ttu-id="5323d-200">Beispiel für XAML-Steuerelemente-Galerie</span><span class="sxs-lookup"><span data-stu-id="5323d-200">XAML Controls gallery sample</span></span>](https://github.com/Microsoft/Windows-universal-samples/blob/master/Samples/XamlUIBasics)
* [<span data-ttu-id="5323d-201">Beispiel für ein benutzerdefiniertes Textbearbeitungssteuerelement</span><span class="sxs-lookup"><span data-stu-id="5323d-201">Custom text edit control sample</span></span>](https://github.com/Microsoft/Windows-universal-samples/blob/master/Samples/CustomEditControl)
