---
author: muhsinking
Description: You can define custom panels for XAML layout by deriving a custom class from the Panel class.
MS-HAID: dev\_ctrl\_layout\_txt.xaml\_custom\_panels\_overview
MSHAttr: PreferredLib:/library/windows/apps
Search.Product: eADQiWindows 10XVcnh
title: Übersicht über benutzerdefinierte XAML-Panels
ms.assetid: 0CD395CD-E2AB-429D-BB49-56A71C5CC35D
label: XAML custom panels overview (Windows apps)
template: detail.hbs
op-migration-status: ready
ms.author: mukin
ms.date: 05/19/2017
ms.topic: article
keywords: Windows10, UWP
ms.localizationpriority: medium
ms.openlocfilehash: d9856d564ffd36226a841c38eba65df0b62ee306
ms.sourcegitcommit: 9f8010fe67bb3372db1840de9f0be36097ed6258
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 11/16/2018
ms.locfileid: "7106433"
---
# <a name="xaml-custom-panels-overview"></a><span data-ttu-id="562e4-103">Übersicht über benutzerdefinierte XAML-Panels</span><span class="sxs-lookup"><span data-stu-id="562e4-103">XAML custom panels overview</span></span>

 

<span data-ttu-id="562e4-104">Ein *Panel* ist ein Objekt, das ein Layoutverhalten für die in diesem enthaltenen untergeordneten Elemente bereitstellt, wenn das Extensible Application Markup Language (XAML)-Layoutsystem ausgeführt und die Benutzeroberfläche Ihrer App dargestellt wird.</span><span class="sxs-lookup"><span data-stu-id="562e4-104">A *panel* is an object that provides a layout behavior for child elements it contains, when the Extensible Application Markup Language (XAML) layout system runs and your app UI is rendered.</span></span> 


> <span data-ttu-id="562e4-105">**Wichtige APIs**: [**Panel**](https://msdn.microsoft.com/library/windows/apps/br227511), [**ArrangeOverride**](https://msdn.microsoft.com/library/windows/apps/br208711), [**MeasureOverride**](https://msdn.microsoft.com/library/windows/apps/br208730)</span><span class="sxs-lookup"><span data-stu-id="562e4-105">**Important APIs**: [**Panel**](https://msdn.microsoft.com/library/windows/apps/br227511), [**ArrangeOverride**](https://msdn.microsoft.com/library/windows/apps/br208711), [**MeasureOverride**](https://msdn.microsoft.com/library/windows/apps/br208730)</span></span>

<span data-ttu-id="562e4-106">Sie können für ein XAML-Layout benutzerdefinierte Panels definieren, indem Sie eine benutzerdefinierte Klasse aus der [**Panel**](https://msdn.microsoft.com/library/windows/apps/br227511)-Klasse ableiten.</span><span class="sxs-lookup"><span data-stu-id="562e4-106">You can define custom panels for XAML layout by deriving a custom class from the [**Panel**](https://msdn.microsoft.com/library/windows/apps/br227511) class.</span></span> <span data-ttu-id="562e4-107">Das Verhalten für das Panel stellen Sie bereit, indem Sie die Methoden [**MeasureOverride**](https://msdn.microsoft.com/library/windows/apps/br208730) und [**ArrangeOverride**](https://msdn.microsoft.com/library/windows/apps/br208711) überschreiben und somit eine Logik liefern, die die untergeordneten Elemente misst und anordnet.</span><span class="sxs-lookup"><span data-stu-id="562e4-107">You provide behavior for your panel by overriding the [**MeasureOverride**](https://msdn.microsoft.com/library/windows/apps/br208730) and [**ArrangeOverride**](https://msdn.microsoft.com/library/windows/apps/br208711), supplying logic that measures and arranges the child elements.</span></span>

## <a name="the-panel-base-class"></a><span data-ttu-id="562e4-108">Die **Panel**-Basisklasse</span><span class="sxs-lookup"><span data-stu-id="562e4-108">The **Panel** base class</span></span>


<span data-ttu-id="562e4-109">Um eine benutzerdefinierte Panelklasse zu definieren, können Sie entweder eine direkte Ableitung von der [**Panel**](https://msdn.microsoft.com/library/windows/apps/br227511)-Klasse durchführen oder eine Ableitung von einer der praktischen Panelklassen durchführen, die nicht versiegelt sind, beispielsweise [**Grid**](https://msdn.microsoft.com/library/windows/apps/br242704) oder [**StackPanel**](https://msdn.microsoft.com/library/windows/apps/br209635).</span><span class="sxs-lookup"><span data-stu-id="562e4-109">To define a custom panel class, you can either derive from the [**Panel**](https://msdn.microsoft.com/library/windows/apps/br227511) class directly, or derive from one of the practical panel classes that aren't sealed, such as [**Grid**](https://msdn.microsoft.com/library/windows/apps/br242704) or [**StackPanel**](https://msdn.microsoft.com/library/windows/apps/br209635).</span></span> <span data-ttu-id="562e4-110">Es ist einfacher, eine Ableitung von **Panel** durchzuführen, da es schwierig sein kann, die vorhandene Layoutlogik eines Panels zu umgehen, für das bereits ein Layoutverhalten verfügbar ist.</span><span class="sxs-lookup"><span data-stu-id="562e4-110">It's easier to derive from **Panel**, because it can be difficult to work around the existing layout logic of a panel that already has layout behavior.</span></span> <span data-ttu-id="562e4-111">Außerdem verfügt ein Panel mit Verhalten möglicherweise über bereits vorhandene Eigenschaften, die nicht für Ihre Panel-Layoutfunktionen relevant sind.</span><span class="sxs-lookup"><span data-stu-id="562e4-111">Also, a panel with behavior might have existing properties that aren't relevant for your panel's layout features.</span></span>

<span data-ttu-id="562e4-112">Ihr benutzerdefiniertes Panel erbt von [**Panel**](https://msdn.microsoft.com/library/windows/apps/br227511) die folgenden APIs:</span><span class="sxs-lookup"><span data-stu-id="562e4-112">From [**Panel**](https://msdn.microsoft.com/library/windows/apps/br227511), your custom panel inherits these APIs:</span></span>

-   <span data-ttu-id="562e4-113">Die Eigenschaft [**Children**](https://msdn.microsoft.com/library/windows/apps/br227514)</span><span class="sxs-lookup"><span data-stu-id="562e4-113">The [**Children**](https://msdn.microsoft.com/library/windows/apps/br227514) property.</span></span>
-   <span data-ttu-id="562e4-114">Die Eigenschaften [**Background**](https://msdn.microsoft.com/library/windows/apps/br227512), [**ChildrenTransitions**](https://msdn.microsoft.com/library/windows/apps/br227515) und [**IsItemsHost**](https://msdn.microsoft.com/library/windows/apps/br227517) sowie die Bezeichner von Abhängigkeitseigenschaften</span><span class="sxs-lookup"><span data-stu-id="562e4-114">The [**Background**](https://msdn.microsoft.com/library/windows/apps/br227512), [**ChildrenTransitions**](https://msdn.microsoft.com/library/windows/apps/br227515) and [**IsItemsHost**](https://msdn.microsoft.com/library/windows/apps/br227517) properties, and the dependency property identifiers.</span></span> <span data-ttu-id="562e4-115">Keine dieser Eigenschaften ist virtuell, d.h., Sie müssen sie normalerweise nicht überschreiben oder ersetzen.</span><span class="sxs-lookup"><span data-stu-id="562e4-115">None of these properties are virtual, so you don't typically override or replace them.</span></span> <span data-ttu-id="562e4-116">In der Regel benötigen Sie diese Eigenschaften nicht für benutzerdefinierte Panelszenarien, noch nicht einmal zum Lesen von Werten.</span><span class="sxs-lookup"><span data-stu-id="562e4-116">You don't typically need these properties for custom panel scenarios, not even for reading values.</span></span>
-   <span data-ttu-id="562e4-117">Das Layout überschreibt die Methoden [**MeasureOverride**](https://msdn.microsoft.com/library/windows/apps/br208730) und [**ArrangeOverride**](https://msdn.microsoft.com/library/windows/apps/br208711).</span><span class="sxs-lookup"><span data-stu-id="562e4-117">The layout override methods [**MeasureOverride**](https://msdn.microsoft.com/library/windows/apps/br208730) and [**ArrangeOverride**](https://msdn.microsoft.com/library/windows/apps/br208711).</span></span> <span data-ttu-id="562e4-118">Diese wurden ursprünglich durch [**FrameworkElement**](https://msdn.microsoft.com/library/windows/apps/br208706) definiert.</span><span class="sxs-lookup"><span data-stu-id="562e4-118">These were originally defined by [**FrameworkElement**](https://msdn.microsoft.com/library/windows/apps/br208706).</span></span> <span data-ttu-id="562e4-119">Die [**Panel**](https://msdn.microsoft.com/library/windows/apps/br227511)-Basisklasse überschreibt diese Methoden nicht. Praktische Panels wie [**Grid**](https://msdn.microsoft.com/library/windows/apps/br242704) weisen jedoch Überschreibungsimplementierungen auf, die als systemeigener Code implementiert und vom System ausgeführt werden.</span><span class="sxs-lookup"><span data-stu-id="562e4-119">The base [**Panel**](https://msdn.microsoft.com/library/windows/apps/br227511) class doesn't override these, but practical panels like [**Grid**](https://msdn.microsoft.com/library/windows/apps/br242704) do have override implementations that are implemented as native code and are run by the system.</span></span> <span data-ttu-id="562e4-120">Der Hauptaufwand bei der Definition eines benutzerdefinierten Panels besteht in der Bereitstellung von neuen (oder zusätzlichen) Implementierungen für **ArrangeOverride** und **MeasureOverride**.</span><span class="sxs-lookup"><span data-stu-id="562e4-120">Providing new (or additive) implementations for **ArrangeOverride** and **MeasureOverride** is the bulk of the effort you need to define a custom panel.</span></span>
-   <span data-ttu-id="562e4-121">Alle anderen APIs von [**FrameworkElement**](https://msdn.microsoft.com/library/windows/apps/br208706), [**UIElement**](https://msdn.microsoft.com/library/windows/apps/br208911) und [**DependencyObject**](https://msdn.microsoft.com/library/windows/apps/br242356), wie [**Height**](/uwp/api/Windows.UI.Xaml.FrameworkElement.Height), [**Visibility**](https://msdn.microsoft.com/library/windows/apps/br208992) usw.</span><span class="sxs-lookup"><span data-stu-id="562e4-121">All the other APIs of [**FrameworkElement**](https://msdn.microsoft.com/library/windows/apps/br208706), [**UIElement**](https://msdn.microsoft.com/library/windows/apps/br208911) and [**DependencyObject**](https://msdn.microsoft.com/library/windows/apps/br242356), such as [**Height**](/uwp/api/Windows.UI.Xaml.FrameworkElement.Height), [**Visibility**](https://msdn.microsoft.com/library/windows/apps/br208992) and so on.</span></span> <span data-ttu-id="562e4-122">Sie verweisen in Ihren Layoutüberschreibungen manchmal auf Werte dieser Eigenschaften. Da diese jedoch nicht virtuell sind, überschreiben oder ersetzen Sie diese in der Regel nicht.</span><span class="sxs-lookup"><span data-stu-id="562e4-122">You sometimes reference values of these properties in your layout overrides, but they aren't virtual so you don't typically override or replace them.</span></span>

<span data-ttu-id="562e4-123">Hier werden XAML-Layoutkonzepte beschrieben, sodass Sie alle Möglichkeiten berücksichtigen können, wie sich ein benutzerdefiniertes Panel im Layout verhalten kann und verhalten sollte.</span><span class="sxs-lookup"><span data-stu-id="562e4-123">This focus here is to describe XAML layout concepts, so you can consider all the possibilities for how a custom panel can and should behave in layout.</span></span> <span data-ttu-id="562e4-124">Wenn Sie direkt beginnen möchten und sich ein Beispiel für eine benutzerdefinierte Panelimplementierung ansehen möchten, finden Sie weitere Informationen unter [„BoxPanel“, ein Beispiel für eine benutzerdefinierte Panelimplementierung](boxpanel-example-custom-panel.md).</span><span class="sxs-lookup"><span data-stu-id="562e4-124">If you'd rather jump right in and see an example custom panel implementation, see [BoxPanel, an example custom panel](boxpanel-example-custom-panel.md).</span></span>

## <a name="the-children-property"></a><span data-ttu-id="562e4-125">Die Eigenschaft **Children**</span><span class="sxs-lookup"><span data-stu-id="562e4-125">The **Children** property</span></span>


<span data-ttu-id="562e4-126">Die Eigenschaft [**Children**](https://msdn.microsoft.com/library/windows/apps/br227514) ist für benutzerdefinierte Panel relevant, da alle Klassen, die von [**Panel**](https://msdn.microsoft.com/library/windows/apps/br227511) abgeleitet werden, die Eigenschaft **Children** verwenden, um die in ihnen enthaltenen untergeordneten Elemente in einer Sammlung zu speichern.</span><span class="sxs-lookup"><span data-stu-id="562e4-126">The [**Children**](https://msdn.microsoft.com/library/windows/apps/br227514) property is relevant to a custom panel because all classes derived from [**Panel**](https://msdn.microsoft.com/library/windows/apps/br227511) use the **Children** property as the place to store their contained child elements in a collection.</span></span> <span data-ttu-id="562e4-127">**Children** ist als XAML-Inhaltseigenschaft für die Klasse **Panel** festgelegt, und alle von **Panel** abgeleiteten Klassen können das XAML-Inhaltseigenschaftsverhalten erben.</span><span class="sxs-lookup"><span data-stu-id="562e4-127">**Children** is designated as the XAML content property for the **Panel** class, and all classes derived from **Panel** can inherit the XAML content property behavior.</span></span> <span data-ttu-id="562e4-128">Wenn eine Eigenschaft als XAML-Inhaltseigenschaft festgelegt ist, bedeutet das, dass das XAML-Markup ein Eigenschaftenelement auslassen kann, wenn diese Eigenschaft im Markup angegeben wird. Die Werte werden als unmittelbare untergeordnete Markupelemente (der „Inhalt“) festgelegt.</span><span class="sxs-lookup"><span data-stu-id="562e4-128">If a property is designated the XAML content property, that means that XAML markup can omit a property element when specifying that property in markup, and the values are set as immediate markup children (the "content").</span></span> <span data-ttu-id="562e4-129">Wenn Sie beispielsweise eine Klasse mit dem Namen **CustomPanel** von **Panel** ableiten, die kein neues Verhalten definiert, können Sie dennoch dieses Markup verwenden:</span><span class="sxs-lookup"><span data-stu-id="562e4-129">For example, if you derive a class named **CustomPanel** from **Panel** that defines no new behavior, you can still use this markup:</span></span>

```XAML
<local:CustomPanel>
  <Button Name="button1"/>
  <Button Name="button2"/>
</local:CustomPanel>
```

<span data-ttu-id="562e4-130">Wenn ein XAML-Parser dieses Markup liest, ist [**Children**](https://msdn.microsoft.com/library/windows/apps/br227514) als die XAML-Inhaltseigenschaft für alle von [**Panel**](https://msdn.microsoft.com/library/windows/apps/br227511) abgeleiteten Typen bekannt. Daher fügt der Parser die beiden [**Button**](https://msdn.microsoft.com/library/windows/apps/br209265)-Elemente dem [**UIElementCollection**](https://msdn.microsoft.com/library/windows/apps/br227633)-Wert der **Children**-Eigenschaft hinzu.</span><span class="sxs-lookup"><span data-stu-id="562e4-130">When a XAML parser reads this markup, [**Children**](https://msdn.microsoft.com/library/windows/apps/br227514) is known to be the XAML content property for all [**Panel**](https://msdn.microsoft.com/library/windows/apps/br227511) derived types, so the parser will add the two [**Button**](https://msdn.microsoft.com/library/windows/apps/br209265) elements to the [**UIElementCollection**](https://msdn.microsoft.com/library/windows/apps/br227633) value of the **Children** property.</span></span> <span data-ttu-id="562e4-131">Die XAML-Inhaltseigenschaft ermöglicht im XAML-Markup optimierte Beziehungen zwischen übergeordneten und untergeordneten Elementen für eine Benutzeroberflächendefinition.</span><span class="sxs-lookup"><span data-stu-id="562e4-131">The XAML content property facilitates a streamlined parent-child relationship in the XAML markup for a UI definition.</span></span> <span data-ttu-id="562e4-132">Weitere Informationen zu XAML-Inhaltseigenschaften und zur Auffüllung von Sammlungseigenschaften während der XAML-Analyse finden Sie in der [Anleitung zur XAML-Syntax](https://msdn.microsoft.com/library/windows/apps/mt185596).</span><span class="sxs-lookup"><span data-stu-id="562e4-132">For more info about XAML content properties, and how collection properties are populated when XAML is parsed, see the [XAML syntax guide](https://msdn.microsoft.com/library/windows/apps/mt185596).</span></span>

<span data-ttu-id="562e4-133">Der Sammlungstyp, der den Wert der Eigenschaft [**Children**](https://msdn.microsoft.com/library/windows/apps/br227514) beibehält, ist die [**UIElementCollection**](https://msdn.microsoft.com/library/windows/apps/br227633)-Klasse.</span><span class="sxs-lookup"><span data-stu-id="562e4-133">The collection type that's maintaining the value of the [**Children**](https://msdn.microsoft.com/library/windows/apps/br227514) property is the [**UIElementCollection**](https://msdn.microsoft.com/library/windows/apps/br227633) class.</span></span> <span data-ttu-id="562e4-134">**UIElementCollection** ist eine stark typisierte Sammlung, die [**UIElement**](https://msdn.microsoft.com/library/windows/apps/br208911) als erzwungenen Elementtyp verwendet.</span><span class="sxs-lookup"><span data-stu-id="562e4-134">**UIElementCollection** is a strongly typed collection that uses [**UIElement**](https://msdn.microsoft.com/library/windows/apps/br208911) as its enforced item type.</span></span> <span data-ttu-id="562e4-135">**UIElement** ist ein Basistyp, der von Hunderten von praktischen Benutzeroberflächen-Elementtypen geerbt wird. Daher ist die Typerzwingung hier absichtlich locker.</span><span class="sxs-lookup"><span data-stu-id="562e4-135">**UIElement** is a base type that's inherited by hundreds of practical UI element types, so the type enforcement here is deliberately loose.</span></span> <span data-ttu-id="562e4-136">Er erzwingt jedoch, dass es nicht möglich ist, ein [**Brush**](/uwp/api/Windows.UI.Xaml.Media.Brush) als direktes untergeordnetes Element eines [**Panel**](https://msdn.microsoft.com/library/windows/apps/br227511) zu verwenden. Allgemein bedeutet das, dass nur Elemente, die in der Benutzeroberfläche sichtbar und Bestandteil des Layouts sein werden, als untergeordnete Elemente in einem **Panel** gefunden werden.</span><span class="sxs-lookup"><span data-stu-id="562e4-136">But it does enforce that you couldn't have a [**Brush**](/uwp/api/Windows.UI.Xaml.Media.Brush) as a direct child of a [**Panel**](https://msdn.microsoft.com/library/windows/apps/br227511), and it generally means that only elements that are expected to be visible in UI and participate in layout will be found as child elements in a **Panel**.</span></span>

<span data-ttu-id="562e4-137">In der Regel akzeptiert ein benutzerdefiniertes Panel jedes untergeordnete [**UIElement**](https://msdn.microsoft.com/library/windows/apps/br208911)-Element gemäß einer XAML-Definition, indem einfach die unveränderten Merkmale der [**Children**](https://msdn.microsoft.com/library/windows/apps/br227514)-Eigenschaft verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="562e4-137">Typically, a custom panel accepts any [**UIElement**](https://msdn.microsoft.com/library/windows/apps/br208911) child element by a XAML definition, by simply using the characteristics of the [**Children**](https://msdn.microsoft.com/library/windows/apps/br227514) property as-is.</span></span> <span data-ttu-id="562e4-138">Als erweitertes Szenario wäre eine Unterstützung einer weiteren Typüberprüfung der untergeordneten Elemente möglich, wenn Sie die Sammlung in Ihren Layoutüberschreibungen durchlaufen.</span><span class="sxs-lookup"><span data-stu-id="562e4-138">As an advanced scenario, you could support further type checking of child elements, when you iterate over the collection in your layout overrides.</span></span>

<span data-ttu-id="562e4-139">Neben Schleifen durch die [**Children**](https://msdn.microsoft.com/library/windows/apps/br227514)-Sammlung in den Überschreibungen könnte Ihre Panellogik auch durch `Children.Count` beeinflusst werden.</span><span class="sxs-lookup"><span data-stu-id="562e4-139">Besides looping through the [**Children**](https://msdn.microsoft.com/library/windows/apps/br227514) collection in the overrides, your panel logic might also be influenced by `Children.Count`.</span></span> <span data-ttu-id="562e4-140">Vielleicht verwenden Sie eine Logik, die Speicherplatz zumindest teilweise auf der Grundlage der Anzahl der Elemente zuordnet, statt auf Grundlage der gewünschten Größen und den anderen Eigenschaften der einzelnen Elemente.</span><span class="sxs-lookup"><span data-stu-id="562e4-140">You might have logic that is allocating space at least partly based on the number of items, rather than desired sizes and the other characteristics of individual items.</span></span>

## <a name="overriding-the-layout-methods"></a><span data-ttu-id="562e4-141">Überschreiben der Layoutmethoden</span><span class="sxs-lookup"><span data-stu-id="562e4-141">Overriding the layout methods</span></span>


<span data-ttu-id="562e4-142">Das Basismodell für die Methoden zur Layoutüberschreibung ([**MeasureOverride**](https://msdn.microsoft.com/library/windows/apps/br208730) und [**ArrangeOverride**](https://msdn.microsoft.com/library/windows/apps/br208711)) besteht darin, dass sie alle untergeordneten Elemente durchlaufen und die spezifische Layout-Methode der einzelnen untergeordneten Elemente aufrufen.</span><span class="sxs-lookup"><span data-stu-id="562e4-142">The basic model for the layout override methods ([**MeasureOverride**](https://msdn.microsoft.com/library/windows/apps/br208730) and [**ArrangeOverride**](https://msdn.microsoft.com/library/windows/apps/br208711)) is that they should iterate through all the children and call each child element's specific layout method.</span></span> <span data-ttu-id="562e4-143">Der erste Layoutzyklus beginnt, wenn das XAML-Layoutsystem das Layout für das Stammfenster festlegt.</span><span class="sxs-lookup"><span data-stu-id="562e4-143">The first layout cycle starts when the XAML layout system sets the visual for the root window.</span></span> <span data-ttu-id="562e4-144">Da jedes übergeordnete Element das Layout der jeweiligen untergeordneten Elemente aufruft, wird dadurch der Aufruf von Layout-Methoden für jedes mögliche UI-Element propagiert, das Teil des Layouts sein soll.</span><span class="sxs-lookup"><span data-stu-id="562e4-144">Because each parent invokes layout on its children, this propagates a call to layout methods to every possible UI element that is supposed to be part of a layout.</span></span> <span data-ttu-id="562e4-145">Im XAML-Layout gibt es zwei Stufen: Messung und anschließend Anordnung.</span><span class="sxs-lookup"><span data-stu-id="562e4-145">In XAML layout, there are two stages: measure, then arrange.</span></span>

<span data-ttu-id="562e4-146">Sie erhalten keine integrierten Layoutmethoden-Verhaltensweisen für [**MeasureOverride**](https://msdn.microsoft.com/library/windows/apps/br208730) und [**ArrangeOverride**](https://msdn.microsoft.com/library/windows/apps/br208711) von der Basisklasse [**Panel**](https://msdn.microsoft.com/library/windows/apps/br227511).</span><span class="sxs-lookup"><span data-stu-id="562e4-146">You don't get any built-in layout method behavior for [**MeasureOverride**](https://msdn.microsoft.com/library/windows/apps/br208730) and [**ArrangeOverride**](https://msdn.microsoft.com/library/windows/apps/br208711) from the base [**Panel**](https://msdn.microsoft.com/library/windows/apps/br227511) class.</span></span> <span data-ttu-id="562e4-147">Elemente in [**Children**](https://msdn.microsoft.com/library/windows/apps/br227514) werden nicht automatisch als Teil der visuellen XAML-Struktur gerendert.</span><span class="sxs-lookup"><span data-stu-id="562e4-147">Items in [**Children**](https://msdn.microsoft.com/library/windows/apps/br227514) won't automatically render as part of the XAML visual tree.</span></span> <span data-ttu-id="562e4-148">Sie müssen die Elemente dem Layoutprozess bekanntmachen, indem Sie für jedes Element, das Sie in **Children** finden, über eine Layoutübergabe innerhalb Ihrer **MeasureOverride**- und **ArrangeOverride**-Implementierungen Layoutmethoden aufrufen.</span><span class="sxs-lookup"><span data-stu-id="562e4-148">It is up to you to make the items known to the layout process, by invoking layout methods on each of the items you find in **Children** through a layout pass within your **MeasureOverride** and **ArrangeOverride** implementations.</span></span>

<span data-ttu-id="562e4-149">Es gibt keinen Grund, Basisimplementierungen in Layoutüberschreibungen aufzurufen, wenn Sie Ihr eigenes Vererbungsmuster nutzen können.</span><span class="sxs-lookup"><span data-stu-id="562e4-149">There's no reason to call base implementations in layout overrides unless you have your own inheritance.</span></span> <span data-ttu-id="562e4-150">Die nativen Methoden zum Layoutverhalten (sofern vorhanden) werden unabhängig davon ausgeführt. Selbst wenn Sie keine Basisimplementierung von Überschreibungen aufrufen, können Sie nicht verhindern, dass das native Verhalten ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="562e4-150">The native methods for layout behavior (if they exist) run regardless, and not calling base implementation from overrides won't prevent the native behavior from happening.</span></span>

<span data-ttu-id="562e4-151">Während der Übergabe der Messwerte fragt Ihre Layoutlogik alle untergeordneten Elemente in Bezug auf die gewünschte Größe ab, indem sie die [**Measure**](https://msdn.microsoft.com/library/windows/apps/br208952)-Methode für die untergeordneten Elemente aufruft.</span><span class="sxs-lookup"><span data-stu-id="562e4-151">During the measure pass, your layout logic queries each child element for its desired size, by calling the [**Measure**](https://msdn.microsoft.com/library/windows/apps/br208952) method on that child element.</span></span> <span data-ttu-id="562e4-152">Durch den Aufruf der **Measure**-Methode wird der Wert für die Eigenschaft [**DesiredSize**](https://msdn.microsoft.com/library/windows/apps/br208921) festgelegt.</span><span class="sxs-lookup"><span data-stu-id="562e4-152">Calling the **Measure** method establishes the value for the [**DesiredSize**](https://msdn.microsoft.com/library/windows/apps/br208921) property.</span></span> <span data-ttu-id="562e4-153">Der [**MeasureOverride**](https://msdn.microsoft.com/library/windows/apps/br208730)-Rückgabewert gibt die gewünschte Größe für das Panel selbst an.</span><span class="sxs-lookup"><span data-stu-id="562e4-153">The [**MeasureOverride**](https://msdn.microsoft.com/library/windows/apps/br208730) return value is the desired size for the panel itself.</span></span>

<span data-ttu-id="562e4-154">Während der Anordnungsübergabe werden die Positionen und Größen der untergeordneten Elemente im x-y-Raum bestimmt, und die Zusammensetzung des Layouts wird für die Darstellung vorbereitet.</span><span class="sxs-lookup"><span data-stu-id="562e4-154">During the arrange pass, the positions and sizes of child elements are determined in x-y space and the layout composition is prepared for rendering.</span></span> <span data-ttu-id="562e4-155">Ihr Code muss [**Arrange**](https://msdn.microsoft.com/library/windows/apps/br208914) für jedes untergeordnete Element in [**Children**](https://msdn.microsoft.com/library/windows/apps/br227514) aufrufen, damit das Layoutsystem erkennt, dass das Element zum Layout gehört.</span><span class="sxs-lookup"><span data-stu-id="562e4-155">Your code must call [**Arrange**](https://msdn.microsoft.com/library/windows/apps/br208914) on each child element in [**Children**](https://msdn.microsoft.com/library/windows/apps/br227514) so that the layout system detects that the element belongs in the layout.</span></span> <span data-ttu-id="562e4-156">Der Aufruf von **Arrange** ist eine Vorstufe für die Zusammensetzung und das Rendering. Hierdurch wird Layoutsystem darüber informiert, welche Position das Element erhält, wenn die Zusammensetzung für die Darstellung übermittelt wird.</span><span class="sxs-lookup"><span data-stu-id="562e4-156">The **Arrange** call is a precursor to composition and rendering; it informs the layout system where that element goes, when the composition is submitted for rendering.</span></span>

<span data-ttu-id="562e4-157">Viele Eigenschaften und Werte haben Einfluss darauf, wie die Layoutlogik zur Laufzeit ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="562e4-157">Many properties and values contribute to how the layout logic will work at runtime.</span></span> <span data-ttu-id="562e4-158">Sie können sich den Layoutprozess z.B. so vorstellen, dass die Elemente ohne untergeordnete Elemente (in der Regel das Element der tiefsten Schachtelungsebene in der Benutzeroberfläche) diejenigen sind, die die Messungen zuerst abschließen.</span><span class="sxs-lookup"><span data-stu-id="562e4-158">A way to think about the layout process is that the elements with no children (generally the most deeply nested element in the UI) are the ones that can finalize measurements first.</span></span> <span data-ttu-id="562e4-159">Diese Elemente sind nicht von untergeordneten Elementen abhängig, die Einfluss auf die gewünschte Größe dieser Elemente haben können.</span><span class="sxs-lookup"><span data-stu-id="562e4-159">They don't have any dependencies on child elements that influence their desired size.</span></span> <span data-ttu-id="562e4-160">Sie können ihre eigenen gewünschten Größen haben. Es handelt sich dabei um Größenvorschläge, bis das Layout tatsächlich erfolgt.</span><span class="sxs-lookup"><span data-stu-id="562e4-160">They might have their own desired sizes, and these are size suggestions until the layout actually takes place.</span></span> <span data-ttu-id="562e4-161">Dann, bei der Übergabe der Messwerte, wird die visuelle Struktur durchlaufen, bis das Stammelement die erforderlichen Maße hat und die Messungen abgeschlossen werden können.</span><span class="sxs-lookup"><span data-stu-id="562e4-161">Then, the measure pass continues walking up the visual tree until the root element has its measurements and all the measurements can be finalized.</span></span>

<span data-ttu-id="562e4-162">Das Kandidatenlayout muss in das aktuelle App-Fenster passen, ansonsten werden Teile der Benutzeroberfläche abgeschnitten.</span><span class="sxs-lookup"><span data-stu-id="562e4-162">The candidate layout must fit within the current app window or else parts of the UI will be clipped.</span></span> <span data-ttu-id="562e4-163">Die Beschneidungslogik wird häufig in Panels festgelegt.</span><span class="sxs-lookup"><span data-stu-id="562e4-163">Panels often are the place where the clipping logic is determined.</span></span> <span data-ttu-id="562e4-164">Die Panellogik kann bestimmen, welche Größe aufgrund der [**MeasureOverride**](https://msdn.microsoft.com/library/windows/apps/br208730)-Implementierung verfügbar ist, und muss möglicherweise die Größeneinschränkungen an die untergeordneten Elemente weitergeben und den verfügbaren Platz auf die untergeordneten Elemente aufteilen, damit alle Elemente so gut wie möglich passen.</span><span class="sxs-lookup"><span data-stu-id="562e4-164">Panel logic can determine what size is available from within the [**MeasureOverride**](https://msdn.microsoft.com/library/windows/apps/br208730) implementation, and may have to push the size restrictions onto the children and divide space amongst children so that everything fits as best it can.</span></span> <span data-ttu-id="562e4-165">Das Ergebnis des Layouts fällt im Idealfall so aus, dass die verschiedene Eigenschaften aller Teile des Layouts verwendet werden und dennoch in das Anwendungsfenster passen.</span><span class="sxs-lookup"><span data-stu-id="562e4-165">The result of layout is ideally something that uses various properties of all parts of the layout but still fits within the app window.</span></span> <span data-ttu-id="562e4-166">Dazu ist nicht nur eine gute Implementierung der Layoutlogik der Panels erforderlich, sondern auch ein vernünftiges Benutzeroberflächendesign seitens des App-Codes, mit dem eine Benutzeroberfläche mit diesem Panel erstellt wird.</span><span class="sxs-lookup"><span data-stu-id="562e4-166">That requires both a good implementation for layout logic of the panels, and also a judicious UI design on the part of any app code that builds a UI using that panel.</span></span> <span data-ttu-id="562e4-167">Das Paneldesign wird nicht gut aussehen, wenn im gesamten UI-Design mehr untergeordnete Elemente enthalten sind, als überhaupt in die App passen.</span><span class="sxs-lookup"><span data-stu-id="562e4-167">No panel design is going to look good if the overall UI design includes more child elements than can possibly fit in the app.</span></span>

<span data-ttu-id="562e4-168">Das Layoutsystem funktioniert also hauptsächlich deshalb, weil jedes Element, das auf dem [**FrameworkElement**](https://msdn.microsoft.com/library/windows/apps/br208706) basiert, bereits ein eigenes inhärentes Verhalten aufweist, wenn es als untergeordnetes Element in einem Container verwendet wird.</span><span class="sxs-lookup"><span data-stu-id="562e4-168">A large part of what makes the layout system work is that any element that's based on [**FrameworkElement**](https://msdn.microsoft.com/library/windows/apps/br208706) already has some of its own inherent behavior when acting as a child in a container.</span></span> <span data-ttu-id="562e4-169">So gibt es beispielsweise mehrere APIs von **FrameworkElement**, die entweder über das Layoutverhalten informieren oder benötigt werden, damit das Layout überhaupt funktionieren kann.</span><span class="sxs-lookup"><span data-stu-id="562e4-169">For example, there are several APIs of **FrameworkElement** that either inform layout behavior or are needed to make layout work at all.</span></span> <span data-ttu-id="562e4-170">Dazu zählen:</span><span class="sxs-lookup"><span data-stu-id="562e4-170">These include:</span></span>

-   <span data-ttu-id="562e4-171">[**DesiredSize**](https://msdn.microsoft.com/library/windows/apps/br208921) (tatsächlich eine [**UIElement**](https://msdn.microsoft.com/library/windows/apps/br208911)-Eigenschaft)</span><span class="sxs-lookup"><span data-stu-id="562e4-171">[**DesiredSize**](https://msdn.microsoft.com/library/windows/apps/br208921) (actually a [**UIElement**](https://msdn.microsoft.com/library/windows/apps/br208911) property)</span></span>
-   <span data-ttu-id="562e4-172">[**ActualHeight**](https://msdn.microsoft.com/library/windows/apps/br208707) und [**ActualWidth**](https://msdn.microsoft.com/library/windows/apps/br208709)</span><span class="sxs-lookup"><span data-stu-id="562e4-172">[**ActualHeight**](https://msdn.microsoft.com/library/windows/apps/br208707) and [**ActualWidth**](https://msdn.microsoft.com/library/windows/apps/br208709)</span></span>
-   <span data-ttu-id="562e4-173">[**Height**](/uwp/api/Windows.UI.Xaml.FrameworkElement.Height) und [**Width**](/uwp/api/Windows.UI.Xaml.FrameworkElement.Width)</span><span class="sxs-lookup"><span data-stu-id="562e4-173">[**Height**](/uwp/api/Windows.UI.Xaml.FrameworkElement.Height) and [**Width**](/uwp/api/Windows.UI.Xaml.FrameworkElement.Width)</span></span>
-   [**<span data-ttu-id="562e4-174">Margin</span><span class="sxs-lookup"><span data-stu-id="562e4-174">Margin</span></span>**](https://msdn.microsoft.com/library/windows/apps/br208724)
-   <span data-ttu-id="562e4-175">[**LayoutUpdated**](https://msdn.microsoft.com/library/windows/apps/br208722)-Ereignis</span><span class="sxs-lookup"><span data-stu-id="562e4-175">[**LayoutUpdated**](https://msdn.microsoft.com/library/windows/apps/br208722) event</span></span>
-   <span data-ttu-id="562e4-176">[**HorizontalAlignment**](https://msdn.microsoft.com/library/windows/apps/br208720) und [**VerticalAlignment**](https://msdn.microsoft.com/library/windows/apps/br208749)</span><span class="sxs-lookup"><span data-stu-id="562e4-176">[**HorizontalAlignment**](https://msdn.microsoft.com/library/windows/apps/br208720) and [**VerticalAlignment**](https://msdn.microsoft.com/library/windows/apps/br208749)</span></span>
-   <span data-ttu-id="562e4-177">[**ArrangeOverride**](https://msdn.microsoft.com/library/windows/apps/br208711)- und [**MeasureOverride**](https://msdn.microsoft.com/library/windows/apps/br208730)-Methoden</span><span class="sxs-lookup"><span data-stu-id="562e4-177">[**ArrangeOverride**](https://msdn.microsoft.com/library/windows/apps/br208711) and [**MeasureOverride**](https://msdn.microsoft.com/library/windows/apps/br208730) methods</span></span>
-   <span data-ttu-id="562e4-178">[**Arrange**](https://msdn.microsoft.com/library/windows/apps/br208914)- und [**Measure**](https://msdn.microsoft.com/library/windows/apps/br208952)-Methoden: Für diese Methoden sind auf der [**FrameworkElement**](https://msdn.microsoft.com/library/windows/apps/br208706)-Ebene systemeigene Implementierungen definiert, die Layoutaktionen auf Elementebene behandeln.</span><span class="sxs-lookup"><span data-stu-id="562e4-178">[**Arrange**](https://msdn.microsoft.com/library/windows/apps/br208914) and [**Measure**](https://msdn.microsoft.com/library/windows/apps/br208952) methods: these have native implementations defined at the [**FrameworkElement**](https://msdn.microsoft.com/library/windows/apps/br208706) level, which handle the element-level layout action</span></span>

## **<a name="measureoverride"></a><span data-ttu-id="562e4-179">MeasureOverride</span><span class="sxs-lookup"><span data-stu-id="562e4-179">MeasureOverride</span></span>**


<span data-ttu-id="562e4-180">Die [**MeasureOverride**](https://msdn.microsoft.com/library/windows/apps/br208730)-Methode hat einen Rückgabewert, der vom Layoutsystem als Ausgangspunkt für[**DesiredSize**](https://msdn.microsoft.com/library/windows/apps/br208921) für das Panel selbst verwendet wird, wenn die [**Measure**](https://msdn.microsoft.com/library/windows/apps/br208952)-Methode im Panel durch das übergeordnete Element im Layout aufgerufen wird.</span><span class="sxs-lookup"><span data-stu-id="562e4-180">The [**MeasureOverride**](https://msdn.microsoft.com/library/windows/apps/br208730) method has a return value that's used by the layout system as the starting [**DesiredSize**](https://msdn.microsoft.com/library/windows/apps/br208921) for the panel itself, when the [**Measure**](https://msdn.microsoft.com/library/windows/apps/br208952) method is called on the panel by its parent in layout.</span></span> <span data-ttu-id="562e4-181">Die logischen Entscheidungen innerhalb der Methode sind genauso wichtig wie die zurückgegebenen Werte, und die Logik hat häufig Einfluss darauf, welche Werte zurückgegeben werden.</span><span class="sxs-lookup"><span data-stu-id="562e4-181">The logic choices within the method are just as important as what it returns, and the logic often influences what value is returned.</span></span>

<span data-ttu-id="562e4-182">Alle [**MeasureOverride**](https://msdn.microsoft.com/library/windows/apps/br208730)-Implementierungen sollten [**Children**](https://msdn.microsoft.com/library/windows/apps/br227514) als Schleife durchlaufen und die [**Measure**](https://msdn.microsoft.com/library/windows/apps/br208952)-Methode für jedes untergeordnete Element aufrufen.</span><span class="sxs-lookup"><span data-stu-id="562e4-182">All [**MeasureOverride**](https://msdn.microsoft.com/library/windows/apps/br208730) implementations should loop through [**Children**](https://msdn.microsoft.com/library/windows/apps/br227514), and call the [**Measure**](https://msdn.microsoft.com/library/windows/apps/br208952) method on each child element.</span></span> <span data-ttu-id="562e4-183">Durch den Aufruf der **Measure**-Methode wird der Wert für die Eigenschaft [**DesiredSize**](https://msdn.microsoft.com/library/windows/apps/br208921) festgelegt.</span><span class="sxs-lookup"><span data-stu-id="562e4-183">Calling the **Measure** method establishes the value for the [**DesiredSize**](https://msdn.microsoft.com/library/windows/apps/br208921) property.</span></span> <span data-ttu-id="562e4-184">Dies könnte als Information dafür verwendet werden, wie viel Platz das Panel selbst benötigt und wie dieser Platz für die einzelnen Elementen aufgeteilt oder für ein bestimmtes untergeordnetes Element bemessen wird.</span><span class="sxs-lookup"><span data-stu-id="562e4-184">This might inform how much space the panel itself needs, as well as how that space is divided among elements or sized for a particular child element.</span></span>

<span data-ttu-id="562e4-185">Im Folgenden wird ein sehr einfaches Grundgerüst einer [**MeasureOverride**](https://msdn.microsoft.com/library/windows/apps/br208730)-Methode gezeigt:</span><span class="sxs-lookup"><span data-stu-id="562e4-185">Here's a very basic skeleton of a [**MeasureOverride**](https://msdn.microsoft.com/library/windows/apps/br208730) method:</span></span>

```CSharp
protected override Size MeasureOverride(Size availableSize)
{
    Size returnSize; //TODO might return availableSize, might do something else
     
    //loop through each Child, call Measure on each
    foreach (UIElement child in Children)
    {
        child.Measure(new Size()); // TODO determine how much space the panel allots for this child, that's what you pass to Measure
        Size childDesiredSize = child.DesiredSize; //TODO determine how the returned Size is influenced by each child's DesiredSize
        //TODO, logic if passed-in Size and net DesiredSize are different, does that matter?
    }
    return returnSize;
}
```

<span data-ttu-id="562e4-186">Elemente haben zum Zeitpunkt, zu dem sie für das Layout bereitstehen, häufig eine natürliche Größe.</span><span class="sxs-lookup"><span data-stu-id="562e4-186">Elements often have a natural size by the time they're ready for layout.</span></span> <span data-ttu-id="562e4-187">Nach dem Messdurchlauf gibt [**DesiredSize**](https://msdn.microsoft.com/library/windows/apps/br208921) möglicherweise diese natürliche Größe an, wenn die von Ihnen übergebene *availableSize* für [**Measure**](https://msdn.microsoft.com/library/windows/apps/br208952) kleiner war.</span><span class="sxs-lookup"><span data-stu-id="562e4-187">After the measure pass, the [**DesiredSize**](https://msdn.microsoft.com/library/windows/apps/br208921) might indicate that natural size, if the *availableSize* you passed for [**Measure**](https://msdn.microsoft.com/library/windows/apps/br208952) was smaller.</span></span> <span data-ttu-id="562e4-188">Wenn die natürliche Größe größer als die *availableSize* ist, die Sie für **Measure** übergeben haben, wird die **DesiredSize** auf die *availableSize* eingeschränkt.</span><span class="sxs-lookup"><span data-stu-id="562e4-188">If the natural size is larger than *availableSize* you passed for **Measure**, the **DesiredSize** is constrained to *availableSize*.</span></span> <span data-ttu-id="562e4-189">So funktioniert auch die interne Implementierung von **Measure**. Dieses Verhalten muss bei Ihren Layoutüberschreibungen berücksichtigt werden.</span><span class="sxs-lookup"><span data-stu-id="562e4-189">That's how **Measure**'s internal implementation behaves, and your layout overrides should take that behavior into account.</span></span>

<span data-ttu-id="562e4-190">Einige Elemente haben keine natürliche Größe, da sie **Auto**-Werte für [**Height**](/uwp/api/Windows.UI.Xaml.FrameworkElement.Height) und [**Width**](/uwp/api/Windows.UI.Xaml.FrameworkElement.Width) besitzen.</span><span class="sxs-lookup"><span data-stu-id="562e4-190">Some elements don't have a natural size because they have **Auto** values for [**Height**](/uwp/api/Windows.UI.Xaml.FrameworkElement.Height) and [**Width**](/uwp/api/Windows.UI.Xaml.FrameworkElement.Width).</span></span> <span data-ttu-id="562e4-191">Diese Elemente verwenden die gesamte *availableSize*, da ein **Auto**-Wert dazu dient, die Größe eines Elements auf die maximal verfügbare Größe festzulegen. Diese wird durch das unmittelbar übergeordnete Layoutelement durch den Aufruf von [**Measure**](https://msdn.microsoft.com/library/windows/apps/br208952) mit *availableSize* mitgeteilt.</span><span class="sxs-lookup"><span data-stu-id="562e4-191">These elements use the full *availableSize*, because that's what an **Auto** value represents: size the element to the maximum available size, which the immediate layout parent communicates by calling [**Measure**](https://msdn.microsoft.com/library/windows/apps/br208952) with *availableSize*.</span></span> <span data-ttu-id="562e4-192">In der Praxis gibt es stets einen Messwert, an den die Größe einer Benutzeroberfläche angepasst wird (auch wenn es sich um das Hauptfenster handelt.) Schließlich löst die Messwertübergabe anhand der Einschränkungen des übergeordneten Elements alle **Auto**-Werte auf, und alle **Auto**-Werte erhalten reale Messwerte (die Sie durch Prüfen von [**ActualWidth**](https://msdn.microsoft.com/library/windows/apps/br208709) und [**ActualHeight**](https://msdn.microsoft.com/library/windows/apps/br208707) nach Abschluss des Layouts abrufen können).</span><span class="sxs-lookup"><span data-stu-id="562e4-192">In practice, there's always some measurement that a UI is sized to (even if that's the top level window.) Eventually, the measure pass resolves all the **Auto** values to parent constraints and all **Auto** value elements get real measurements (which you can get by checking [**ActualWidth**](https://msdn.microsoft.com/library/windows/apps/br208709) and [**ActualHeight**](https://msdn.microsoft.com/library/windows/apps/br208707), after layout completes).</span></span>

<span data-ttu-id="562e4-193">Es ist zulässig, an [**Measure**](https://msdn.microsoft.com/library/windows/apps/br208952) eine Größe mit mindestens einer unendlichen Dimension zu übergeben, um anzuzeigen, dass das Panel versuchen kann, seine Größe unabhängig vom Inhalt selbst anzupassen.</span><span class="sxs-lookup"><span data-stu-id="562e4-193">It's legal to pass a size to [**Measure**](https://msdn.microsoft.com/library/windows/apps/br208952) that has at least one infinite dimension, to indicate that the panel can attempt to size itself to fit measurements of its content.</span></span> <span data-ttu-id="562e4-194">Jedes gemessene untergeordnete Element legt seinen [**DesiredSize**](https://msdn.microsoft.com/library/windows/apps/br208921)-Wert auf seine natürliche Größe fest.</span><span class="sxs-lookup"><span data-stu-id="562e4-194">Each child element being measured sets its [**DesiredSize**](https://msdn.microsoft.com/library/windows/apps/br208921) value using its natural size.</span></span> <span data-ttu-id="562e4-195">Während des Anordnungsdurchlaufs wird das Panel in der Regel unter Verwendung dieser Größe angeordnet.</span><span class="sxs-lookup"><span data-stu-id="562e4-195">Then, during the arrange pass, the panel typically arranges using that size.</span></span>

<span data-ttu-id="562e4-196">Textelemente wie [**TextBlock**](https://msdn.microsoft.com/library/windows/apps/br209652) weisen auf Grundlage ihrer Textzeichenfolge und -eigenschaften eine berechnete [**ActualWidth**](https://msdn.microsoft.com/library/windows/apps/br208709) und [**ActualHeight**](https://msdn.microsoft.com/library/windows/apps/br208707) auf. Dies gilt selbst dann, wenn keine Werte für [**Height**](/uwp/api/Windows.UI.Xaml.FrameworkElement.Height) oder [**Width**](/uwp/api/Windows.UI.Xaml.FrameworkElement.Width) festgelegt sind. Diese Dimensionen sollten in Ihrer Panellogik berücksichtigt werden.</span><span class="sxs-lookup"><span data-stu-id="562e4-196">Text elements such as [**TextBlock**](https://msdn.microsoft.com/library/windows/apps/br209652) have a calculated [**ActualWidth**](https://msdn.microsoft.com/library/windows/apps/br208709) and [**ActualHeight**](https://msdn.microsoft.com/library/windows/apps/br208707) based on their text string and text properties even if no [**Height**](/uwp/api/Windows.UI.Xaml.FrameworkElement.Height) or [**Width**](/uwp/api/Windows.UI.Xaml.FrameworkElement.Width) value is set, and these dimensions should be respected by your panel logic.</span></span> <span data-ttu-id="562e4-197">Die Beschneidung von Text wirkt sich besonders negativ auf die Benutzerfreundlichkeit einer UI aus.</span><span class="sxs-lookup"><span data-stu-id="562e4-197">Clipping text is a particularly bad UI experience.</span></span>

<span data-ttu-id="562e4-198">Auch wenn Ihre Implementierung nicht die gewünschten Größenmesswerte verwendet, sollten Sie die [**Measure**](https://msdn.microsoft.com/library/windows/apps/br208952)-Methode für jedes untergeordnete Element aufrufen, da interne und systemeigene Verhaltensweisen vorhanden sind, die durch den Aufruf von **Measure** ausgelöst werden.</span><span class="sxs-lookup"><span data-stu-id="562e4-198">Even if your implementation doesn't use the desired size measurements, it's best to call the [**Measure**](https://msdn.microsoft.com/library/windows/apps/br208952) method on each child element, because there are internal and native behaviors that are triggered by **Measure** being called.</span></span> <span data-ttu-id="562e4-199">Damit ein Element Teil eines Layouts sein kann, muss für jedes untergeordnete Element während des Messdurchlaufs **Measure** und während des Anordnungsdurchlaufs die Methode [**Arrange**](https://msdn.microsoft.com/library/windows/apps/br208914) aufgerufen werden.</span><span class="sxs-lookup"><span data-stu-id="562e4-199">For an element to participate in layout, each child element must have **Measure** called on it during the measure pass and the [**Arrange**](https://msdn.microsoft.com/library/windows/apps/br208914) method called on it during the arrange pass.</span></span> <span data-ttu-id="562e4-200">Durch den Aufruf dieser Methoden werden interne Kennzeichen für das Objekt festgelegt und Werte (beispielsweise die Eigenschaft [**DesiredSize**](https://msdn.microsoft.com/library/windows/apps/br208921)) aufgefüllt, die die Layoutlogik des Systems benötigt, wenn die visuelle Struktur erstellt und die Benutzeroberfläche gerendert werden.</span><span class="sxs-lookup"><span data-stu-id="562e4-200">Calling these methods sets internal flags on the object and populates values (such as the [**DesiredSize**](https://msdn.microsoft.com/library/windows/apps/br208921) property) that the system's layout logic needs when it builds the visual tree and renders the UI.</span></span>

<span data-ttu-id="562e4-201">Der Rückgabewert von [**MeasureOverride**](https://msdn.microsoft.com/library/windows/apps/br208730) basiert auf der logischen Interpretation des Panels von [**DesiredSize**](https://msdn.microsoft.com/library/windows/apps/br208921) oder anderen Größenaspekten für die einzelnen untergeordneten Elemente in [**Children**](https://msdn.microsoft.com/library/windows/apps/br227514), wenn [**Measure**](https://msdn.microsoft.com/library/windows/apps/br208952) für diese aufgerufen wird.</span><span class="sxs-lookup"><span data-stu-id="562e4-201">The [**MeasureOverride**](https://msdn.microsoft.com/library/windows/apps/br208730) return value is based on the panel's logic interpreting the [**DesiredSize**](https://msdn.microsoft.com/library/windows/apps/br208921) or other size considerations for each of the child elements in [**Children**](https://msdn.microsoft.com/library/windows/apps/br227514) when [**Measure**](https://msdn.microsoft.com/library/windows/apps/br208952) is called on them.</span></span> <span data-ttu-id="562e4-202">Es ist der Interpretation durch Ihre Logik überlassen, wie **DesiredSize**-Werte untergeordneter Elemente behandelt werden und wie der **MeasureOverride**-Rückgabewert diese verwenden soll.</span><span class="sxs-lookup"><span data-stu-id="562e4-202">What to do with **DesiredSize** values from children and how the **MeasureOverride** return value should use them is up to your own logic's interpretation.</span></span> <span data-ttu-id="562e4-203">In der Regel werden die Werte nicht unverändert hinzugefügt, da der Eingabewert von **MeasureOverride** häufig eine feste verfügbare Größe ist, die vom übergeordneten Element des Panels vorgeschlagen wird.</span><span class="sxs-lookup"><span data-stu-id="562e4-203">You don't typically add up the values without modification, because the input of **MeasureOverride** is often a fixed available size that's being suggested by the panel's parent.</span></span> <span data-ttu-id="562e4-204">Wenn Sie diese Größe überschreiten, kann das Panel selbst abgeschnitten werden.</span><span class="sxs-lookup"><span data-stu-id="562e4-204">If you exceed that size, the panel itself might get clipped.</span></span> <span data-ttu-id="562e4-205">Sie würden normalerweise die Gesamtgröße der untergeordneten Elemente mit der tatsächlich verfügbaren Größe des Panels vergleichen und ggf. Anpassungen vornehmen.</span><span class="sxs-lookup"><span data-stu-id="562e4-205">You'd typically compare the total size of children to the panel's available size and make adjustments if necessary.</span></span>

### <a name="tips-and-guidance"></a><span data-ttu-id="562e4-206">Tipps und Richtlinien</span><span class="sxs-lookup"><span data-stu-id="562e4-206">Tips and guidance</span></span>

-   <span data-ttu-id="562e4-207">Im Idealfall sollte ein benutzerdefiniertes Panel als erste echte visuelle Struktur in einer Benutzeroberflächenzusammenstellung geeignet sein, vielleicht auf der Ebene unmittelbar unter [**Page**](https://msdn.microsoft.com/library/windows/apps/br227503), [**UserControl**](https://msdn.microsoft.com/library/windows/apps/br227647) oder einem anderen Element, das als Stamm der XAML-Seite fungiert.</span><span class="sxs-lookup"><span data-stu-id="562e4-207">Ideally, a custom panel should be suitable for being the first true visual in a UI composition, perhaps at a level immediately under [**Page**](https://msdn.microsoft.com/library/windows/apps/br227503), [**UserControl**](https://msdn.microsoft.com/library/windows/apps/br227647) or another element that is the XAML page root.</span></span> <span data-ttu-id="562e4-208">In [**MeasureOverride**](https://msdn.microsoft.com/library/windows/apps/br208730)-Implementierungen darf die Eingabe [**Size**](https://msdn.microsoft.com/library/windows/apps/br225995) nicht routinemäßig zurückgegeben werden, ohne dass eine Überprüfung der Werte erfolgt.</span><span class="sxs-lookup"><span data-stu-id="562e4-208">In [**MeasureOverride**](https://msdn.microsoft.com/library/windows/apps/br208730) implementations, don't routinely return the input [**Size**](https://msdn.microsoft.com/library/windows/apps/br225995) without examining the values.</span></span> <span data-ttu-id="562e4-209">Wenn die zurückgegebene **Size** einen **Infinity**-Wert enthält, können in der Runtime-Layoutlogik Ausnahmen ausgelöst werden.</span><span class="sxs-lookup"><span data-stu-id="562e4-209">If the return **Size** has an **Infinity** value in it, this can throw exceptions in runtime layout logic.</span></span> <span data-ttu-id="562e4-210">Ein **Infinity**-Wert kann aus dem App-Hauptfenster stammen, da dieses bildlauffähig ist und deshalb keine maximale Höhe aufweist.</span><span class="sxs-lookup"><span data-stu-id="562e4-210">An **Infinity** value can come from the main app window, which is scrollable and therefore doesn't have a maximum height.</span></span> <span data-ttu-id="562e4-211">Andere bildlauffähige Inhalte können ein ähnliches Verhalten aufweisen.</span><span class="sxs-lookup"><span data-stu-id="562e4-211">Other scrollable content might have the same behavior.</span></span>
-   <span data-ttu-id="562e4-212">Ein weiterer häufiger Fehler in [**MeasureOverride**](https://msdn.microsoft.com/library/windows/apps/br208730)-Implementierungen besteht darin, dass ein neuer Standardwert für [**Size**](https://msdn.microsoft.com/library/windows/apps/br225995) zurückgegeben wird (Werte für Höhe und Breite sind 0).</span><span class="sxs-lookup"><span data-stu-id="562e4-212">Another common mistake in [**MeasureOverride**](https://msdn.microsoft.com/library/windows/apps/br208730) implementations is to return a new default [**Size**](https://msdn.microsoft.com/library/windows/apps/br225995) (values for height and width are 0).</span></span> <span data-ttu-id="562e4-213">Sie beginnen möglicherweise mit diesem Wert, und es ist möglicherweise sogar der richtige Wert, wenn Ihr Panel ermittelt, dass keines der untergeordneten Elemente gerendert werden soll.</span><span class="sxs-lookup"><span data-stu-id="562e4-213">You might start with that value, and it might even be the correct value if your panel determines that none of the children should be rendered.</span></span> <span data-ttu-id="562e4-214">Ein Standardwert für **Size** führt jedoch dazu, dass Ihr Panel auf dem Hostgerät nicht die richtige Größe hat.</span><span class="sxs-lookup"><span data-stu-id="562e4-214">But, a default **Size** results in your panel not being sized correctly by its host.</span></span> <span data-ttu-id="562e4-215">Da das Panel keinen Platz auf der Benutzeroberfläche anfordert, erhält es auch keinen Platz und wird nicht gerendert.</span><span class="sxs-lookup"><span data-stu-id="562e4-215">It requests no space in the UI, and therefore gets no space and doesn't render.</span></span> <span data-ttu-id="562e4-216">Obwohl Ihr gesamter Panelcode in anderer Hinsicht optimal funktioniert, wird das Panel oder dessen Inhalt nicht angezeigt, wenn als Höhe und Breite ein Nullwert angegeben wird.</span><span class="sxs-lookup"><span data-stu-id="562e4-216">All your panel code otherwise might be functioning fine, but you still won't see your panel or contents thereof if it's being composed with zero height, zero width.</span></span>
-   <span data-ttu-id="562e4-217">Verzichten Sie in Überschreibungen darauf, untergeordnete Elemente in [**FrameworkElement**](https://msdn.microsoft.com/library/windows/apps/br208706) umzuwandeln und Eigenschaften zu verwenden, die als Ergebnis des Layouts berechnet werden. Dies gilt insbesondere für [**ActualWidth**](https://msdn.microsoft.com/library/windows/apps/br208709) und [**ActualHeight**](https://msdn.microsoft.com/library/windows/apps/br208707).</span><span class="sxs-lookup"><span data-stu-id="562e4-217">Within the overrides, avoid the temptation to cast child elements to [**FrameworkElement**](https://msdn.microsoft.com/library/windows/apps/br208706) and use properties that are calculated as a result of layout, particularly [**ActualWidth**](https://msdn.microsoft.com/library/windows/apps/br208709) and [**ActualHeight**](https://msdn.microsoft.com/library/windows/apps/br208707).</span></span> <span data-ttu-id="562e4-218">In den meisten gängigen Szenarien können Sie die Logik auf den [**DesiredSize**](https://msdn.microsoft.com/library/windows/apps/br208921)-Wert des untergeordneten Elements stützen und benötigen keine auf [**Height**](/uwp/api/Windows.UI.Xaml.FrameworkElement.Height) oder [**Width**](/uwp/api/Windows.UI.Xaml.FrameworkElement.Width) bezogenen Eigenschaften des untergeordneten Elements.</span><span class="sxs-lookup"><span data-stu-id="562e4-218">For most common scenarios, you can base the logic on the child's [**DesiredSize**](https://msdn.microsoft.com/library/windows/apps/br208921) value and you won't need any of the [**Height**](/uwp/api/Windows.UI.Xaml.FrameworkElement.Height) or [**Width**](/uwp/api/Windows.UI.Xaml.FrameworkElement.Width) related properties of a child element.</span></span> <span data-ttu-id="562e4-219">Sie können die speziellen Informationen Ihres Elements für besondere Fälle nutzen, in denen Sie den Elementtyp kennen und über zusätzliche Informationen verfügen (beispielsweise die natürliche Größe einer Bilddatei), da es sich nicht um einen Wert handelt, der aktiv von den Layoutsystemen geändert wird.</span><span class="sxs-lookup"><span data-stu-id="562e4-219">For specialized cases, where you know the type of element and have additional information, for example the natural size of an image file, you can use your element's specialized information because it's not a value that is actively being altered by layout systems.</span></span> <span data-ttu-id="562e4-220">Das Einbinden von layoutberechneten Eigenschaften als Teil der Layoutlogik steigert deutlich das Risiko, unbeabsichtigt eine Layoutschleife zu definieren.</span><span class="sxs-lookup"><span data-stu-id="562e4-220">Including layout-calculated properties as part of layout logic substantially increases the risk of defining an unintentional layout loop.</span></span> <span data-ttu-id="562e4-221">Diese Schleifen verursachen einen Zustand, in dem kein gültiges Layout erstellt werden kann. Bei einer nicht behebbaren Schleife kann das System eine [**LayoutCycleException**](https://msdn.microsoft.com/library/windows/apps/hh673799) auslösen.</span><span class="sxs-lookup"><span data-stu-id="562e4-221">These loops cause a condition where a valid layout can't be created and the system can throw a [**LayoutCycleException**](https://msdn.microsoft.com/library/windows/apps/hh673799) if the loop is not recoverable.</span></span>
-   <span data-ttu-id="562e4-222">Panels teilen den verfügbaren Platz in der Regel zwischen mehreren untergeordneten Elementen auf. Die genaue Aufteilung ist jedoch unterschiedlich.</span><span class="sxs-lookup"><span data-stu-id="562e4-222">Panels typically divide their available space between multiple child elements, although exactly how space is divided varies.</span></span> <span data-ttu-id="562e4-223">So implementiert beispielsweise [**Grid**](https://msdn.microsoft.com/library/windows/apps/br242704) eine Layoutlogik, die mit den Werten [**RowDefinition**](https://msdn.microsoft.com/library/windows/apps/br227606) und [**ColumnDefinition**](https://msdn.microsoft.com/library/windows/apps/br209324) den Raum in **Grid**-Zellen aufteilt. Dabei werden sowohl Größenanpassungen mit Sternvariablen als auch Pixelwerte unterstützt.</span><span class="sxs-lookup"><span data-stu-id="562e4-223">For example, [**Grid**](https://msdn.microsoft.com/library/windows/apps/br242704) implements layout logic that uses its [**RowDefinition**](https://msdn.microsoft.com/library/windows/apps/br227606) and [**ColumnDefinition**](https://msdn.microsoft.com/library/windows/apps/br209324) values to divide the space into the **Grid** cells, supporting both star-sizing and pixel values.</span></span> <span data-ttu-id="562e4-224">Bei Pixelwerten ist die Größe, die für jedes untergeordnete Element zur Verfügung steht, bereits bekannt. Diese Werte können also als Eingangsgröße für ein [**Measure**](https://msdn.microsoft.com/library/windows/apps/br208952) im Rasterstil weitergegeben werden.</span><span class="sxs-lookup"><span data-stu-id="562e4-224">If they're pixel values, the size available for each child is already known, so that's what is passed as input size for a grid-style [**Measure**](https://msdn.microsoft.com/library/windows/apps/br208952).</span></span>
-   <span data-ttu-id="562e4-225">Panels selbst können reservierten Platz als Abstand zwischen einzelnen Elementen verwenden.</span><span class="sxs-lookup"><span data-stu-id="562e4-225">Panels themselves can introduce reserved space for padding between items.</span></span> <span data-ttu-id="562e4-226">Wenn Sie diese Möglichkeit nutzen, müssen Sie die Messwerte als eine Eigenschaft bereitstellen, die sich von [**Margin**](https://msdn.microsoft.com/library/windows/apps/br208724) oder anderen **Padding**-Eigenschaften unterscheidet.</span><span class="sxs-lookup"><span data-stu-id="562e4-226">If you do this, make sure to expose the measurements as a property that's distinct from [**Margin**](https://msdn.microsoft.com/library/windows/apps/br208724) or any **Padding** property.</span></span>
-   <span data-ttu-id="562e4-227">Elemente können Werte für ihre Eigenschaften [**ActualWidth**](https://msdn.microsoft.com/library/windows/apps/br208709) und [**ActualHeight**](https://msdn.microsoft.com/library/windows/apps/br208707) auf der Basis eines früheren Layoutdurchlaufs aufweisen.</span><span class="sxs-lookup"><span data-stu-id="562e4-227">Elements might have values for their [**ActualWidth**](https://msdn.microsoft.com/library/windows/apps/br208709) and [**ActualHeight**](https://msdn.microsoft.com/library/windows/apps/br208707) properties based on a previous layout pass.</span></span> <span data-ttu-id="562e4-228">Wenn sich Werte ändern, kann der Benutzeroberflächencode der App Handler für [**LayoutUpdated**](https://msdn.microsoft.com/library/windows/apps/br208722) auf Elemente anwenden, wenn eine bestimmte Logik ausgeführt werden soll ist. Die Panellogik muss jedoch in der Regel keine Prüfung auf Änderungen mittels Ereignisbehandlung durchführen.</span><span class="sxs-lookup"><span data-stu-id="562e4-228">If values change, app UI code can put handlers for [**LayoutUpdated**](https://msdn.microsoft.com/library/windows/apps/br208722) on elements if there's special logic to run, but panel logic typically doesn't need to check for changes with event handling.</span></span> <span data-ttu-id="562e4-229">Das Layoutsystem legt bereits fest, wann das Layout erneut ausgeführt werden soll, weil sich der Wert einer layoutrelevanten Eigenschaft geändert hat, und die Panelmethoden [**MeasureOverride**](https://msdn.microsoft.com/library/windows/apps/br208730) oder [**ArrangeOverride**](https://msdn.microsoft.com/library/windows/apps/br208711) werden jeweils automatisch aufgerufen.</span><span class="sxs-lookup"><span data-stu-id="562e4-229">The layout system is already making the determinations of when to re-run layout because a layout-relevant property changed value, and a panel's [**MeasureOverride**](https://msdn.microsoft.com/library/windows/apps/br208730) or [**ArrangeOverride**](https://msdn.microsoft.com/library/windows/apps/br208711) are called automatically in the appropriate circumstances.</span></span>

## **<a name="arrangeoverride"></a><span data-ttu-id="562e4-230">ArrangeOverride</span><span class="sxs-lookup"><span data-stu-id="562e4-230">ArrangeOverride</span></span>**


<span data-ttu-id="562e4-231">Die [**ArrangeOverride**](https://msdn.microsoft.com/library/windows/apps/br208711)-Methode hat einen Rückgabewert [**Size**](https://msdn.microsoft.com/library/windows/apps/br225995), der vom Layoutsystem verwendet wird, wenn das Panel selbst gerendert wird, wenn die [**Arrange**](https://msdn.microsoft.com/library/windows/apps/br208914)-Methode im Panel durch das übergeordnete Element im Layout aufgerufen wird.</span><span class="sxs-lookup"><span data-stu-id="562e4-231">The [**ArrangeOverride**](https://msdn.microsoft.com/library/windows/apps/br208711) method has a [**Size**](https://msdn.microsoft.com/library/windows/apps/br225995) return value that's used by the layout system when rendering the panel itself, when the [**Arrange**](https://msdn.microsoft.com/library/windows/apps/br208914) method is called on the panel by its parent in layout.</span></span> <span data-ttu-id="562e4-232">Es ist typisch, dass der Eingangswert *finalSize* und der von **ArrangeOverride** zurückgegebene Wert für **Size** identisch sind.</span><span class="sxs-lookup"><span data-stu-id="562e4-232">It's typical that the input *finalSize* and the **ArrangeOverride** returned **Size** are the same.</span></span> <span data-ttu-id="562e4-233">Wenn sie es nicht sind, bedeutet dies, dass das Panel versucht, eine andere Größe zu verwenden als die, die für die anderen Teilnehmer bei der Layoutbeanspruchung verfügbar ist.</span><span class="sxs-lookup"><span data-stu-id="562e4-233">If they aren't, that means the panel is attempting to make itself a different size than what the other participants in layout claim is available.</span></span> <span data-ttu-id="562e4-234">Die endgültige Größe basierte auf der Voraussetzung, dass zuvor die Übergabe der Messwerte für das Layout durch Ihren Panelcode ausgeführt wurde. Aus diesem Grund lässt sich erklären, weshalb normalerweise keine andere Größe zurückgegeben wird: Sie würden bewusst die Messwertelogik ignorieren.</span><span class="sxs-lookup"><span data-stu-id="562e4-234">The final size was based on having previously run the measure pass of layout through your panel code, so that's why returning a different size isn't typical: it means you are deliberately ignoring measure logic.</span></span>

<span data-ttu-id="562e4-235">Geben Sie keine [**Size**](https://msdn.microsoft.com/library/windows/apps/br225995) mit einer **Infinity**-Komponente zurück.</span><span class="sxs-lookup"><span data-stu-id="562e4-235">Don't return a [**Size**](https://msdn.microsoft.com/library/windows/apps/br225995) with an **Infinity** component.</span></span> <span data-ttu-id="562e4-236">Wenn Sie versuchen, eine solche **Size** zu verwenden, wird über das interne Layout eine Ausnahme ausgelöst.</span><span class="sxs-lookup"><span data-stu-id="562e4-236">Trying to use such a **Size** throws an exception from internal layout.</span></span>

<span data-ttu-id="562e4-237">Alle [**ArrangeOverride**](https://msdn.microsoft.com/library/windows/apps/br208711)-Implementierungen sollten [**Children**](https://msdn.microsoft.com/library/windows/apps/br227514) als Schleife durchlaufen und die [**Arrange**](https://msdn.microsoft.com/library/windows/apps/br208914)-Methode für jedes untergeordnete Element aufrufen.</span><span class="sxs-lookup"><span data-stu-id="562e4-237">All [**ArrangeOverride**](https://msdn.microsoft.com/library/windows/apps/br208711) implementations should loop through [**Children**](https://msdn.microsoft.com/library/windows/apps/br227514), and call the [**Arrange**](https://msdn.microsoft.com/library/windows/apps/br208914) method on each child element.</span></span> <span data-ttu-id="562e4-238">Wie [**Measure**](https://msdn.microsoft.com/library/windows/apps/br208952) hat auch **Arrange** keinen Rückgabewert.</span><span class="sxs-lookup"><span data-stu-id="562e4-238">Like [**Measure**](https://msdn.microsoft.com/library/windows/apps/br208952), **Arrange** doesn't have a return value.</span></span> <span data-ttu-id="562e4-239">Im Gegensatz zu **Measure** wird keine berechnete Eigenschaft als Ergebnis festgelegt. (Das betreffende Element löst jedoch in der Regel ein [**LayoutUpdated**](https://msdn.microsoft.com/library/windows/apps/br208722)-Ereignis aus.)</span><span class="sxs-lookup"><span data-stu-id="562e4-239">Unlike **Measure**, no calculated property gets set as a result (however, the element in question typically fires a [**LayoutUpdated**](https://msdn.microsoft.com/library/windows/apps/br208722) event).</span></span>

<span data-ttu-id="562e4-240">Im Folgenden wird ein sehr einfaches Grundgerüst einer [**ArrangeOverride**](https://msdn.microsoft.com/library/windows/apps/br208711)-Methode gezeigt:</span><span class="sxs-lookup"><span data-stu-id="562e4-240">Here's a very basic skeleton of an [**ArrangeOverride**](https://msdn.microsoft.com/library/windows/apps/br208711) method:</span></span>

```CSharp
protected override Size ArrangeOverride(Size finalSize)
{
    //loop through each Child, call Arrange on each
    foreach (UIElement child in Children)
    {
        Point anchorPoint = new Point(); //TODO more logic for topleft corner placement in your panel
       // for this child, and based on finalSize or other internal state of your panel
        child.Arrange(new Rect(anchorPoint, child.DesiredSize)); //OR, set a different Size 
    }
    return finalSize; //OR, return a different Size, but that's rare
}
```

<span data-ttu-id="562e4-241">Die Anordnungsübergabe für das Layout kann erfolgen, ohne dass zuvor eine Übergabe der Messwerte stattgefunden hat.</span><span class="sxs-lookup"><span data-stu-id="562e4-241">The arrange pass of layout might happen without being preceded by a measure pass.</span></span> <span data-ttu-id="562e4-242">Dies geschieht aber nur, wenn das Layoutsystem festgestellt hat, dass sich keine Eigenschaften geändert haben, die sich auf vorherige Messungen auswirken.</span><span class="sxs-lookup"><span data-stu-id="562e4-242">However, this only happens when the layout system has determined no properties have changed that would have affected the previous measurements.</span></span> <span data-ttu-id="562e4-243">Beispielsweise muss bei einer geänderten Ausrichtung das betreffende Element nicht erneut gemessen werden, da sich dessen [**DesiredSize**](https://msdn.microsoft.com/library/windows/apps/br208921) durch die Änderung der Ausrichtung nicht ändern würde.</span><span class="sxs-lookup"><span data-stu-id="562e4-243">For example, if an alignment changes, there's no need to re-measure that particular element because its [**DesiredSize**](https://msdn.microsoft.com/library/windows/apps/br208921) would not change when its alignment choice changes.</span></span> <span data-ttu-id="562e4-244">Wenn sich jedoch [**ActualHeight**](https://msdn.microsoft.com/library/windows/apps/br208707) für ein beliebiges Element in einem Layout ändern würde, wäre ein neuer Messdurchlauf notwendig.</span><span class="sxs-lookup"><span data-stu-id="562e4-244">On the other hand, if [**ActualHeight**](https://msdn.microsoft.com/library/windows/apps/br208707) changes on any element in a layout, a new measure pass is needed.</span></span> <span data-ttu-id="562e4-245">Das Layoutsystem erkennt echte Messswertänderungen automatisch, ruft den Messdurchlauf erneut auf und führt dann einen neuen Anordnungsdurchlauf aus.</span><span class="sxs-lookup"><span data-stu-id="562e4-245">The layout system automatically detects true measure changes and invokes the measure pass again, and then runs another arrange pass.</span></span>

<span data-ttu-id="562e4-246">Die Eingabe für [**Arrange**](https://msdn.microsoft.com/library/windows/apps/br208914) verwendet einen [**Rect**](https://msdn.microsoft.com/library/windows/apps/br225994)-Wert.</span><span class="sxs-lookup"><span data-stu-id="562e4-246">The input for [**Arrange**](https://msdn.microsoft.com/library/windows/apps/br208914) takes a [**Rect**](https://msdn.microsoft.com/library/windows/apps/br225994) value.</span></span> <span data-ttu-id="562e4-247">Die am häufigsten für die Konstruktion dieses **Rect** verwendete Methode besteht in der Verwendung des Konstruktors, der Eingabewerte für [**Point**](https://msdn.microsoft.com/library/windows/apps/br225870) und [**Size**](https://msdn.microsoft.com/library/windows/apps/br225995) hat.</span><span class="sxs-lookup"><span data-stu-id="562e4-247">The most common way to construct this **Rect** is to use the constructor that has a [**Point**](https://msdn.microsoft.com/library/windows/apps/br225870) input and a [**Size**](https://msdn.microsoft.com/library/windows/apps/br225995) input.</span></span> <span data-ttu-id="562e4-248">Der **Point** ist der Punkt, an dem die obere linke Ecke des Begrenzungsrahmens für das Element platziert werden soll.</span><span class="sxs-lookup"><span data-stu-id="562e4-248">The **Point** is the point where the top left corner of the bounding box for the element should be placed.</span></span> <span data-ttu-id="562e4-249">Die **Size** sind die Dimensionen, die zum Rendern dieses spezifischen Elements verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="562e4-249">The **Size** is the dimensions used to render that particular element.</span></span> <span data-ttu-id="562e4-250">Häufig wird die [**DesiredSize**](https://msdn.microsoft.com/library/windows/apps/br208921) für dieses Element als dieser **Size**-Wert verwendet, da die Festlegung von **DesiredSize** für alle im Layout enthaltenen Elemente der Zweck des Messdurchlaufs für das Layout war.</span><span class="sxs-lookup"><span data-stu-id="562e4-250">You often use the [**DesiredSize**](https://msdn.microsoft.com/library/windows/apps/br208921) for that element as this **Size** value, because establishing the **DesiredSize** for all elements involved in layout was the purpose of the measure pass of layout.</span></span> <span data-ttu-id="562e4-251">(Die Übergabe der Messwerte bestimmt die gesamte Dimensionierung der Elemente auf iterative Weise, sodass das Layoutsystem die Platzierung der Elemente optimieren kann, sobald die Anordnungsübergabe erreicht ist.)</span><span class="sxs-lookup"><span data-stu-id="562e4-251">(The measure pass determines all-up sizing of the elements in an iterative way so that the layout system can optimize how elements are placed once it gets to the arrange pass.)</span></span>

<span data-ttu-id="562e4-252">Bei den [**ArrangeOverride**](https://msdn.microsoft.com/library/windows/apps/br208711)-Implementierungen unterscheidet sich typischerweise die Logik, mit der das Panel die [**Point**](https://msdn.microsoft.com/library/windows/apps/br225870)-Komponente bestimmt, d.h., wie die einzelnen untergeordneten Elemente angeordnet werden.</span><span class="sxs-lookup"><span data-stu-id="562e4-252">What typically varies between [**ArrangeOverride**](https://msdn.microsoft.com/library/windows/apps/br208711) implementations is the logic by which the panel determines the [**Point**](https://msdn.microsoft.com/library/windows/apps/br225870) component of how it arranges each child.</span></span> <span data-ttu-id="562e4-253">Ein Panel mit absoluter Positionierung, beispielsweise [**Canvas**](https://msdn.microsoft.com/library/windows/apps/br209267), verwendet die ausdrücklichen Platzierungsinformationen, die es von den einzelnen Elementen über die [**Canvas.Left**](https://msdn.microsoft.com/library/windows/apps/hh759771)- [**Canvas.Top**](https://msdn.microsoft.com/library/windows/apps/hh759772)-Werte erhält.</span><span class="sxs-lookup"><span data-stu-id="562e4-253">An absolute positioning panel such as [**Canvas**](https://msdn.microsoft.com/library/windows/apps/br209267) uses the explicit placement info that it gets from each element through [**Canvas.Left**](https://msdn.microsoft.com/library/windows/apps/hh759771) and [**Canvas.Top**](https://msdn.microsoft.com/library/windows/apps/hh759772) values.</span></span> <span data-ttu-id="562e4-254">Ein raumtrennendes Panel, beispielsweise [**Grid**](https://msdn.microsoft.com/library/windows/apps/br242704), verwendet mathematische Operationen, durch die der verfügbare Raum in Zellen unterteilt wird. Jede Zelle verfügt über einen x-y-Wert, um zu definieren, an welcher Position die Inhalte der Zelle platziert und angeordnet werden sollen.</span><span class="sxs-lookup"><span data-stu-id="562e4-254">A space-dividing panel such as [**Grid**](https://msdn.microsoft.com/library/windows/apps/br242704) would have mathematical operations that divided the available space into cells and each cell would have an x-y value for where its content should be placed and arranged.</span></span> <span data-ttu-id="562e4-255">Ein adaptives Panel, beispielsweise [**StackPanel**](https://msdn.microsoft.com/library/windows/apps/br209635), kann sich möglicherweise selbst erweitern, um den Inhalt an die Ausrichtungsabmessungen des Panels anzupassen.</span><span class="sxs-lookup"><span data-stu-id="562e4-255">An adaptive panel such as [**StackPanel**](https://msdn.microsoft.com/library/windows/apps/br209635) might be expanding itself to fit content in its orientation dimension.</span></span>

<span data-ttu-id="562e4-256">Neben der direkten Steuerung und Weitergabe an [**Arrange**](https://msdn.microsoft.com/library/windows/apps/br208914) gibt es noch weitere Aspekte, von denen die Positionierung von Elementen im Layout beeinflusst wird.</span><span class="sxs-lookup"><span data-stu-id="562e4-256">There are still additional positioning influences on elements in layout, beyond what you directly control and pass to [**Arrange**](https://msdn.microsoft.com/library/windows/apps/br208914).</span></span> <span data-ttu-id="562e4-257">Diese resultieren aus der internen systemeigenen Implementierung von **Arrange**, die allen von [**FrameworkElement**](https://msdn.microsoft.com/library/windows/apps/br208706) abgeleiteten Typen gemeinsam ist, und werden durch einige andere Typen wie Textelemente ergänzt.</span><span class="sxs-lookup"><span data-stu-id="562e4-257">These come from the internal native implementation of **Arrange** that's common to all [**FrameworkElement**](https://msdn.microsoft.com/library/windows/apps/br208706) derived types and augmented by some other types such as text elements.</span></span> <span data-ttu-id="562e4-258">So können z.B. Elemente einen Rand und eine Ausrichtung haben, und einige können auch einen Abstand aufweisen.</span><span class="sxs-lookup"><span data-stu-id="562e4-258">For example, elements can have margin and alignment, and some can have padding.</span></span> <span data-ttu-id="562e4-259">Diese Eigenschaften stehen oft in Interaktion.</span><span class="sxs-lookup"><span data-stu-id="562e4-259">These properties often interact.</span></span> <span data-ttu-id="562e4-260">Weitere Informationen hierzu finden Sie unter [Ausrichtung, Rand und Abstand](alignment-margin-padding.md).</span><span class="sxs-lookup"><span data-stu-id="562e4-260">For more info, see [Alignment, margin, and padding](alignment-margin-padding.md).</span></span>

## <a name="panels-and-controls"></a><span data-ttu-id="562e4-261">Panels und Steuerelemente</span><span class="sxs-lookup"><span data-stu-id="562e4-261">Panels and controls</span></span>


<span data-ttu-id="562e4-262">Vermeiden Sie es, Funktionen in ein benutzerdefiniertes Panel zu implementieren, die stattdessen in einem benutzerdefiniertem Steuerelement erstellt werden sollten.</span><span class="sxs-lookup"><span data-stu-id="562e4-262">Avoid putting functionality into a custom panel that should instead be built as a custom control.</span></span> <span data-ttu-id="562e4-263">Die Rolle eines Panels besteht darin, alle enthaltenden Inhalte untergeordneter Elemente darzustellen – und zwar als Layoutfunktion, die automatisch erfolgt.</span><span class="sxs-lookup"><span data-stu-id="562e4-263">The role of a panel is to present any child element content that exists within it, as a function of layout that happens automatically.</span></span> <span data-ttu-id="562e4-264">Das Panel fügt dem Inhalt möglicherweise Dekorationen hinzu (ähnlich wie ein [**Border**](https://msdn.microsoft.com/library/windows/apps/br209250) den Rand um das Element ergänzt, das es darstellt) oder führt andere layoutbezogene Anpassungen aus, beispielsweise eine Auffüllung.</span><span class="sxs-lookup"><span data-stu-id="562e4-264">The panel might add decorations to content (similar to how a [**Border**](https://msdn.microsoft.com/library/windows/apps/br209250) adds the border around the element it presents), or perform other layout-related adjustments like padding.</span></span> <span data-ttu-id="562e4-265">So weit sollten Sie jedoch gehen, wenn Sie die Ausgabe der visuellen Struktur über die Berichterstattung und Verwendung der Informationen der untergeordneten Elemente hinaus erweitern möchten.</span><span class="sxs-lookup"><span data-stu-id="562e4-265">But that's about as far as you should go when extending the visual tree output beyond reporting and using information from the children.</span></span>

<span data-ttu-id="562e4-266">Wenn es eine Interaktion gibt, auf die der Benutzer Zugriff hat, sollten Sie ein benutzerdefiniertes Steuerelement definieren – kein Panel.</span><span class="sxs-lookup"><span data-stu-id="562e4-266">If there's any interaction that's accessible to the user, you should write a custom control, not a panel.</span></span> <span data-ttu-id="562e4-267">So sollte ein Panel beispielsweise keine Viewports für den Bildlauf zu den Inhalten, die es darstellt, hinzufügen, selbst wenn das Ziel darin besteht, ein Abschneiden zu verhindern, denn Bildlaufleisten, Ziehpunkte etc. sind interaktive Steuerelemente.</span><span class="sxs-lookup"><span data-stu-id="562e4-267">For example, a panel shouldn't add scrolling viewports to content it presents, even if the goal is to prevent clipping, because the scrollbars, thumbs and so on are interactive control parts.</span></span> <span data-ttu-id="562e4-268">(Der Inhalt kann auch Bildlaufleisten umfassen, diese sollten Sie aber der Logik des untergeordneten Elements überlassen.</span><span class="sxs-lookup"><span data-stu-id="562e4-268">(Content might have scrollbars after all, but you should leave that up to the child's logic.</span></span> <span data-ttu-id="562e4-269">Erzwingen Sie dies nicht, indem Sie Bildlaufleisten als Layoutvorgang hinzufügen.) Vielleicht möchten Sie ein Steuerelement erstellen und auch ein benutzerdefiniertes Panel definieren, das in der visuellen Struktur dieses Steuerelements eine wichtige Rolle bei der Darstellung von Inhalten in diesem Steuerelement spielt.</span><span class="sxs-lookup"><span data-stu-id="562e4-269">Don't force it by adding scrolling as a layout operation.) You might create a control and also write a custom panel that plays an important role in that control's visual tree, when it comes to presenting content in that control.</span></span> <span data-ttu-id="562e4-270">Das Steuerelement und das Panel sollten jedoch unterschiedliche Code-Objekte sein.</span><span class="sxs-lookup"><span data-stu-id="562e4-270">But the control and the panel should be distinct code objects.</span></span>

<span data-ttu-id="562e4-271">Ein Grund dafür: Die Unterscheidung zwischen Steuerelement und Panel ist für die Microsoft-Benutzeroberflächenautomatisierung und Barrierefreiheit wichtig.</span><span class="sxs-lookup"><span data-stu-id="562e4-271">One reason the distinction between control and panel is important is because of Microsoft UI Automation and accessibility.</span></span> <span data-ttu-id="562e4-272">Panels stellen ein visuelles Layoutverhalten bereit, kein logisches Verhalten.</span><span class="sxs-lookup"><span data-stu-id="562e4-272">Panels provide a visual layout behavior, not a logical behavior.</span></span> <span data-ttu-id="562e4-273">Die visuelle Darstellung eines UI-Elements ist in der Regel kein wichtiger UI-Aspekt in Barrierefreiheitsszenarien.</span><span class="sxs-lookup"><span data-stu-id="562e4-273">How a UI element appears visually is not an aspect of UI that is typically important to accessibility scenarios.</span></span> <span data-ttu-id="562e4-274">Bei der Barrierefreiheit geht es darum, die Teile einer App verfügbar zu machen, die für das Verständnis der UI-Logik wichtig sind.</span><span class="sxs-lookup"><span data-stu-id="562e4-274">Accessibility is about exposing the parts of an app that are logically important to understanding a UI.</span></span> <span data-ttu-id="562e4-275">Wenn Interaktion erforderlich ist, sollten Steuerelemente die Interaktionsmöglichkeiten in der Benutzeroberflächenautomatisierungs-Infrastruktur bereitstellen.</span><span class="sxs-lookup"><span data-stu-id="562e4-275">When interaction is required, controls should expose the interaction possibilities to the UI Automation infrastructure.</span></span> <span data-ttu-id="562e4-276">Weitere Informationen finden Sie unter [Benutzerdefinierte Automatisierungspeers](https://msdn.microsoft.com/library/windows/apps/mt297667).</span><span class="sxs-lookup"><span data-stu-id="562e4-276">For more info, see [Custom automation peers](https://msdn.microsoft.com/library/windows/apps/mt297667).</span></span>

## <a name="other-layout-api"></a><span data-ttu-id="562e4-277">Andere Layout-APIs</span><span class="sxs-lookup"><span data-stu-id="562e4-277">Other layout API</span></span>


<span data-ttu-id="562e4-278">Es gibt einige weitere APIs, die Teil des Layoutsystems sind, jedoch nicht durch [**Panel**](https://msdn.microsoft.com/library/windows/apps/br227511) deklariert werden.</span><span class="sxs-lookup"><span data-stu-id="562e4-278">There are some other APIs that are part of the layout system, but aren't declared by [**Panel**](https://msdn.microsoft.com/library/windows/apps/br227511).</span></span> <span data-ttu-id="562e4-279">Einige von ihnen könnten in einer Panelimplementierung oder in einem benutzerdefinierten Steuerelement verwendet werden, das Panels nutzt.</span><span class="sxs-lookup"><span data-stu-id="562e4-279">You might use these in a panel implementation or in a custom control that uses panels.</span></span>

-   <span data-ttu-id="562e4-280">[**UpdateLayout**](https://msdn.microsoft.com/library/windows/apps/br208989), [**InvalidateMeasure**](https://msdn.microsoft.com/library/windows/apps/br208930) und [**InvalidateArrange**](https://msdn.microsoft.com/library/windows/apps/br208929) sind Methoden, die einen Layoutdurchlauf initiieren.</span><span class="sxs-lookup"><span data-stu-id="562e4-280">[**UpdateLayout**](https://msdn.microsoft.com/library/windows/apps/br208989), [**InvalidateMeasure**](https://msdn.microsoft.com/library/windows/apps/br208930), and [**InvalidateArrange**](https://msdn.microsoft.com/library/windows/apps/br208929) are methods that initiate a layout pass.</span></span> <span data-ttu-id="562e4-281">**InvalidateArrange** löst möglicherweise keinen Messdurchlauf aus wie die beiden anderen Methoden.</span><span class="sxs-lookup"><span data-stu-id="562e4-281">**InvalidateArrange** might not trigger a measure pass, but the other two do.</span></span> <span data-ttu-id="562e4-282">Diese Methoden dürfen niemals aus einer Layoutmethodenüberschreibung heraus aufgerufen werden, da sie mit großer Wahrscheinlichkeit zu einer Layoutschleife führen.</span><span class="sxs-lookup"><span data-stu-id="562e4-282">Never call these methods from within a layout method override, because they're almost sure to cause a layout loop.</span></span> <span data-ttu-id="562e4-283">Vom Steuerelementcode müssen sie normalerweise auch nicht aufgerufen werden.</span><span class="sxs-lookup"><span data-stu-id="562e4-283">Control code doesn't typically need to call them either.</span></span> <span data-ttu-id="562e4-284">Die meisten Layoutaspekte werden automatisch ausgelöst, indem Änderungen in den vom Framework definierten Layouteigenschaften wie [**Width**](/uwp/api/Windows.UI.Xaml.FrameworkElement.Width) usw. erkannt werden.</span><span class="sxs-lookup"><span data-stu-id="562e4-284">Most aspects of layout are triggered automatically by detecting changes to the framework-defined layout properties such as [**Width**](/uwp/api/Windows.UI.Xaml.FrameworkElement.Width) and so on.</span></span>
-   <span data-ttu-id="562e4-285">[**LayoutUpdated**](https://msdn.microsoft.com/library/windows/apps/br208722) ist ein Ereignis, das ausgelöst wird, wenn sich ein Layoutaspekt des Elements ändert.</span><span class="sxs-lookup"><span data-stu-id="562e4-285">[**LayoutUpdated**](https://msdn.microsoft.com/library/windows/apps/br208722) is an event that fires when some aspect of layout of the element has changed.</span></span> <span data-ttu-id="562e4-286">Das ist nicht spezifisch für Panels; das Ereignis wird durch das [**FrameworkElement**](https://msdn.microsoft.com/library/windows/apps/br208706) definiert.</span><span class="sxs-lookup"><span data-stu-id="562e4-286">This isn't specific to panels; the event is defined by [**FrameworkElement**](https://msdn.microsoft.com/library/windows/apps/br208706).</span></span>
-   <span data-ttu-id="562e4-287">[**SizeChanged**](https://msdn.microsoft.com/library/windows/apps/br208742) ist ein Ereignis, das nur ausgelöst wird, wenn die Layoutdurchläufe abgeschlossen sind. Es gibt an, dass sich [**ActualHeight**](https://msdn.microsoft.com/library/windows/apps/br208707) oder [**ActualWidth**](https://msdn.microsoft.com/library/windows/apps/br208709) geändert haben.</span><span class="sxs-lookup"><span data-stu-id="562e4-287">[**SizeChanged**](https://msdn.microsoft.com/library/windows/apps/br208742) is an event that fires only after layout passes are finalized, and indicates that [**ActualHeight**](https://msdn.microsoft.com/library/windows/apps/br208707) or [**ActualWidth**](https://msdn.microsoft.com/library/windows/apps/br208709) have changed as a result.</span></span> <span data-ttu-id="562e4-288">Dies ist ein weiteres [**FrameworkElement**](https://msdn.microsoft.com/library/windows/apps/br208706)-Ereignis.</span><span class="sxs-lookup"><span data-stu-id="562e4-288">This is another [**FrameworkElement**](https://msdn.microsoft.com/library/windows/apps/br208706) event.</span></span> <span data-ttu-id="562e4-289">Es gibt Fälle, in denen [**LayoutUpdated**](https://msdn.microsoft.com/library/windows/apps/br208722) ausgelöst wird, **SizeChanged** hingegen nicht.</span><span class="sxs-lookup"><span data-stu-id="562e4-289">There are cases where [**LayoutUpdated**](https://msdn.microsoft.com/library/windows/apps/br208722) fires, but **SizeChanged** does not.</span></span> <span data-ttu-id="562e4-290">Beispielsweise könnten die internen Inhalte neu angeordnet werden, ohne dass sich die Größe des Elements ändert.</span><span class="sxs-lookup"><span data-stu-id="562e4-290">For example the internal contents might be rearranged, but the element's size didn't change.</span></span>


## <a name="related-topics"></a><span data-ttu-id="562e4-291">Verwandte Themen</span><span class="sxs-lookup"><span data-stu-id="562e4-291">Related topics</span></span>

**<span data-ttu-id="562e4-292">Referenz</span><span class="sxs-lookup"><span data-stu-id="562e4-292">Reference</span></span>**
* [**<span data-ttu-id="562e4-293">FrameworkElement.ArrangeOverride</span><span class="sxs-lookup"><span data-stu-id="562e4-293">FrameworkElement.ArrangeOverride</span></span>**](https://msdn.microsoft.com/library/windows/apps/br208711)
* [**<span data-ttu-id="562e4-294">FrameworkElement.MeasureOverride</span><span class="sxs-lookup"><span data-stu-id="562e4-294">FrameworkElement.MeasureOverride</span></span>**](https://msdn.microsoft.com/library/windows/apps/br208730)
* [**<span data-ttu-id="562e4-295">Panel</span><span class="sxs-lookup"><span data-stu-id="562e4-295">Panel</span></span>**](https://msdn.microsoft.com/library/windows/apps/br227511)

**<span data-ttu-id="562e4-296">Konzepte</span><span class="sxs-lookup"><span data-stu-id="562e4-296">Concepts</span></span>**
* [<span data-ttu-id="562e4-297">Ausrichtung, Rand und Abstand</span><span class="sxs-lookup"><span data-stu-id="562e4-297">Alignment, margin, and padding</span></span>](alignment-margin-padding.md)
