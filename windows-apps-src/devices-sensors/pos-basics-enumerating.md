---
author: TerryWarwick
title: Auflisten von PointOfService-Geräten
description: Hier erfahren Sie, wie Sie PointOfService Geräte auflisten.
ms.author: jken
ms.date: 10/08/2018
ms.topic: article
ms.prod: windows
ms.technology: uwp
keywords: Windows 10, UWP, Point of Service, POS
ms.localizationpriority: medium
ms.openlocfilehash: 8796b2ea025a00015881d39449f2dd99d57121f8
ms.sourcegitcommit: 72835733ec429a5deb6a11da4112336746e5e9cf
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 10/20/2018
ms.locfileid: "5169890"
---
# <a name="enumerating-point-of-service-devices"></a><span data-ttu-id="48d77-104">Auflisten von Point of Service-Geräten</span><span class="sxs-lookup"><span data-stu-id="48d77-104">Enumerating Point of Service devices</span></span>
<span data-ttu-id="48d77-105">In diesem Abschnitt erfahren Sie, wie Sie [eine Geräteauswahl definieren](https://docs.microsoft.com/windows/uwp/devices-sensors/build-a-device-selector), die verwendet wird, um die im System verfügbaren Geräte abzufragen, und verwenden diese Auswahl, um Point of Service-Geräte mithilfe einer der folgenden Methoden aufzulisten:</span><span class="sxs-lookup"><span data-stu-id="48d77-105">In this section you will learn how to [define a device selector](https://docs.microsoft.com/windows/uwp/devices-sensors/build-a-device-selector) that is used to query devices available to the system and use this selector to enumerate Point of Service devices using one of the following methods:</span></span>

<span data-ttu-id="48d77-106">**Methode 1:** [Verwenden einer Geräteauswahl](#method-1:-use-a-device-picker)</span><span class="sxs-lookup"><span data-stu-id="48d77-106">**Method 1:** [Use a device picker](#method-1:-use-a-device-picker)</span></span>
<br/>
<span data-ttu-id="48d77-107">Anzeigen von einem Geräteauswahl-UI und den Benutzer ein verbundenen Gerät auswählen.</span><span class="sxs-lookup"><span data-stu-id="48d77-107">Display a device picker UI and have the user choose a connected device.</span></span> <span data-ttu-id="48d77-108">Diese Methode behandelt die Liste aktualisieren, wenn Geräte angeschlossen und entfernt werden, und ist einfacher und sicherer als andere Methoden.</span><span class="sxs-lookup"><span data-stu-id="48d77-108">This method handles updating the list when devices are attached and removed, and is simpler and safer than other methods.</span></span>

<span data-ttu-id="48d77-109">**Methode 2:** [Abrufen des ersten verfügbaren Geräts](#Method-1:-get-first-available-device)</span><span class="sxs-lookup"><span data-stu-id="48d77-109">**Method 2:** [Get first available device](#Method-1:-get-first-available-device)</span></span><br /><span data-ttu-id="48d77-110">Verwenden Sie [GetDefaultAsync](https://docs.microsoft.com/uwp/api/windows.devices.pointofservice.barcodescanner.getdefaultasync) , um die erste verfügbare Gerät in einer bestimmten Point of Service-Geräteklasse zugreifen.</span><span class="sxs-lookup"><span data-stu-id="48d77-110">Use [GetDefaultAsync](https://docs.microsoft.com/uwp/api/windows.devices.pointofservice.barcodescanner.getdefaultasync) to access the first available device in a specific Point of Service device class.</span></span>

<span data-ttu-id="48d77-111">**Methode 3:** [Momentaufnahmen von Geräten](#Method-2:-Snapshot-of-devices)</span><span class="sxs-lookup"><span data-stu-id="48d77-111">**Method 3:** [Snapshot of devices](#Method-2:-Snapshot-of-devices)</span></span><br /><span data-ttu-id="48d77-112">Enumerieren einer Momentaufnahme von Point of Service-Geräte, die auf dem System zu einem bestimmten Zeitpunkt vorhanden sind.</span><span class="sxs-lookup"><span data-stu-id="48d77-112">Enumerate a snapshot of Point of Service devices that are present on the system at a given point in time.</span></span> <span data-ttu-id="48d77-113">Dies ist nützlich, wenn Sie eine eigene Benutzeroberfläche erstellen möchten oder Geräte auflisten müssen, ohne dem Benutzer eine Benutzeroberfläche anzuzeigen.</span><span class="sxs-lookup"><span data-stu-id="48d77-113">This is useful when you want to build your own UI or need to enumerate devices without displaying a UI to the user.</span></span> <span data-ttu-id="48d77-114">[FindAllAsync](https://docs.microsoft.com/uwp/api/windows.devices.enumeration.deviceinformation.findallasync) hält Ergebnisse zurück, bis die gesamte Auflistung abgeschlossen ist.</span><span class="sxs-lookup"><span data-stu-id="48d77-114">[FindAllAsync](https://docs.microsoft.com/uwp/api/windows.devices.enumeration.deviceinformation.findallasync) will hold back results until the entire enumeration is completed.</span></span>

<span data-ttu-id="48d77-115">**Methode 4:** [Auflisten und überwachen](#Method-3:-Enumerate-and-watch)</span><span class="sxs-lookup"><span data-stu-id="48d77-115">**Method 4:** [Enumerate and watch](#Method-3:-Enumerate-and-watch)</span></span><br /><span data-ttu-id="48d77-116">[DeviceWatcher](https://docs.microsoft.com/uwp/api/Windows.Devices.Enumeration.DeviceWatcher) ist eine leistungsfähigere und flexiblere auflistungsmodell, mit dem Sie zum Auflisten von Geräten, die derzeit vorhanden sind, und außerdem Benachrichtigungen empfangen, wenn Geräte hinzugefügt oder aus dem System entfernt werden.</span><span class="sxs-lookup"><span data-stu-id="48d77-116">[DeviceWatcher](https://docs.microsoft.com/uwp/api/Windows.Devices.Enumeration.DeviceWatcher) is a more powerful and flexible enumeration model that allows you to enumerate devices that are currently present, and also receive notifications when devices are added or removed from the system.</span></span>  <span data-ttu-id="48d77-117">Dies ist hilfreich, wenn Sie eine aktuelle Liste von Geräten im Hintergrund zur Anzeige auf Ihrer Benutzeroberfläche verwalten möchten, statt darauf zu warten, bis eine Momentaufnahme erstellt wird.</span><span class="sxs-lookup"><span data-stu-id="48d77-117">This is useful when you want to maintain a current list of devices in the background for displaying in your UI rather than waiting for a snapshot to occur.</span></span>

## <a name="define-a-device-selector"></a><span data-ttu-id="48d77-118">Definieren einer Geräteauswahl</span><span class="sxs-lookup"><span data-stu-id="48d77-118">Define a device selector</span></span>
<span data-ttu-id="48d77-119">Mit einer Geräteauswahl können Sie die Geräte begrenzen, die Sie beim Auflisten von Geräten durchsuchen.</span><span class="sxs-lookup"><span data-stu-id="48d77-119">A device selector will enable you to limit the devices you are searching through when enumerating devices.</span></span>  <span data-ttu-id="48d77-120">Dadurch können Sie nur relevante Ergebnisse abrufen und die Zeit verkürzen benötigt wird, um die gewünschten Geräte aufzulisten.</span><span class="sxs-lookup"><span data-stu-id="48d77-120">This will allow you to only get relevant results and reduce the time it takes to enumerate the desired devices.</span></span>

<span data-ttu-id="48d77-121">Sie können die **GetDeviceSelector** -Methode für den Typ des Geräts verwenden, die Sie für erfahren möchten, können Sie die Geräteauswahl für dieses Typs abrufen.</span><span class="sxs-lookup"><span data-stu-id="48d77-121">You can use the **GetDeviceSelector** method for the type of device that you're looking for to get the device selector for that type.</span></span> <span data-ttu-id="48d77-122">Mit [PosPrinter.GetDeviceSelector](https://docs.microsoft.com/uwp/api/windows.devices.pointofservice.posprinter.getdeviceselector#Windows_Devices_PointOfService_PosPrinter_GetDeviceSelector) wird z. B. bereitstellen, dass Sie eine Auswahl zum Auflisten aller [PosPrinters](https://docs.microsoft.com/uwp/api/windows.devices.pointofservice.posprinter) mit dem System, einschließlich USB-, Netzwerk- und Bluetooth-POS-Drucker verbunden.</span><span class="sxs-lookup"><span data-stu-id="48d77-122">For example, using [PosPrinter.GetDeviceSelector](https://docs.microsoft.com/uwp/api/windows.devices.pointofservice.posprinter.getdeviceselector#Windows_Devices_PointOfService_PosPrinter_GetDeviceSelector) will provide you with a selector to enumerate all [PosPrinters](https://docs.microsoft.com/uwp/api/windows.devices.pointofservice.posprinter) attached to the system, including USB, network and Bluetooth POS printers.</span></span>

```Csharp
using Windows.Devices.PointOfService;

string selector = POSPrinter.GetDeviceSelector();
```

<span data-ttu-id="48d77-123">Die **GetDeviceSelector** -Methoden für die verschiedenen Gerätetypen sind:</span><span class="sxs-lookup"><span data-stu-id="48d77-123">The **GetDeviceSelector** methods for the different device types are:</span></span>

* [<span data-ttu-id="48d77-124">BarcodeScanner.GetDeviceSelector</span><span class="sxs-lookup"><span data-stu-id="48d77-124">BarcodeScanner.GetDeviceSelector</span></span>](https://docs.microsoft.com/uwp/api/windows.devices.pointofservice.barcodescanner.getdeviceselector)
* [<span data-ttu-id="48d77-125">CashDrawer.GetDeviceSelector</span><span class="sxs-lookup"><span data-stu-id="48d77-125">CashDrawer.GetDeviceSelector</span></span>](https://docs.microsoft.com/uwp/api/windows.devices.pointofservice.cashdrawer.getdeviceselector)
* [<span data-ttu-id="48d77-126">LineDisplay.GetDeviceSelector</span><span class="sxs-lookup"><span data-stu-id="48d77-126">LineDisplay.GetDeviceSelector</span></span>](https://docs.microsoft.com/uwp/api/windows.devices.pointofservice.linedisplay.getdeviceselector)
* [<span data-ttu-id="48d77-127">MagneticStripeReader.GetDeviceSelector</span><span class="sxs-lookup"><span data-stu-id="48d77-127">MagneticStripeReader.GetDeviceSelector</span></span>](https://docs.microsoft.com/uwp/api/windows.devices.pointofservice.magneticstripereader.getdeviceselector)
* [<span data-ttu-id="48d77-128">PosPrinter.GetDeviceSelector</span><span class="sxs-lookup"><span data-stu-id="48d77-128">PosPrinter.GetDeviceSelector</span></span>](https://docs.microsoft.com/uwp/api/windows.devices.pointofservice.posprinter.getdeviceselector)

<span data-ttu-id="48d77-129">Verwenden eine **GetDeviceSelector** -Methode, die einen [PosConnectionTypes](https://docs.microsoft.com/uwp/api/windows.devices.pointofservice.posconnectiontypes) Wert als Parameter akzeptiert, können Sie einschränken, Ihre Auswahl zum Auflisten von lokalen, Netzwerk- oder Bluetooth-attached POS-Geräte, reduziert den Zeitaufwand für die Abfrage abgeschlossen.</span><span class="sxs-lookup"><span data-stu-id="48d77-129">Using a **GetDeviceSelector** method that takes a [PosConnectionTypes](https://docs.microsoft.com/uwp/api/windows.devices.pointofservice.posconnectiontypes) value as a parameter, you can restrict your selector to enumerate local, network, or Bluetooth-attached POS devices, reducing the time it takes for the query to complete.</span></span>  <span data-ttu-id="48d77-130">Das folgende Beispiel zeigt, dass eine Verwendung dieser Methode einen Selektor definieren, der nur lokal unterstützt POS-Drucker verbunden.</span><span class="sxs-lookup"><span data-stu-id="48d77-130">The sample below shows a use of this method to define a selector that supports only locally attached POS printers.</span></span>

 ```Csharp
using Windows.Devices.PointOfService;

string selector = POSPrinter.GetDeviceSelector(PosConnectionTypes.Local);
```

> [!TIP]
> <span data-ttu-id="48d77-131">Weitere Informationen zum Erstellen umfangreicherer Auswahlzeichenfolgen finden Sie unter [Erstellen einer Geräteauswahl](https://docs.microsoft.com/windows/uwp/devices-sensors/build-a-device-selector).</span><span class="sxs-lookup"><span data-stu-id="48d77-131">See [Build a device selector](https://docs.microsoft.com/windows/uwp/devices-sensors/build-a-device-selector) for building more advanced selector strings.</span></span>

## <a name="method-1-use-a-device-picker"></a><span data-ttu-id="48d77-132">Methode 1: Verwenden einer Geräteauswahl</span><span class="sxs-lookup"><span data-stu-id="48d77-132">Method 1: Use a device picker</span></span>

<span data-ttu-id="48d77-133">Die [DevicePicker](https://docs.microsoft.com/uwp/api/windows.devices.enumeration.devicepicker) -Klasse können Sie eine Auswahl-Flyout angezeigt wird, eine Liste der Geräte für den Benutzer zur Auswahl enthält.</span><span class="sxs-lookup"><span data-stu-id="48d77-133">The [DevicePicker](https://docs.microsoft.com/uwp/api/windows.devices.enumeration.devicepicker) class allows you to display a picker flyout that contains a list of devices for the user to choose from.</span></span> <span data-ttu-id="48d77-134">Die Eigenschaft [Filter](https://docs.microsoft.com/uwp/api/windows.devices.enumeration.devicepicker.filter) können Sie auswählen, welche Arten von Geräten, die in der Auswahl angezeigt.</span><span class="sxs-lookup"><span data-stu-id="48d77-134">You can use the [Filter](https://docs.microsoft.com/uwp/api/windows.devices.enumeration.devicepicker.filter) property to choose which types of devices to show in the picker.</span></span> <span data-ttu-id="48d77-135">Diese Eigenschaft ist vom Typ [DevicePickerFilter](https://docs.microsoft.com/uwp/api/windows.devices.enumeration.devicepickerfilter).</span><span class="sxs-lookup"><span data-stu-id="48d77-135">This property is of type [DevicePickerFilter](https://docs.microsoft.com/uwp/api/windows.devices.enumeration.devicepickerfilter).</span></span> <span data-ttu-id="48d77-136">Sie können Gerätetypen auf den Filter unter Verwendung der [SupportedDeviceClasses](https://docs.microsoft.com/uwp/api/windows.devices.enumeration.devicepickerfilter.supporteddeviceclasses) oder [SupportedDeviceSelectors](https://docs.microsoft.com/uwp/api/windows.devices.enumeration.devicepickerfilter.supporteddeviceselectors) hinzufügen.</span><span class="sxs-lookup"><span data-stu-id="48d77-136">You can add device types to the filter using the [SupportedDeviceClasses](https://docs.microsoft.com/uwp/api/windows.devices.enumeration.devicepickerfilter.supporteddeviceclasses) or [SupportedDeviceSelectors](https://docs.microsoft.com/uwp/api/windows.devices.enumeration.devicepickerfilter.supporteddeviceselectors) property.</span></span>

<span data-ttu-id="48d77-137">Wenn Sie die Geräteauswahl anzeigen möchten, können Sie die Methode [PickSingleDeviceAsync](https://docs.microsoft.com/uwp/api/windows.devices.enumeration.devicepicker.picksingledeviceasync) aufrufen wird die Auswahl-UI anzeigen und das ausgewählte Gerät zurückgibt.</span><span class="sxs-lookup"><span data-stu-id="48d77-137">When you are ready to show the device picker, you can call the [PickSingleDeviceAsync](https://docs.microsoft.com/uwp/api/windows.devices.enumeration.devicepicker.picksingledeviceasync) method, which will show the picker UI and return the selected device.</span></span> <span data-ttu-id="48d77-138">Sie müssen eine [Rect](https://docs.microsoft.com/uwp/api/windows.foundation.rect) angeben, die bestimmt, wo das Flyout angezeigt wird.</span><span class="sxs-lookup"><span data-stu-id="48d77-138">You'll need to specify a [Rect](https://docs.microsoft.com/uwp/api/windows.foundation.rect) that will determine where the flyout appears.</span></span> <span data-ttu-id="48d77-139">Diese Methode gibt ein [DeviceInformation](https://docs.microsoft.com/uwp/api/windows.devices.enumeration.deviceinformation) -Objekt, damit es mit POS-APIs verwenden, müssen Sie die **FromIdAsync** -Methode für die bestimmte Geräteklasse verwenden.</span><span class="sxs-lookup"><span data-stu-id="48d77-139">This method will return a [DeviceInformation](https://docs.microsoft.com/uwp/api/windows.devices.enumeration.deviceinformation) object, so to use it with the Point of Service APIs, you'll need to use the **FromIdAsync** method for the particular device class that you want.</span></span> <span data-ttu-id="48d77-140">Sie übergeben Sie die Eigenschaft [DeviceInformation.Id](https://docs.microsoft.com/uwp/api/windows.devices.enumeration.deviceinformation.id) als die *DeviceId* Parameter der Methode, und rufen Sie eine Instanz der Geräteklasse als Rückgabewert.</span><span class="sxs-lookup"><span data-stu-id="48d77-140">You pass the [DeviceInformation.Id](https://docs.microsoft.com/uwp/api/windows.devices.enumeration.deviceinformation.id) property as the method's *deviceId* parameter, and get an instance of the device class as the return value.</span></span>

<span data-ttu-id="48d77-141">Der folgende Codeausschnitt erstellt ein **DevicePicker**, fügt ein Barcode-Scanner-Filter, verfügt über den Benutzer auswählen eines Geräts, und erstellt dann ein **BarcodeScanner** -Objekt basierend auf die Geräte-ID:</span><span class="sxs-lookup"><span data-stu-id="48d77-141">The following code snippet creates a **DevicePicker**, adds a barcode scanner filter to it, has the user pick a device, and then creates a **BarcodeScanner** object based on the device ID:</span></span>

```cs
private async Task<BarcodeScanner> GetBarcodeScanner()
{
    DevicePicker devicePicker = new DevicePicker();
    devicePicker.Filter.SupportedDeviceSelectors.Add(BarcodeScanner.GetDeviceSelector());
    Rect rect = new Rect();
    DeviceInformation deviceInformation = await devicePicker.PickSingleDeviceAsync(rect);
    BarcodeScanner barcodeScanner = await BarcodeScanner.FromIdAsync(deviceInformation.Id);
    return barcodeScanner;
}
```

## <a name="method-2-get-first-available-device"></a><span data-ttu-id="48d77-142">Methode 2: Abrufen des ersten verfügbaren Geräts</span><span class="sxs-lookup"><span data-stu-id="48d77-142">Method 2: Get first available device</span></span>

<span data-ttu-id="48d77-143">Die einfachste Möglichkeit zum Abrufen eines POS-Geräts ist die Verwendung **GetDefaultAsync** des ersten verfügbaren Geräts innerhalb einer Geräteklasse Point-of-Service-abrufen.</span><span class="sxs-lookup"><span data-stu-id="48d77-143">The simplest way to get a Point of Service device is to use **GetDefaultAsync** to get the first available device within a Point of Service device class.</span></span> 

<span data-ttu-id="48d77-144">Das folgende Beispiel veranschaulicht die Verwendung von [GetDefaultAsync](https://docs.microsoft.com/uwp/api/windows.devices.pointofservice.barcodescanner.getdefaultasync#Windows_Devices_PointOfService_BarcodeScanner_GetDefaultAsync) für [BarcodeScanner](https://docs.microsoft.com/uwp/api/windows.devices.pointofservice.barcodescanner).</span><span class="sxs-lookup"><span data-stu-id="48d77-144">The sample below illustrates the use of [GetDefaultAsync](https://docs.microsoft.com/uwp/api/windows.devices.pointofservice.barcodescanner.getdefaultasync#Windows_Devices_PointOfService_BarcodeScanner_GetDefaultAsync) for [BarcodeScanner](https://docs.microsoft.com/uwp/api/windows.devices.pointofservice.barcodescanner).</span></span> <span data-ttu-id="48d77-145">Das Codierungsmuster ist für alle Point of Service-Geräteklassen ähnlich.</span><span class="sxs-lookup"><span data-stu-id="48d77-145">The coding pattern is similar for all Point of Service device classes.</span></span>

```Csharp
using Windows.Devices.PointOfService;

BarcodeScanner barcodeScanner = await BarcodeScanner.GetDefaultAsync();
```

> [!CAUTION]
> <span data-ttu-id="48d77-146">**GetDefaultAsync** muss mit Vorsicht verwendet werden, da ein anderes Gerät von einer Sitzung zur nächsten möglicherweise zurückgegeben wird.</span><span class="sxs-lookup"><span data-stu-id="48d77-146">**GetDefaultAsync** must be used with care as it may return a different device from one session to the next.</span></span> <span data-ttu-id="48d77-147">Viele Ereignisse können diese Auflistung beeinflussen und zu einem anderen ersten verfügbaren Gerät führen, darunter:</span><span class="sxs-lookup"><span data-stu-id="48d77-147">Many events can influence this enumeration resulting in a different first available device, including:</span></span> 
> - <span data-ttu-id="48d77-148">Änderung bei den an Ihren Computer angeschlossenen Kameras</span><span class="sxs-lookup"><span data-stu-id="48d77-148">Change in cameras attached to your computer</span></span> 
> - <span data-ttu-id="48d77-149">Point Service-Geräte an Ihren Computer angeschlossenen ändern</span><span class="sxs-lookup"><span data-stu-id="48d77-149">Change in Point of Service devices attached to your computer</span></span>
> - <span data-ttu-id="48d77-150">Änderung bei den Network attached Point-of-Service-Geräten in Ihrem Netzwerk verfügbar</span><span class="sxs-lookup"><span data-stu-id="48d77-150">Change in network-attached Point of Service devices available on your network</span></span>
> - <span data-ttu-id="48d77-151">Änderung bei den Bluetooth-Point of Service-Geräten in Reichweite Ihres Computers</span><span class="sxs-lookup"><span data-stu-id="48d77-151">Change in Bluetooth Point of Service devices within range of your computer</span></span> 
> - <span data-ttu-id="48d77-152">Änderungen an der Point of Service-Konfiguration</span><span class="sxs-lookup"><span data-stu-id="48d77-152">Changes to the Point of Service configuration</span></span> 
> - <span data-ttu-id="48d77-153">Installation von Treibern oder OPOS-Serviceobjekten</span><span class="sxs-lookup"><span data-stu-id="48d77-153">Installation of drivers or OPOS service objects</span></span>
> - <span data-ttu-id="48d77-154">Installation von Point of Service-Erweiterungen</span><span class="sxs-lookup"><span data-stu-id="48d77-154">Installation of Point of Service extensions</span></span>
> - <span data-ttu-id="48d77-155">Updates am Windows-Betriebssystem</span><span class="sxs-lookup"><span data-stu-id="48d77-155">Update to Windows operating system</span></span>

## <a name="method-3-snapshot-of-devices"></a><span data-ttu-id="48d77-156">Methode 3: Momentaufnahmen von Geräten</span><span class="sxs-lookup"><span data-stu-id="48d77-156">Method 3: Snapshot of devices</span></span>

<span data-ttu-id="48d77-157">In einigen Szenarien möchten Sie vielleicht eine eigene Benutzeroberfläche erstellen oder müssen Geräte auflisten, ohne dem Benutzer eine Benutzeroberfläche anzuzeigen.</span><span class="sxs-lookup"><span data-stu-id="48d77-157">In some scenarios you may want to build your own UI or need to enumerate devices without displaying a UI to the user.</span></span>  <span data-ttu-id="48d77-158">In diesen Situationen können Sie mithilfe von [DeviceInformation.FindAllAsync](https://docs.microsoft.com/uwp/api/windows.devices.enumeration.deviceinformation.findallasync) eine Momentaufnahme von Geräten auflisten, die derzeit mit dem System verbunden oder gekoppelt sind.</span><span class="sxs-lookup"><span data-stu-id="48d77-158">In these situations, you could enumerate a snapshot of devices that are currently connected or paired with the system using [DeviceInformation.FindAllAsync](https://docs.microsoft.com/uwp/api/windows.devices.enumeration.deviceinformation.findallasync).</span></span>  <span data-ttu-id="48d77-159">Diese Methode hält alle Ergebnisse zurück, bis die gesamte Auflistung abgeschlossen ist.</span><span class="sxs-lookup"><span data-stu-id="48d77-159">This method will hold back any results until the entire enumeration is completed.</span></span>

> [!TIP]
> <span data-ttu-id="48d77-160">Es wird empfohlen, die **GetDeviceSelector** -Methode mit dem Parameter **posconnectiontypes zu benutzen** verwenden, wenn **FindAllAsync** für die Abfrage auf den gewünschten Verbindungstyp einzuschränken.</span><span class="sxs-lookup"><span data-stu-id="48d77-160">It is recommended to use the **GetDeviceSelector** method with the **PosConnectionTypes** parameter when using **FindAllAsync** to limit your query to the connection type desired.</span></span>  <span data-ttu-id="48d77-161">Netzwerk- und Bluetooth-Verbindungen können die Ergebnisse verzögern, da ihre Auflistungen abgeschlossen werden müssen, bevor **FindAllAsync** -Ergebnisse zurückgegeben werden.</span><span class="sxs-lookup"><span data-stu-id="48d77-161">Network and Bluetooth connections can delay the results as their enumerations must complete before **FindAllAsync** results are returned.</span></span>

> [!CAUTION] 
> <span data-ttu-id="48d77-162">**FindAllAsync** gibt ein Array von Geräten.</span><span class="sxs-lookup"><span data-stu-id="48d77-162">**FindAllAsync** returns an array of devices.</span></span>  <span data-ttu-id="48d77-163">Da sich die Reihenfolge dieses Arrays von Sitzung zu Sitzung ändern kann, wird nicht empfohlen, sich durch Verwendung eines hartcodierten Index für das Array auf eine bestimmte Reihenfolge zu verlassen.</span><span class="sxs-lookup"><span data-stu-id="48d77-163">The order of this array can change from session to session, therefore it is not recommended to rely on a specific order by using a hardcoded index into the array.</span></span>  <span data-ttu-id="48d77-164">Verwenden Sie [DeviceInformation](https://docs.microsoft.com/uwp/api/windows.devices.enumeration.deviceinformation) -Eigenschaften, um die Ergebnisse zu filtern oder eine Benutzeroberfläche für den Benutzer zur Auswahl bereitzustellen.</span><span class="sxs-lookup"><span data-stu-id="48d77-164">Use [DeviceInformation](https://docs.microsoft.com/uwp/api/windows.devices.enumeration.deviceinformation) properties to filter your results or provide a UI for the user to choose from.</span></span>

<span data-ttu-id="48d77-165">In diesem Beispiel wird die Auswahl einer Momentaufnahme von Geräten mit **FindAllAsync** den oben definierten verwendet und dann über alle von der Sammlung zurückgegebenen Elemente aufgelistet und schreibt Device Name und ID in die Debugausgabe geschrieben.</span><span class="sxs-lookup"><span data-stu-id="48d77-165">This sample uses the selector defined above to take a snapshot of devices using **FindAllAsync** then enumerates through each of the items returned by the collection and writes the device name and ID to the debug output.</span></span> 

```Csharp
using Windows.Devices.Enumeration;

DeviceInformationCollection deviceCollection = await DeviceInformation.FindAllAsync(selector);

foreach (DeviceInformation devInfo in deviceCollection)
{
    Debug.WriteLine("{0} {1}", devInfo.Name, devInfo.Id);
}
```

> [!TIP] 
> <span data-ttu-id="48d77-166">Wenn Sie mit den [Windows.Devices.Enumeration](https://docs.microsoft.com/uwp/api/Windows.Devices.Enumeration)-APIs arbeiten, müssen Sie häufig [DeviceInformation](https://docs.microsoft.com/uwp/api/windows.devices.enumeration.deviceinformation)-Objekte verwenden, um Informationen zu einem bestimmten Gerät zu erhalten.</span><span class="sxs-lookup"><span data-stu-id="48d77-166">When working with the [Windows.Devices.Enumeration](https://docs.microsoft.com/uwp/api/Windows.Devices.Enumeration) APIs, you will frequently need to use [DeviceInformation](https://docs.microsoft.com/uwp/api/windows.devices.enumeration.deviceinformation) objects to obtain information about a specific device.</span></span> <span data-ttu-id="48d77-167">Beispielsweise kann die [DeviceInformation.ID](https://docs.microsoft.com/uwp/api/windows.devices.enumeration.deviceinformation.id) -Eigenschaft verwendet werden, zum Wiederherstellen und wiederverwenden dasselbe Gerät in einer zukünftigen Sitzung verfügbar ist und die [DeviceInformation.Name](https://docs.microsoft.com/uwp/api/windows.devices.enumeration.deviceinformation.name) -Eigenschaft kann für Anzeigezwecke in Ihrer app verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="48d77-167">For example, the [DeviceInformation.ID](https://docs.microsoft.com/uwp/api/windows.devices.enumeration.deviceinformation.id) property can be used to recover and reuse the same device if it is available in a future session and the [DeviceInformation.Name](https://docs.microsoft.com/uwp/api/windows.devices.enumeration.deviceinformation.name) property can be used for display purposes in your app.</span></span>  <span data-ttu-id="48d77-168">Informationen zu weiteren verfügbaren Eigenschaften finden Sie auf der [DeviceInformation](https://docs.microsoft.com/uwp/api/windows.devices.enumeration.deviceinformation) Referenzseite.</span><span class="sxs-lookup"><span data-stu-id="48d77-168">See the [DeviceInformation](https://docs.microsoft.com/uwp/api/windows.devices.enumeration.deviceinformation) reference page for information about additional properties available.</span></span>

## <a name="method-4-enumerate-and-watch"></a><span data-ttu-id="48d77-169">Methode 4: Auflisten und überwachen</span><span class="sxs-lookup"><span data-stu-id="48d77-169">Method 4: Enumerate and watch</span></span>

<span data-ttu-id="48d77-170">Eine leistungsfähigere und flexiblere Methode für die Auflistung von Geräten ist die Erstellung eines [DeviceWatcher](https://docs.microsoft.com/uwp/api/Windows.Devices.Enumeration.DeviceWatcher)-Elements.</span><span class="sxs-lookup"><span data-stu-id="48d77-170">A more powerful and flexible method of enumerating devices is creating a [DeviceWatcher](https://docs.microsoft.com/uwp/api/Windows.Devices.Enumeration.DeviceWatcher).</span></span>  <span data-ttu-id="48d77-171">Ein Geräteüberwachungselement listet Geräte dynamisch auf, sodass die Anwendung Benachrichtigungen erhält, wenn Geräte hinzugefügt, entfernt oder geändert werden, nachdem die ursprüngliche Aufzählung abgeschlossen ist.</span><span class="sxs-lookup"><span data-stu-id="48d77-171">A device watcher enumerates devices dynamically, so that the application receives notifications if devices are added, removed, or changed  after the initial enumeration is complete.</span></span>  <span data-ttu-id="48d77-172">Ein **DeviceWatcher** können Sie erkennen, wann ein Netzwerk verbundenen Gerät online geschaltet wird, ein Bluetooth-Gerät in Reichweite, auch als ob ein lokal angeschlossenes Gerät entfernt wird, damit Sie die entsprechende Aktion innerhalb der Anwendung nutzen können.</span><span class="sxs-lookup"><span data-stu-id="48d77-172">A **DeviceWatcher** will allow you to detect when a network-connected device comes online, a Bluetooth device is in range, as well as if a locally connected device is unplugged so that you can take the appropriate action within your application.</span></span>

<span data-ttu-id="48d77-173">In diesem Beispiel wird die Erstellung einer **DeviceWatcher** oben definierte Auswahl verwendet, sowie Ereignishandler für die [hinzugefügten](https://docs.microsoft.com/uwp/api/windows.devices.enumeration.devicewatcher.added), [entfernten](https://docs.microsoft.com/uwp/api/windows.devices.enumeration.devicewatcher.removed)oder [aktualisierten](https://docs.microsoft.com/uwp/api/windows.devices.enumeration.devicewatcher.updated) Benachrichtigungen definiert.</span><span class="sxs-lookup"><span data-stu-id="48d77-173">This sample uses the selector defined above to create a **DeviceWatcher** as well as defines event handlers for the [Added](https://docs.microsoft.com/uwp/api/windows.devices.enumeration.devicewatcher.added), [Removed](https://docs.microsoft.com/uwp/api/windows.devices.enumeration.devicewatcher.removed), and [Updated](https://docs.microsoft.com/uwp/api/windows.devices.enumeration.devicewatcher.updated) notifications.</span></span> <span data-ttu-id="48d77-174">Sie müssen die Details zu den Aktionen ausfüllen, die bei jeder Benachrichtigung durchgeführt werden sollen.</span><span class="sxs-lookup"><span data-stu-id="48d77-174">You will need to fill in the details of the actions that you wish to take upon each notification.</span></span>

```Csharp
using Windows.Devices.Enumeration;

DeviceWatcher deviceWatcher = DeviceInformation.CreateWatcher(selector);
deviceWatcher.Added += DeviceWatcher_Added;
deviceWatcher.Removed += DeviceWatcher_Removed;
deviceWatcher.Updated += DeviceWatcher_Updated;

void DeviceWatcher_Added(DeviceWatcher sender, DeviceInformation args)
{
    // TODO: Add the DeviceInformation object to your collection
}

void DeviceWatcher_Removed(DeviceWatcher sender, DeviceInformationUpdate args)
{
    // TODO: Remove the item in your collection associated with DeviceInformationUpdate
}

void DeviceWatcher_Updated(DeviceWatcher sender, DeviceInformationUpdate args)
{
    // TODO: Update your collection with information from DeviceInformationUpdate
}
```

> [!TIP]
> <span data-ttu-id="48d77-175">Weitere Informationen über die Verwendung von einem **DeviceWatcher**finden Sie in der [enumerieren und Überwachen von Geräten]( https://docs.microsoft.com/windows/uwp/devices-sensors/enumerate-devices#enumerate-and-watch-devices) .</span><span class="sxs-lookup"><span data-stu-id="48d77-175">See [Enumerate and watch devices]( https://docs.microsoft.com/windows/uwp/devices-sensors/enumerate-devices#enumerate-and-watch-devices) for more details on the use of a **DeviceWatcher**.</span></span>

## <a name="see-also"></a><span data-ttu-id="48d77-176">Weitere Informationen:</span><span class="sxs-lookup"><span data-stu-id="48d77-176">See also</span></span>
* [<span data-ttu-id="48d77-177">Erste Schritte mit Point Of Service-Geräten</span><span class="sxs-lookup"><span data-stu-id="48d77-177">Getting started with Point of Service</span></span>](pos-basics.md)
* [<span data-ttu-id="48d77-178">DeviceInformation-Klasse</span><span class="sxs-lookup"><span data-stu-id="48d77-178">DeviceInformation Class</span></span>](https://docs.microsoft.com/uwp/api/windows.devices.enumeration.deviceinformation)
* [<span data-ttu-id="48d77-179">PosPrinter-Klasse</span><span class="sxs-lookup"><span data-stu-id="48d77-179">PosPrinter Class</span></span>](https://docs.microsoft.com/uwp/api/windows.devices.pointofservice.posprinter)
* [<span data-ttu-id="48d77-180">PosConnectionTypes-Enumeration</span><span class="sxs-lookup"><span data-stu-id="48d77-180">PosConnectionTypes Enum</span></span>](https://docs.microsoft.com/uwp/api/windows.devices.pointofservice.posconnectiontypes)
* [<span data-ttu-id="48d77-181">BarcodeScanner-Klasse</span><span class="sxs-lookup"><span data-stu-id="48d77-181">BarcodeScanner Class</span></span>](https://docs.microsoft.com/uwp/api/windows.devices.pointofservice.barcodescanner)
* [<span data-ttu-id="48d77-182">DeviceWatcher-Klasse</span><span class="sxs-lookup"><span data-stu-id="48d77-182">DeviceWatcher Class</span></span>](https://docs.microsoft.com/uwp/api/Windows.Devices.Enumeration.DeviceWatcher)

[!INCLUDE [feedback](./includes/pos-feedback.md)]