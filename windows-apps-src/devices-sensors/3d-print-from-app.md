---
title: 3D-Drucken in der App
description: Erfahren Sie, wie Sie Ihrer universellen Windows-App 3D-Druckfunktionen hinzufügen. In diesem Thema wird erläutert, wie das 3D-Drucken-Dialogfeld aufgerufen wird, nachdem Sie sich vergewissert haben, dass das 3D-Modell gedruckt werden kann und im richtigen Format vorliegt.
ms.assetid: D78C4867-4B44-4B58-A82F-EDA59822119C
ms.date: 02/08/2017
ms.topic: article
keywords: Windows 10, Uwp, 3dprinting, 3D-Druck
ms.localizationpriority: medium
ms.openlocfilehash: 4013341a3e4e44d6ac2df66d58d4114313573d2a
ms.sourcegitcommit: bf600a1fb5f7799961914f638061986d55f6ab12
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 02/05/2019
ms.locfileid: "9048267"
---
# <a name="3d-printing-from-your-app"></a><span data-ttu-id="857ce-105">3D-Druck über Ihre App</span><span class="sxs-lookup"><span data-stu-id="857ce-105">3D printing from your app</span></span>

**<span data-ttu-id="857ce-106">Wichtige APIs</span><span class="sxs-lookup"><span data-stu-id="857ce-106">Important APIs</span></span>**

-   [**<span data-ttu-id="857ce-107">Windows.Graphics.Printing3D</span><span class="sxs-lookup"><span data-stu-id="857ce-107">Windows.Graphics.Printing3D</span></span>**](https://msdn.microsoft.com/library/windows/apps/dn998169)

<span data-ttu-id="857ce-108">Erfahren Sie, wie Sie Ihrer Universellen Windows-App 3D-Druckfunktionen hinzufügen.</span><span class="sxs-lookup"><span data-stu-id="857ce-108">Learn how to add 3D printing functionality to your Universal Windows app.</span></span> <span data-ttu-id="857ce-109">In diesem Thema wird erläutert, wie Sie 3D-Geometriedaten in Ihre App laden und das 3D-Druckdialogfeld starten, nachdem Sie sichergestellt haben, dass Ihr 3D-Modell druckbar ist und das richtige Format hat.</span><span class="sxs-lookup"><span data-stu-id="857ce-109">This topic covers how to load 3D geometry data into your app and launch the 3D print dialog after ensuring your 3D model is printable and in the correct format.</span></span> <span data-ttu-id="857ce-110">Ein Beispiel wie dieses Verfahren funktioniert, finden Sie unter [Beispiel für 3D-Druck– UWP](https://github.com/Microsoft/Windows-universal-samples/tree/master/Samples/3DPrinting).</span><span class="sxs-lookup"><span data-stu-id="857ce-110">For a working example of these procedures, see the [3D printing UWP sample](https://github.com/Microsoft/Windows-universal-samples/tree/master/Samples/3DPrinting).</span></span>

> [!NOTE]
> <span data-ttu-id="857ce-111">Im Beispielcode in dieser Anleitung wurde das Melden und Verarbeiten von Fehlern stark vereinfacht, um den Code möglichst einfach zu halten.</span><span class="sxs-lookup"><span data-stu-id="857ce-111">In the sample code in this guide, error reporting and handling is greatly simplified for the sake of simplicity.</span></span>

## <a name="setup"></a><span data-ttu-id="857ce-112">Setup</span><span class="sxs-lookup"><span data-stu-id="857ce-112">Setup</span></span>


<span data-ttu-id="857ce-113">Fügen Sie in der Anwendungsklasse, der 3D-Druckfunktionen zugewiesen werden sollen, den [**Windows.Graphics.Printing3D**](https://msdn.microsoft.com/library/windows/apps/dn998169)-Namespace hinzu.</span><span class="sxs-lookup"><span data-stu-id="857ce-113">In your application class that is to have 3D print functionality, add the [**Windows.Graphics.Printing3D**](https://msdn.microsoft.com/library/windows/apps/dn998169) namespace.</span></span>

[!code-cs[3DPrintNamespace](./code/3dprinthowto/cs/MainPage.xaml.cs#Snippet3DPrintNamespace)]

<span data-ttu-id="857ce-114">In dieser Anleitung werden die folgenden zusätzlichen Namespaces verwendet.</span><span class="sxs-lookup"><span data-stu-id="857ce-114">The following additional namespaces will be used in this guide.</span></span>

[!code-cs[OtherNamespaces](./code/3dprinthowto/cs/MainPage.xaml.cs#SnippetOtherNamespaces)]

<span data-ttu-id="857ce-115">Weisen Sie der Klasse anschließend hilfreiche Memberfelder zu.</span><span class="sxs-lookup"><span data-stu-id="857ce-115">Next, give your class helpful member fields.</span></span> <span data-ttu-id="857ce-116">Deklarieren Sie ein [**Print3DTask**](https://msdn.microsoft.com/library/windows/apps/dn998044)-Objekt so, dass es die Druckaufgabe repräsentiert, die an den Druckertreiber übergeben werden soll.</span><span class="sxs-lookup"><span data-stu-id="857ce-116">Declare a [**Print3DTask**](https://msdn.microsoft.com/library/windows/apps/dn998044) object to represent the printing task that is to be passed to the print driver.</span></span> <span data-ttu-id="857ce-117">Deklarieren Sie ein [**StorageFile**](https://msdn.microsoft.com/library/windows/apps/br227171)-Objekt für die ursprüngliche 3D-Datendatei, die in die App geladen werden soll.</span><span class="sxs-lookup"><span data-stu-id="857ce-117">Declare a [**StorageFile**](https://msdn.microsoft.com/library/windows/apps/br227171) object to hold the original 3D data file that will be loaded into the app.</span></span> <span data-ttu-id="857ce-118">Deklarieren Sie ein [**Printing3D3MFPackage**](https://msdn.microsoft.com/library/windows/apps/dn998063)-Objekt, das ein 3D-Modell mit allen erforderlichen Metadaten darstellt und gedruckt werden kann.</span><span class="sxs-lookup"><span data-stu-id="857ce-118">Declare a [**Printing3D3MFPackage**](https://msdn.microsoft.com/library/windows/apps/dn998063) object, which represents a print-ready 3D model with all necessary metadata.</span></span>

[!code-cs[DeclareVars](./code/3dprinthowto/cs/MainPage.xaml.cs#SnippetDeclareVars)]

## <a name="create-a-simple-ui"></a><span data-ttu-id="857ce-119">Erstellen einer einfachen UI</span><span class="sxs-lookup"><span data-stu-id="857ce-119">Create a simple UI</span></span>

<span data-ttu-id="857ce-120">In diesem Beispiel werden drei Benutzersteuerelemente verwendet: eine Schaltfläche zum Laden, die eine Datei im Programmspeicher ablegt, eine Schaltfläche zum Optimieren, mit der die Datei ggf. geändert wird, sowie eine Schaltfläche zum Drucken, über die der Druckauftrag initiiert wird.</span><span class="sxs-lookup"><span data-stu-id="857ce-120">This sample features three user controls: a Load button which will bring a file into program memory, a Fix button which will modify the file as necessary, and a Print button which will initiate the print job.</span></span> <span data-ttu-id="857ce-121">Mit dem folgenden Code werden diese Schaltflächen (mit den zugehörigen per-Click-Ereignishandlern) in der XAML-Datei Ihrer Klasse erstellt:</span><span class="sxs-lookup"><span data-stu-id="857ce-121">The following code creates these buttons (with their on-click event handlers) in your .cs class' corresponding XAML file.</span></span>

[!code-xml[Buttons](./code/3dprinthowto/cs/MainPage.xaml#SnippetButtons)]

<span data-ttu-id="857ce-122">Hinzufügen eines **TextBlock**-Elements für UI-Feedback:</span><span class="sxs-lookup"><span data-stu-id="857ce-122">Add a **TextBlock** for UI feedback.</span></span>

[!code-xml[OutputText](./code/3dprinthowto/cs/MainPage.xaml#SnippetOutputText)]



## <a name="get-the-3d-data"></a><span data-ttu-id="857ce-123">Abrufen der 3D-Daten</span><span class="sxs-lookup"><span data-stu-id="857ce-123">Get the 3D data</span></span>


<span data-ttu-id="857ce-124">Die Methode, mit der Ihre App 3D-Geometriedaten abruft, kann variieren.</span><span class="sxs-lookup"><span data-stu-id="857ce-124">The method by which your app acquires 3D geometry data will vary.</span></span> <span data-ttu-id="857ce-125">Die App kann Daten aus einem 3D-Scan abrufen, Modelldaten in einem Pull-Vorgang aus einer Webressource herunterladen oder programmgesteuert mithilfe von mathematischen Gleichungen oder Benutzereingaben ein 3D-Gitter generieren.</span><span class="sxs-lookup"><span data-stu-id="857ce-125">Your app may retrieve data from a 3D scan, download model data from a web resource, or generate a 3D mesh programmatically using mathematical formulas or user input.</span></span> <span data-ttu-id="857ce-126">Der Einfachheit halber wird in dieser Anleitung gezeigt, wie Sie eine 3D-Datendatei (mit einem beliebigen gängigen Dateityp) aus dem Gerätespeicher in den Programmspeicher laden.</span><span class="sxs-lookup"><span data-stu-id="857ce-126">For the sake of simplicity, this guide will show how to load a 3D data file (of any of several common file types) into program memory from device storage.</span></span> <span data-ttu-id="857ce-127">Die [Modellbibliothek für 3D Builder](https://developer.microsoft.com/windows/hardware/3d-builder-model-library) enthält verschiedene Modelle, die Sie leicht auf Ihr Gerät herunterladen können.</span><span class="sxs-lookup"><span data-stu-id="857ce-127">The [3D Builder model library](https://developer.microsoft.com/windows/hardware/3d-builder-model-library) provides a variety of models that you can easily download to your device.</span></span>

<span data-ttu-id="857ce-128">Laden Sie in der `OnLoadClick`-Methode mit der [**FileOpenPicker**](https://msdn.microsoft.com/library/windows/apps/br207847)-Klasse eine einzelne Datei in den Speicher der App.</span><span class="sxs-lookup"><span data-stu-id="857ce-128">In your `OnLoadClick` method, use the [**FileOpenPicker**](https://msdn.microsoft.com/library/windows/apps/br207847) class to load a single file into your app's memory.</span></span>

[!code-cs[FileLoad](./code/3dprinthowto/cs/MainPage.xaml.cs#SnippetFileLoad)]

## <a name="use-3d-builder-to-convert-to-3d-manufacturing-format-3mf"></a><span data-ttu-id="857ce-129">Konvertieren in das 3D Manufacturing Format (3MF) mithilfe von 3D Builder</span><span class="sxs-lookup"><span data-stu-id="857ce-129">Use 3D Builder to convert to 3D Manufacturing Format (.3mf)</span></span>

<span data-ttu-id="857ce-130">An dieser Stelle können Sie eine 3D-Datendatei in den Speicher der App laden.</span><span class="sxs-lookup"><span data-stu-id="857ce-130">At this point, you are able to load a 3D data file into your app's memory.</span></span> <span data-ttu-id="857ce-131">3D-Geometriedaten können aber in den unterschiedlichsten Formaten vorliegen, und hinsichtlich des 3D-Drucks sind nicht alle effizient.</span><span class="sxs-lookup"><span data-stu-id="857ce-131">However, 3D geometry data can come in many different formats, and not all are efficient for 3D printing.</span></span> <span data-ttu-id="857ce-132">In Windows 10 wird der 3MF-Dateityp (3D Manufacturing Format) für alle 3D-Druckaufgaben verwendet.</span><span class="sxs-lookup"><span data-stu-id="857ce-132">Windows 10 uses the 3D Manufacturing Format (.3mf) file type for all 3D printing tasks.</span></span>

> [!NOTE]  
> <span data-ttu-id="857ce-133">Der 3MF-Dateityp unterstützt viele Funktionen, die in dieser Anleitung behandelt werden.</span><span class="sxs-lookup"><span data-stu-id="857ce-133">The .3mf file type offers more functionality than is covered in this tutorial.</span></span> <span data-ttu-id="857ce-134">Weitere Informationen zu 3MF und den Features des Formats für Hersteller und Verbraucher von 3D-Produkten finden Sie in der [3MF-Spezifikation](https://3mf.io/what-is-3mf/3mf-specification/).</span><span class="sxs-lookup"><span data-stu-id="857ce-134">To learn more about 3MF and the features it provides to producers and consumers of 3D products, see the [3MF Specification](https://3mf.io/what-is-3mf/3mf-specification/).</span></span> <span data-ttu-id="857ce-135">Wie Sie diese Features mithilfe von Windows 10-APIs nutzen, finden Sie im Lernprogramm [Generieren ein 3MF-Pakets](https://msdn.microsoft.com/windows/uwp/devices-sensors/generate-3mf).</span><span class="sxs-lookup"><span data-stu-id="857ce-135">To learn how to utilize these features with Windows 10 APIs, see the [Generate a 3MF package](https://msdn.microsoft.com/windows/uwp/devices-sensors/generate-3mf) tutorial.</span></span>

<span data-ttu-id="857ce-136">Die [3D Builder](https://www.microsoft.com/store/apps/3d-builder/9wzdncrfj3t6)-App Dateien kann gängigste 3D-Formate öffnen und diese als 3MF-Dateien speichern.</span><span class="sxs-lookup"><span data-stu-id="857ce-136">The [3D Builder](https://www.microsoft.com/store/apps/3d-builder/9wzdncrfj3t6) app can open files of most popular 3D formats and save them as .3mf files.</span></span> <span data-ttu-id="857ce-137">In diesem Beispiel mit variierendem Dateityp besteht eine sehr einfache Lösung darin, dass 3D Builder-App geöffnet und der Benutzer aufgefordert wird, die importierten Daten als 3MF-Datei zu speichern und anschließend neu zu laden.</span><span class="sxs-lookup"><span data-stu-id="857ce-137">In this example, where the file type could vary, a very simple solution is to open the 3D Builder app and prompt the user to save the imported data as a .3mf file and then reload it.</span></span>

> [!NOTE]  
> <span data-ttu-id="857ce-138">Neben dem Konvertieren von Dateiformaten bietet 3D Builder einfache Tools zum Bearbeiten von Modellen, Hinzufügen von Farbdaten und Ausführen anderer druckspezifischer Vorgänge. Daher empfiehlt sich häufig die Integration in eine App, mit der 3D-Druckvorgänge ausgeführt werden sollen.</span><span class="sxs-lookup"><span data-stu-id="857ce-138">In addition to converting file formats, 3D Builder provides simple tools to edit your models, add color data, and perform other print-specific operations, so it is often worth integrating into an app that deals with 3D printing.</span></span>

[!code-cs[FileCheck](./code/3dprinthowto/cs/MainPage.xaml.cs#SnippetFileCheck)]

## <a name="repair-model-data-for-3d-printing"></a><span data-ttu-id="857ce-139">Reparieren von Modelldaten für den 3D-Druck</span><span class="sxs-lookup"><span data-stu-id="857ce-139">Repair model data for 3D printing</span></span>

<span data-ttu-id="857ce-140">Nicht alle 3D-Modelldaten sind druckbar. Dies gilt auch für den 3MF-Typ.</span><span class="sxs-lookup"><span data-stu-id="857ce-140">Not all 3D model data is printable, even in the .3mf type.</span></span> <span data-ttu-id="857ce-141">Damit der Drucker richtig erkennen kann, welcher Raum zu füllen ist und welcher Raum frei gelassen werden muss, müssen die Modelle jeweils ein einzelnes nahtloses Gitter darstellen sowie nach außen weisende Oberflächennormalen und eine facettenreiche Geometrie aufweisen.</span><span class="sxs-lookup"><span data-stu-id="857ce-141">In order for the printer to correctly determine what space to fill and what to leave empty, the model(s) to be printed must (each) be a single seamless mesh, have outward-facing surface normals, and have manifold geometry.</span></span> <span data-ttu-id="857ce-142">Probleme in diesen Bereichen können in den unterschiedlichsten Formen auftreten und sind bei komplexen Formen unter Umständen nur schwer zu erkennen.</span><span class="sxs-lookup"><span data-stu-id="857ce-142">Issues in these areas can arise in a variety of different forms and can be hard to spot in complex shapes.</span></span> <span data-ttu-id="857ce-143">Moderne Softwarelösungen sind häufig in der Lage, Geometrie-Rohdaten in druckbare 3D-Formen zu konvertieren.</span><span class="sxs-lookup"><span data-stu-id="857ce-143">However, modern software solutions are often adequate for converting raw geometry to printable 3D shapes.</span></span> <span data-ttu-id="857ce-144">Die wird als *Reparatur* des Modells bezeichnet und mit der `OnFixClick`-Methode erreicht.</span><span class="sxs-lookup"><span data-stu-id="857ce-144">This is known as *repairing* the model and will be done in the `OnFixClick` method.</span></span>

<span data-ttu-id="857ce-145">Die 3D-Datendatei muss konvertiert werden, um [**IRandomAccessStream**](https://msdn.microsoft.com/library/windows/apps/br241731) zu implementieren, womit anschließend ein [**Printing3DModel**](https://msdn.microsoft.com/library/windows/apps/mt203679)-Objekt generiert werden kann.</span><span class="sxs-lookup"><span data-stu-id="857ce-145">The 3D data file must be converted to implement [**IRandomAccessStream**](https://msdn.microsoft.com/library/windows/apps/br241731), which can then be used to generate a [**Printing3DModel**](https://msdn.microsoft.com/library/windows/apps/mt203679) object.</span></span>

[!code-cs[RepairModel](./code/3dprinthowto/cs/MainPage.xaml.cs#SnippetRepairModel)]

<span data-ttu-id="857ce-146">Das **Printing3DModel**-Objekt wurde repariert und kann jetzt gedruckt werden.</span><span class="sxs-lookup"><span data-stu-id="857ce-146">The **Printing3DModel** object is now repaired and printable.</span></span> <span data-ttu-id="857ce-147">Weisen Sie das Modell mithilfe von [**SaveModelToPackageAsync**](https://msdn.microsoft.com/library/windows/apps/windows.graphics.printing3d.printing3d3mfpackage.savemodeltopackageasync) dem **Printing3D3MFPackage**-Objekt zu, das Sie beim Erstellen der Klasse deklariert haben.</span><span class="sxs-lookup"><span data-stu-id="857ce-147">Use [**SaveModelToPackageAsync**](https://msdn.microsoft.com/library/windows/apps/windows.graphics.printing3d.printing3d3mfpackage.savemodeltopackageasync) to assign the model to the **Printing3D3MFPackage** object that you declared when creating the class.</span></span>

[!code-cs[SaveModel](./code/3dprinthowto/cs/MainPage.xaml.cs#SnippetSaveModel)]

## <a name="execute-printing-task-create-a-taskrequested-handler"></a><span data-ttu-id="857ce-148">Ausführen des Druckvorgangs: Erstellen eines TaskRequested-Handlers</span><span class="sxs-lookup"><span data-stu-id="857ce-148">Execute printing task: create a TaskRequested handler</span></span>


<span data-ttu-id="857ce-149">Später, wenn das 3D-Druckdialogfeld für den Benutzer angezeigt wird und dieser einen Druckvorgang startet, muss die App die gewünschten Parameter an die 3D-Druckpipeline übergeben.</span><span class="sxs-lookup"><span data-stu-id="857ce-149">Later on, when the 3D print dialog is displayed to the user and the user elects to begin printing, your app will need to pass in the desired parameters to the 3D print pipeline.</span></span> <span data-ttu-id="857ce-150">Die 3D-Druck-API löst das **[TaskRequested](https://docs.microsoft.com/uwp/api/Windows.Graphics.Printing3D.Print3DManager.TaskRequested)**-Ereignis aus.</span><span class="sxs-lookup"><span data-stu-id="857ce-150">The 3D print API will raise the **[TaskRequested](https://docs.microsoft.com/uwp/api/Windows.Graphics.Printing3D.Print3DManager.TaskRequested)** event.</span></span> <span data-ttu-id="857ce-151">Sie müssen eine Methode schreiben, mit der dieses Ereignis richtig behandelt wird.</span><span class="sxs-lookup"><span data-stu-id="857ce-151">You must write a method to handle this event appropriately.</span></span> <span data-ttu-id="857ce-152">Die Handlermethode muss wie üblich den gleichen Typ wie das zugeordnete Ereignis aufweisen: Das **TaskRequested**-Ereignis verfügt über [**Print3DManager**](https://msdn.microsoft.com/library/windows/apps/dn998029) (Verweis auf das Absenderobjekt) und ein [**Print3DTaskRequestedEventArgs**](https://msdn.microsoft.com/library/windows/apps/dn998051)-Objekt als Parameter, in dem die meisten relevanten Informationen enthalten sind.</span><span class="sxs-lookup"><span data-stu-id="857ce-152">As always, the handler method must be of the same type as its event: The **TaskRequested** event has parameters [**Print3DManager**](https://msdn.microsoft.com/library/windows/apps/dn998029) (a reference to its sender object) and a [**Print3DTaskRequestedEventArgs**](https://msdn.microsoft.com/library/windows/apps/dn998051) object, which holds most of the relevant information.</span></span>

[!code-cs[MyTaskTitle](./code/3dprinthowto/cs/MainPage.xaml.cs#SnippetMyTaskTitle)]

<span data-ttu-id="857ce-153">Der grundlegende Zweck dieser Methode besteht darin, mit dem *args*-Parameter ein **Printing3D3MFPackage** entlang der Pipeline zu senden.</span><span class="sxs-lookup"><span data-stu-id="857ce-153">The core purpose of this method is to use the *args* parameter to send a **Printing3D3MFPackage** down the pipeline.</span></span> <span data-ttu-id="857ce-154">Der **Print3DTaskRequestedEventArgs**-Typ verfügt über eine Eigenschaft: [**Request**](https://msdn.microsoft.com/library/windows/apps/windows.graphics.printing3d.print3dtaskrequestedeventargs.request.aspx).</span><span class="sxs-lookup"><span data-stu-id="857ce-154">The **Print3DTaskRequestedEventArgs** type has one property: [**Request**](https://msdn.microsoft.com/library/windows/apps/windows.graphics.printing3d.print3dtaskrequestedeventargs.request.aspx).</span></span> <span data-ttu-id="857ce-155">Diese hat den Typ [**Print3DTaskRequest**](https://msdn.microsoft.com/library/windows/apps/dn998050) und stellt eine Druckauftrag-Anforderung dar.</span><span class="sxs-lookup"><span data-stu-id="857ce-155">It is of the type [**Print3DTaskRequest**](https://msdn.microsoft.com/library/windows/apps/dn998050) and represents one print job request.</span></span> <span data-ttu-id="857ce-156">Die zugehörige [**CreateTask**](https://msdn.microsoft.com/library/windows/apps/windows.graphics.printing3d.print3dtaskrequest.createtask.aspx)-Methode ermöglicht es dem Programm, die richtigen Informationen für den Druckauftrag zu senden. Es wird ein Verweis auf das **Print3DTask**-Objekt zurückgegeben, das an die 3D-Druckpipeline gesendet wurde.</span><span class="sxs-lookup"><span data-stu-id="857ce-156">Its method [**CreateTask**](https://msdn.microsoft.com/library/windows/apps/windows.graphics.printing3d.print3dtaskrequest.createtask.aspx) allows the program to submit the correct information for your print job, and it returns a reference to the **Print3DTask** object which was sent down the 3D print pipeline.</span></span>

<span data-ttu-id="857ce-157">**CreateTask** weist die folgenden Eingabeparameter auf: einen string für den Namen des Druckauftrags, einen string für die ID des zu verwendenden Druckers sowie einen [**Print3DTaskSourceRequestedHandler**](https://msdn.microsoft.com/library/windows/apps/windows.graphics.printing3d.print3dtasksourcerequestedhandler.aspx)-Delegaten.</span><span class="sxs-lookup"><span data-stu-id="857ce-157">**CreateTask** has the following input parameters: a string for the print job name, a string for the ID of the printer to use, and a [**Print3DTaskSourceRequestedHandler**](https://msdn.microsoft.com/library/windows/apps/windows.graphics.printing3d.print3dtasksourcerequestedhandler.aspx) delegate.</span></span> <span data-ttu-id="857ce-158">Der Delegat wird automatisch aufgerufen, wenn das **3DTaskSourceRequested**-Ereignis ausgelöst wird (dies erfolgt durch die API selbst).</span><span class="sxs-lookup"><span data-stu-id="857ce-158">The delegate is automatically invoked when the **3DTaskSourceRequested** event is raised (this is done by the API itself).</span></span> <span data-ttu-id="857ce-159">Zu beachten ist unbedingt, dass dieser Delegat beim Initiieren eines Druckauftrags aufgerufen wird. Er ist dafür zuständig, das richtige 3D-Druckpaket bereitzustellen.</span><span class="sxs-lookup"><span data-stu-id="857ce-159">The important thing to note is that this delegate is invoked when a print job is initiated, and it is responsible for providing the right 3D print package.</span></span>

<span data-ttu-id="857ce-160">**Print3DTaskSourceRequestedHandler** akzeptiert einen Parameter, und zwar ein [**Print3DTaskSourceRequestedArgs**](https://msdn.microsoft.com/library/windows/apps/dn998056)-Objekt, das die zu sendenden Daten angibt.</span><span class="sxs-lookup"><span data-stu-id="857ce-160">**Print3DTaskSourceRequestedHandler** takes one parameter, a [**Print3DTaskSourceRequestedArgs**](https://msdn.microsoft.com/library/windows/apps/dn998056) object which provides the data to be sent.</span></span> <span data-ttu-id="857ce-161">Die öffentliche Methode dieser Klasse, [**SetSource**](https://msdn.microsoft.com/library/windows/apps/windows.graphics.printing3d.print3dtasksourcerequestedargs.setsource.aspx), akzeptiert das zu druckende Paket.</span><span class="sxs-lookup"><span data-stu-id="857ce-161">The one public method of this class, [**SetSource**](https://msdn.microsoft.com/library/windows/apps/windows.graphics.printing3d.print3dtasksourcerequestedargs.setsource.aspx), accepts the package to be printed.</span></span> <span data-ttu-id="857ce-162">Implementieren Sie einen **Print3DTaskSourceRequestedHandler**-Delegaten wie folgt:</span><span class="sxs-lookup"><span data-stu-id="857ce-162">Implement a **Print3DTaskSourceRequestedHandler** delegate as follows.</span></span>

[!code-cs[SourceHandler](./code/3dprinthowto/cs/MainPage.xaml.cs#SnippetSourceHandler)]

<span data-ttu-id="857ce-163">Rufen Sie anschließend **CreateTask** mit dem neu definierten Delegaten `sourceHandler` auf:</span><span class="sxs-lookup"><span data-stu-id="857ce-163">Next, call **CreateTask**, using the newly-defined delegate, `sourceHandler`.</span></span>

[!code-cs[CreateTask](./code/3dprinthowto/cs/MainPage.xaml.cs#SnippetCreateTask)]

<span data-ttu-id="857ce-164">Der zurückgegebene **Print3DTask** wird der Klassenvariablen zugewiesen, die zu Beginn deklariert wurde.</span><span class="sxs-lookup"><span data-stu-id="857ce-164">The returned **Print3DTask** is assigned to the class variable declared in the beginning.</span></span> <span data-ttu-id="857ce-165">Mit diesem Verweis können Sie nun (optional) bestimmte Ereignisse behandeln, die von der Aufgabe ausgelöst wurden.</span><span class="sxs-lookup"><span data-stu-id="857ce-165">You can now (optionally) use this reference to handle certain events thrown by the task.</span></span>

[!code-cs[Optional](./code/3dprinthowto/cs/MainPage.xaml.cs#SnippetOptional)]

> [!NOTE]  
> <span data-ttu-id="857ce-166">Sie müssen eine `Task_Submitting`-Methode und eine `Task_Completed`-Methode implementieren, wenn Sie sie für diese Ereignisse registrieren möchten.</span><span class="sxs-lookup"><span data-stu-id="857ce-166">You must implement a `Task_Submitting` and `Task_Completed` method if you wish to register them to these events.</span></span>

## <a name="execute-printing-task-open-3d-print-dialog"></a><span data-ttu-id="857ce-167">Ausführen des Druckvorgangs: Öffnen des Dialogfelds für den 3D-Druck</span><span class="sxs-lookup"><span data-stu-id="857ce-167">Execute printing task: open 3D print dialog</span></span>


<span data-ttu-id="857ce-168">Schließlich wird noch der Teil des Codes benötigt, mit dem das Dialogfeld für den 3D-Druck geöffnet wird.</span><span class="sxs-lookup"><span data-stu-id="857ce-168">The final piece of code needed is that which launches the 3D print dialog.</span></span> <span data-ttu-id="857ce-169">Wie bei einem herkömmlichen Dialogfeld für das Drucken enthält ein Dialogfeld für den 3D-Druck eine Reihe von Druckoptionen, die direkt vor dem Druckvorgang festgelegt werden können. Zudem kann der Benutzer den gewünschten Drucker auswählen (einen per USB angeschlossenen Drucker oder einen Netzwerkdrucker).</span><span class="sxs-lookup"><span data-stu-id="857ce-169">Like a conventional printing dialog window, the 3D print dialog provides a number of last-minute printing options and allows the user to choose which printer to use (whether connected by USB or the network).</span></span>

<span data-ttu-id="857ce-170">Registrieren Sie die `MyTaskRequested`-Methode mit dem **TaskRequested**-Ereignis.</span><span class="sxs-lookup"><span data-stu-id="857ce-170">Register your `MyTaskRequested` method with the **TaskRequested** event.</span></span>

[!code-cs[RegisterMyTaskRequested](./code/3dprinthowto/cs/MainPage.xaml.cs#SnippetRegisterMyTaskRequested)]

<span data-ttu-id="857ce-171">Nach dem Registrieren des **TaskRequested**-Ereignishandlers können Sie die [**ShowPrintUIAsync**](https://msdn.microsoft.com/library/windows/apps/windows.graphics.printing3d.print3dmanager.showprintuiasync.aspx)-Methode aufrufen, die das Dialogfeld für den 3D-Druck im aktuellen Anwendungsfenster öffnet.</span><span class="sxs-lookup"><span data-stu-id="857ce-171">After registering your **TaskRequested** event handler, you can invoke the method [**ShowPrintUIAsync**](https://msdn.microsoft.com/library/windows/apps/windows.graphics.printing3d.print3dmanager.showprintuiasync.aspx), which brings up the 3D print dialog in the current application window.</span></span>

[!code-cs[ShowDialog](./code/3dprinthowto/cs/MainPage.xaml.cs#SnippetShowDialog)]

<span data-ttu-id="857ce-172">Außerdem empfiehlt es sich noch, die Registrierung der Ereignishandler aufzuheben, nachdem die Steuerung von der App fortgesetzt wurde.</span><span class="sxs-lookup"><span data-stu-id="857ce-172">Finally, it is a good practice to de-register your event handlers once your app resumes control.</span></span>  

[!code-cs[DeregisterMyTaskRequested](./code/3dprinthowto/cs/MainPage.xaml.cs#SnippetDeregisterMyTaskRequested)]

## <a name="related-topics"></a><span data-ttu-id="857ce-173">Verwandte Themen</span><span class="sxs-lookup"><span data-stu-id="857ce-173">Related topics</span></span>

[<span data-ttu-id="857ce-174">Generieren eines 3MF-Pakets</span><span class="sxs-lookup"><span data-stu-id="857ce-174">Generate a 3MF package</span></span>](https://msdn.microsoft.com/windows/uwp/devices-sensors/generate-3mf)  
[<span data-ttu-id="857ce-175">Beispiel für 3D-Druck– UWP</span><span class="sxs-lookup"><span data-stu-id="857ce-175">3D printing UWP sample</span></span>](https://github.com/Microsoft/Windows-universal-samples/tree/master/Samples/3DPrinting)
 

 
