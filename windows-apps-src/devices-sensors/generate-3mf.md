---
Description: Describes the structure of the 3D Manufacturing Format file type and how it can be created and manipulated with the Windows.Graphics.Printing3D API.
MS-HAID: dev\_devices\_sensors.generate\_3mf
MSHAttr: PreferredLib:/library/windows/apps
Search.Product: eADQiWindows 10XVcnh
title: Generieren eines 3MF-Pakets
ms.assetid: 968d918e-ec02-42b5-b50f-7c175cc7921b
ms.date: 02/08/2017
ms.topic: article
keywords: Windows10, UWP
ms.localizationpriority: medium
ms.openlocfilehash: ac71b1fd876c5fec67bcdc292f407a04211de88c
ms.sourcegitcommit: a3dc929858415b933943bba5aa7487ffa721899f
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 12/07/2018
ms.locfileid: "8779560"
---
# <a name="generate-a-3mf-package"></a><span data-ttu-id="8219c-103">Generieren eines 3MF-Pakets</span><span class="sxs-lookup"><span data-stu-id="8219c-103">Generate a 3MF package</span></span>

**<span data-ttu-id="8219c-104">Wichtige APIs</span><span class="sxs-lookup"><span data-stu-id="8219c-104">Important APIs</span></span>**

-   [**<span data-ttu-id="8219c-105">Windows.Graphics.Printing3D</span><span class="sxs-lookup"><span data-stu-id="8219c-105">Windows.Graphics.Printing3D</span></span>**](https://msdn.microsoft.com/library/windows/apps/windows.graphics.printing3d.aspx)

<span data-ttu-id="8219c-106">Dieses Handbuch beschreibt die Struktur des 3D Manufacturing Format-Dokuments und wie dieses mit der [**Windows.Graphics.Printing3D**](https://msdn.microsoft.com/library/windows/apps/windows.graphics.printing3d.aspx)-API erstellt und bearbeitet werden kann.</span><span class="sxs-lookup"><span data-stu-id="8219c-106">This guide describes the structure of the 3D Manufacturing Format document and how it can be created and manipulated with the [**Windows.Graphics.Printing3D**](https://msdn.microsoft.com/library/windows/apps/windows.graphics.printing3d.aspx) API.</span></span>

## <a name="what-is-3mf"></a><span data-ttu-id="8219c-107">Was ist 3MF?</span><span class="sxs-lookup"><span data-stu-id="8219c-107">What is 3MF?</span></span>

<span data-ttu-id="8219c-108">Das 3D Manufacturing Format ist ein Satz von Konventionen für die Verwendung von XML, um die Darstellung und Struktur von 3D-Modellen zu beschreiben, die für die Fertigung eingesetzt werden (3D-Druck).</span><span class="sxs-lookup"><span data-stu-id="8219c-108">The 3D Manufacturing Format is a set of conventions for using XML to describe the appearance and structure of 3D models for the purpose of manufacturing (3D printing).</span></span> <span data-ttu-id="8219c-109">Es definiert einen Satz von Teilen (von denen einige erforderlich und andere optional sind) und ihre Beziehungen. Ziel dabei ist es, alle erforderlichen Informationen für ein 3D-Fertigungsgerät bereitzustellen.</span><span class="sxs-lookup"><span data-stu-id="8219c-109">It defines a set of parts (some required and some optional) and their relationships, with the goal of providing all necessary information to a 3D manufacturing device.</span></span> <span data-ttu-id="8219c-110">Ein Datensatz, der dem 3D Manufacturing Format entspricht, kann als Datei mit der Erweiterung „.3mf“ gespeichert werden.</span><span class="sxs-lookup"><span data-stu-id="8219c-110">A data set that adheres to the 3D Manufacturing Format can be saved as a file with the .3mf extension.</span></span>

<span data-ttu-id="8219c-111">In Windows 10 die [**Printing3D3MFPackage**](https://msdn.microsoft.com/library/windows/apps/windows.graphics.printing3d.printing3d3mfpackage.aspx) -Klasse im Namespace **Windows.Graphics.Printing3D** ist vergleichbar mit einer einzelnen 3mf-Datei, und andere Klassen entsprechen den spezifischen XML-Elementen in der Datei.</span><span class="sxs-lookup"><span data-stu-id="8219c-111">In Windows10, the [**Printing3D3MFPackage**](https://msdn.microsoft.com/library/windows/apps/windows.graphics.printing3d.printing3d3mfpackage.aspx) class in the **Windows.Graphics.Printing3D** namespace is analogous to a single .3mf file, and other classes map to the particular XML elements in the file.</span></span> <span data-ttu-id="8219c-112">In diesem Handbuch wird beschrieben, wie die einzelnen Hauptbestandteile eines 3MF-Dokuments erstellt und programmgesteuert festgelegt werden können, wie die 3MF Materials-Erweiterung genutzt werden kann und wie ein **Printing3D3MFPackage**-Objekt konvertiert und als 3MF-Datei gespeichert werden kann.</span><span class="sxs-lookup"><span data-stu-id="8219c-112">This guide describes how each of the main parts of a 3MF document can be created and set programmatically, how the 3MF Materials Extension can be utilized, and how a **Printing3D3MFPackage** object can be converted and saved as a .3mf file.</span></span> <span data-ttu-id="8219c-113">Weitere Informationen zu den Standards der 3MF- oder der 3MF Materials-Erweiterung finden Sie in der [3MF-Spezifikation](http://3mf.io/what-is-3mf/3mf-specification/).</span><span class="sxs-lookup"><span data-stu-id="8219c-113">For more information on the standards of 3MF or the 3MF Materials Extension, see the [3MF Specification](http://3mf.io/what-is-3mf/3mf-specification/).</span></span>

<!-- >**Note** This guide describes how to construct a 3MF document from scratch. If you wish to make changes to an already existing 3MF document provided in the form of a .3mf file, you simply need to convert it to a **Printing3D3MFPackage** and alter the contained classes/properties in the same way (see [link]) below). -->


## <a name="core-classes-in-the-3mf-structure"></a><span data-ttu-id="8219c-114">Hauptklassen in der 3MF-Struktur</span><span class="sxs-lookup"><span data-stu-id="8219c-114">Core classes in the 3MF structure</span></span>

<span data-ttu-id="8219c-115">Die **Printing3D3MFPackage**-Klasse stellt ein vollständiges 3MF-Dokument dar, und den Kern eines 3MF-Dokuments bildet der Modellbestandteil, der durch die [**Printing3DModel**](https://msdn.microsoft.com/library/windows/apps/windows.graphics.printing3d.printing3dmodel.aspx)-Klasse dargestellt wird.</span><span class="sxs-lookup"><span data-stu-id="8219c-115">The **Printing3D3MFPackage** class represents a complete 3MF document, and at the core of a 3MF document is its model part, represented by the [**Printing3DModel**](https://msdn.microsoft.com/library/windows/apps/windows.graphics.printing3d.printing3dmodel.aspx) class.</span></span> <span data-ttu-id="8219c-116">Der Großteil der Informationen, die zu einem 3D-Modell angegeben werden, werden gespeichert, indem die Eigenschaften der **Printing3DModel**-Klasse und die Eigenschaften der zugrunde liegenden Klassen festgelegt werden.</span><span class="sxs-lookup"><span data-stu-id="8219c-116">Most of the information we wish to specify about a 3D model will be stored by setting the properties of the **Printing3DModel** class and the properties of their underlying classes.</span></span>

[!code-cs[InitClasses](./code/3dprinthowto/cs/Generate3MFMethods.cs#SnippetInitClasses)]

<!-- >**Note** We do not yet associate the **Printing3D3MFPackage** with its corresponding **Printing3DModel** object. Only after fleshing out the **Printing3DModel** with all of the information we wish to specify will we make that association (see [link]). -->

## <a name="metadata"></a><span data-ttu-id="8219c-117">Metadaten</span><span class="sxs-lookup"><span data-stu-id="8219c-117">Metadata</span></span>

<span data-ttu-id="8219c-118">Der Modellteil eines 3MF-Dokuments kann Metadaten in Form von Schlüssel-Wert-Paaren von Zeichenfolgen enthalten, die in der **Metadata**-Eigenschaft gespeichert sind.</span><span class="sxs-lookup"><span data-stu-id="8219c-118">The model part of a 3MF document can hold metadata in the form of key/value pairs of strings stored in the **Metadata** property.</span></span> <span data-ttu-id="8219c-119">Es gibt eine Reihe von vordefinierten Metadatennamen, aber es können weitere Paare als Teil einer Erweiterung hinzugefügt werden (dies wird in der [3MF-Spezifikation](http://3mf.io/what-is-3mf/3mf-specification/) ausführlicher beschrieben).</span><span class="sxs-lookup"><span data-stu-id="8219c-119">There are a number of predefined names of metadata, but other pairs can be added as part of an extension (described in more detail in the [3MF specification](http://3mf.io/what-is-3mf/3mf-specification/)).</span></span> <span data-ttu-id="8219c-120">Der Empfänger des Pakets (ein 3D-Fertigungsgerät) bestimmt, ob und wie Metadaten behandelt werden. Es empfiehlt sich jedoch, möglichst viele grundlegende Informationen im 3MF-Paket einzuschließen:</span><span class="sxs-lookup"><span data-stu-id="8219c-120">It is up to the receiver of the package (a 3D manufacturing device) to determine whether and how to handle metadata, but it is good practice to include as much basic info as possible in the 3MF package:</span></span>

[!code-cs[Metadata](./code/3dprinthowto/cs/Generate3MFMethods.cs#SnippetMetadata)]

## <a name="mesh-data"></a><span data-ttu-id="8219c-121">Gitterdaten</span><span class="sxs-lookup"><span data-stu-id="8219c-121">Mesh data</span></span>

<span data-ttu-id="8219c-122">Im Kontext dieses Handbuchs bezeichnet ein Gitter einen Körper mit dreidimensionaler Geometrie, der anhand eines einzelnen Satzes von Scheitelpunkten erstellt wird (obwohl das Gitter nicht zwangsläufig als Festkörper angezeigt werden muss).</span><span class="sxs-lookup"><span data-stu-id="8219c-122">In the context of this guide, a mesh is a body of 3-dimensional geometry constructed from a single set of vertices (though it does not have to appear as a single solid).</span></span> <span data-ttu-id="8219c-123">Ein Gitterteil wird durch die [**Printing3DMesh**](https://msdn.microsoft.com/library/windows/apps/windows.graphics.printing3d.printing3dmesh.aspx)-Klasse dargestellt.</span><span class="sxs-lookup"><span data-stu-id="8219c-123">A mesh part is represented by the [**Printing3DMesh**](https://msdn.microsoft.com/library/windows/apps/windows.graphics.printing3d.printing3dmesh.aspx) class.</span></span> <span data-ttu-id="8219c-124">Ein gültiges Gitterobjekt muss Informationen über die Lage aller Scheitelpunkte sowie alle Dreiecksoberflächen enthalten, die zwischen bestimmten Scheitelpunktsätzen vorhanden sind.</span><span class="sxs-lookup"><span data-stu-id="8219c-124">A valid mesh object must contain information about the location of all of its vertices as well as all the triangle faces that exist between certain sets of vertices.</span></span>

<span data-ttu-id="8219c-125">Mit der folgenden Methode werden einem Gitter Scheitelpunkte hinzugefügt. Diesen Scheitelpunkten wird dann im 3D-Raum eine Lage zugewiesen:</span><span class="sxs-lookup"><span data-stu-id="8219c-125">The following method adds vertices to a mesh and then gives them locations in 3D space:</span></span>

[!code-cs[Vertices](./code/3dprinthowto/cs/Generate3MFMethods.cs#SnippetVertices)]

<span data-ttu-id="8219c-126">Die nächste Methode definiert alle Dreiecke, die über diese Scheitelpunkte gezeichnet werden sollen:</span><span class="sxs-lookup"><span data-stu-id="8219c-126">The next method defines all of the triangles to be drawn across these vertices:</span></span>

[!code-cs[TriangleIndices](./code/3dprinthowto/cs/Generate3MFMethods.cs#SnippetTriangleIndices)]

> [!NOTE]
> <span data-ttu-id="8219c-127">Die Indizes aller Dreiecke müssen gegen den Uhrzeigersinn definiert werden (bei Sicht auf das Dreieck von außerhalb des Gitterobjekts), sodass ihre Oberflächennormalvektoren nach außen zeigen.</span><span class="sxs-lookup"><span data-stu-id="8219c-127">All triangles must have their indices defined in counter-clockwise order (when viewing the triangle from outside of the mesh object), so that their face-normal vectors point outward.</span></span>

<span data-ttu-id="8219c-128">Wenn ein Printing3DMesh-Objekt gültige Sätze von Scheitelpunkten und Dreiecken enthält, sollte es anschließend der **Meshes**-Eigenschaft des Modells hinzugefügt werden.</span><span class="sxs-lookup"><span data-stu-id="8219c-128">When a Printing3DMesh object contains valid sets of vertices and triangles, it should then be added to the model's **Meshes** property.</span></span> <span data-ttu-id="8219c-129">Alle **Printing3DMesh**-Objekte in einem Paket müssen unter der **Meshes**-Eigenschaft der **Printing3DModel**-Klasse gespeichert werden.</span><span class="sxs-lookup"><span data-stu-id="8219c-129">All **Printing3DMesh** objects in a package must be stored under the **Meshes** property of the **Printing3DModel** class.</span></span>

[!code-cs[MeshAdd](./code/3dprinthowto/cs/Generate3MFMethods.cs#SnippetMeshAdd)]


## <a name="create-materials"></a><span data-ttu-id="8219c-130">Erstellen von Materialen</span><span class="sxs-lookup"><span data-stu-id="8219c-130">Create materials</span></span>


<span data-ttu-id="8219c-131">Ein 3D-Modell kann Daten für mehrere Materialien enthalten.</span><span class="sxs-lookup"><span data-stu-id="8219c-131">A 3D model can hold data for multiple materials.</span></span> <span data-ttu-id="8219c-132">Diese Konvention ist für 3D-Fertigungsgeräte konzipiert, die mehrere Materialien für einen einzelnen Druckauftrag verwenden können.</span><span class="sxs-lookup"><span data-stu-id="8219c-132">This convention is intended to take advantage of 3D manufacturing devices that can use multiple materials on a single print job.</span></span> <span data-ttu-id="8219c-133">Es gibt auch mehrere *Typen* von Materialgruppen, die jeweils eine Reihe verschiedener einzelner Materialien unterstützen können.</span><span class="sxs-lookup"><span data-stu-id="8219c-133">There are also multiple *types* of material gropus, each one capable of supporting a number of different individual materals.</span></span> <span data-ttu-id="8219c-134">Jede Materialgruppe muss eine eindeutige Referenz-ID aufweisen, und jedes Material innerhalb einer Gruppe muss ebenfalls über eine eindeutige ID verfügen.</span><span class="sxs-lookup"><span data-stu-id="8219c-134">Each material group must have a unique reference id number, and each material within that group must also have a unique id.</span></span>

<span data-ttu-id="8219c-135">Die verschiedenen Gitterobjekte in einem Modell können dann auf diese Materialien verweisen.</span><span class="sxs-lookup"><span data-stu-id="8219c-135">The different mesh objects within a model can then reference these materials.</span></span> <span data-ttu-id="8219c-136">Darüber hinaus können einzelne Dreiecke in jedem Gitter unterschiedliche Materialien angeben.</span><span class="sxs-lookup"><span data-stu-id="8219c-136">Furthermore, individual triangles on each mesh can specify different materials.</span></span> <span data-ttu-id="8219c-137">Verschiedene Materialien können sogar innerhalb eines einzelnen Dreiecks dargestellt werden, wobei jedem Dreieckvertex ein anderes Material zugewiesen ist und das Oberflächenmaterial als der Verlauf dazwischen berechnet wird.</span><span class="sxs-lookup"><span data-stu-id="8219c-137">Further still, different materials can even be represented within a single triangle, with each triangle vertex having a different material assigned to it and the face material calculated as the gradient between them.</span></span>

<span data-ttu-id="8219c-138">In diesem Handbuch wird zunächst beschrieben, wie verschiedene Materialarten innerhalb ihrer jeweiligen Materialgruppen erstellt und als Ressourcen für das Modellobjekt gespeichert werden.</span><span class="sxs-lookup"><span data-stu-id="8219c-138">This guide will first show how to create different kinds of materials within their respective material groups and store them as resources on the model object.</span></span> <span data-ttu-id="8219c-139">Anschließend wird erläutert, wie verschiedene Materialien einzelnen Gittern und Dreiecken zugewiesen werden.</span><span class="sxs-lookup"><span data-stu-id="8219c-139">Then, we will go about assigning different materials to individual meshes and individual triangles.</span></span>

### <a name="base-materials"></a><span data-ttu-id="8219c-140">Basismaterialien</span><span class="sxs-lookup"><span data-stu-id="8219c-140">Base materials</span></span>

<span data-ttu-id="8219c-141">Der Standardmaterialtyp ist **Base Material**, der sowohl einen **Color Material**-Wert (nachfolgend beschrieben) als auch ein Namensattribut aufweist, mit dem der *Typ* des zu verwendenden Materials angegeben werden soll.</span><span class="sxs-lookup"><span data-stu-id="8219c-141">The default material type is **Base Material**, which has both a **Color Material** value (described below) and a name attribute that is intended to specify the *type* of material to use.</span></span>

[!code-cs[BaseMaterialGroup](./code/3dprinthowto/cs/Generate3MFMethods.cs#SnippetBaseMaterialGroup)]

> [!NOTE]
> <span data-ttu-id="8219c-142">Das 3D-Fertigungsgerät bestimmt, welche verfügbaren physischen Materialien den jeweiligen im 3MF gespeicherten virtuellen Materialelementen zugeordnet werden.</span><span class="sxs-lookup"><span data-stu-id="8219c-142">The 3D manufacturing device will determine which available physical materials map to which virtual material elements stored in the 3MF.</span></span> <span data-ttu-id="8219c-143">Die Materialzuordnung muss nicht 1:1 erfolgen: Wenn ein 3D-Drucker nur ein Material verwendet, wird das gesamte Modell in diesem Material gedruckt, unabhängig davon, welchen Objekten oder Oberflächen verschiedene Materialien zugeordnet wurden.</span><span class="sxs-lookup"><span data-stu-id="8219c-143">Material mapping doesn't have to be 1:1: if a 3D printer only uses one material, it will print the whole model in that material, regardless of which objects or faces were assigned different materials.</span></span>

### <a name="color-materials"></a><span data-ttu-id="8219c-144">Farbmaterialien</span><span class="sxs-lookup"><span data-stu-id="8219c-144">Color materials</span></span>

<span data-ttu-id="8219c-145">**Farbmaterialien** ähneln den **Basismaterialien**, enthalten jedoch keinen Namen.</span><span class="sxs-lookup"><span data-stu-id="8219c-145">**Color Materials** are similar to **Base Materials**, but they do not contain a name.</span></span> <span data-ttu-id="8219c-146">Somit enthalten sie keine Anweisungen, welche Materialart vom Gerät verwendet werden soll.</span><span class="sxs-lookup"><span data-stu-id="8219c-146">Thus, they give no instructions as to what type of material should be used by the machine.</span></span> <span data-ttu-id="8219c-147">Sie enthalten lediglich Farbdaten und überlassen dem Gerät die Auswahl des Materialtyps (das Gerät kann anschließend den Benutzer zur Auswahl auffordern).</span><span class="sxs-lookup"><span data-stu-id="8219c-147">They hold only color data, and let the machine choose the material type (and the machine may then prompt the user to choose).</span></span> <span data-ttu-id="8219c-148">Im folgenden Code werden die `colrMat`-Objekte aus der vorherigen Methode alleine verwendet.</span><span class="sxs-lookup"><span data-stu-id="8219c-148">In the code below, the `colrMat` objects from the previous method are used on their own.</span></span>

[!code-cs[ColorMaterialGroup](./code/3dprinthowto/cs/Generate3MFMethods.cs#SnippetColorMaterialGroup)]

### <a name="composite-materials"></a><span data-ttu-id="8219c-149">Zusammengesetzte Materialien</span><span class="sxs-lookup"><span data-stu-id="8219c-149">Composite materials</span></span>

<span data-ttu-id="8219c-150">**Zusammengesetzte Materialien** weisen das Fertigungsgerät an, eine einheitliche Mischung aus unterschiedlichen **Basismaterialien** zu verwenden.</span><span class="sxs-lookup"><span data-stu-id="8219c-150">**Composite Materials** simply instruct the manufacturing device to use a uniform mixture of different **Base Materials**.</span></span> <span data-ttu-id="8219c-151">Jede **zusammengesetzte Materialgruppe** muss auf genau eine **Basismaterialgruppe** verweisen, aus der die Bestandteile entnommen werden sollen.</span><span class="sxs-lookup"><span data-stu-id="8219c-151">Each **Composite Material Group** must reference exactly one **Base Material Group** from which to draw ingredients.</span></span> <span data-ttu-id="8219c-152">Zusätzlich müssen die **Basismaterialien** in dieser Gruppe, die verfügbar gemacht werden sollen, in einer Liste mit den **Materialindizes** aufgeführt werden, auf die anschließend jedes **zusammengesetzte Material** verweist, wenn die Verhältnisse angeben werden (jedes **zusammengesetzte Material** ist lediglich ein Verhältnis der **Basismaterialien**).</span><span class="sxs-lookup"><span data-stu-id="8219c-152">Additonally, the **Base Materials** within this group that are to be made available must be listed out in a **Material Indices** list, which each **Composite Material** will then reference when specifying the ratios (every **Composite Material** is simply a ratio of **Base Materials**).</span></span>

[!code-cs[CompositeMaterialGroup](./code/3dprinthowto/cs/Generate3MFMethods.cs#SnippetCompositeMaterialGroup)]

### <a name="texture-coordinate-materials"></a><span data-ttu-id="8219c-153">Texturkoordinatenmaterialien</span><span class="sxs-lookup"><span data-stu-id="8219c-153">Texture coordinate materials</span></span>

<span data-ttu-id="8219c-154">3MF unterstützt die Verwendung von 2D-Bildern, um die Oberflächen von 3D-Modellen einzufärben.</span><span class="sxs-lookup"><span data-stu-id="8219c-154">3MF supports the use of 2D images to color the surfaces of 3D models.</span></span> <span data-ttu-id="8219c-155">Auf diese Weise kann das Modell deutlich mehr Farbdaten pro Dreiecksfläche übermitteln (als bei Verwendung eines einzelnen Farbwerts pro Dreiecksvertex).</span><span class="sxs-lookup"><span data-stu-id="8219c-155">This way, the model can convey much more color data per triangle face (as opposed to having just one color value per triangle vertex).</span></span> <span data-ttu-id="8219c-156">Ebenso wie **Farbmaterialien** können Texturkoordinatenmaterialien ausschließlich Farbdaten enthalten.</span><span class="sxs-lookup"><span data-stu-id="8219c-156">Like **Color Materials**, texture coordinate materials only convery color data.</span></span> <span data-ttu-id="8219c-157">Um eine 2D-Textur verwenden zu können, muss zunächst eine Texturressource deklariert werden:</span><span class="sxs-lookup"><span data-stu-id="8219c-157">To use a 2D texture, a texture resource must first be declared:</span></span>

[!code-cs[TextureResource](./code/3dprinthowto/cs/Generate3MFMethods.cs#SnippetTextureResource)]

> [!NOTE]
> <span data-ttu-id="8219c-158">Texturdaten gehören zum 3MF-Paket selbst und nicht zum Modellteil innerhalb des Pakets.</span><span class="sxs-lookup"><span data-stu-id="8219c-158">Texture data belongs to the 3MF Package itself, not to the model part within the package.</span></span>

<span data-ttu-id="8219c-159">Als Nächstes müssen die **Texture3Coord-Materialien** angegeben werden.</span><span class="sxs-lookup"><span data-stu-id="8219c-159">Next, we must fill out **Texture3Coord Materials**.</span></span> <span data-ttu-id="8219c-160">Jedes dieser Materialien verweist auf eine Texturressource und gibt einen bestimmten Punkt im Bild an (in UV-Koordinaten).</span><span class="sxs-lookup"><span data-stu-id="8219c-160">Each of these references a texture resource and specifies a particular point on the image (in UV coordinates).</span></span>

[!code-cs[Texture2CoordMaterialGroup](./code/3dprinthowto/cs/Generate3MFMethods.cs#SnippetTexture2CoordMaterialGroup)]

## <a name="map-materials-to-faces"></a><span data-ttu-id="8219c-161">Zuordnung von Materialien zu Oberflächen</span><span class="sxs-lookup"><span data-stu-id="8219c-161">Map materials to faces</span></span>

<span data-ttu-id="8219c-162">Um festzulegen, welche Materialien welchen Scheitelpunkten der einzelnen Dreiecke zugeordnet werden sollen, wird noch einmal das Gitterobjekt für das Modell herangezogen (wenn ein Modell mehrere Gitter enthält, müssen die jeweiligen Materialien separat zugewiesen werden).</span><span class="sxs-lookup"><span data-stu-id="8219c-162">In order to dictate which materials are mapped to which vertices on each triangle, we must do some more work on the mesh object of our model (if a model contains multiple meshes, they must each have their materials assigned separately).</span></span> <span data-ttu-id="8219c-163">Wie bereits erwähnt, werden die Materialien pro Vertex, pro Dreieck zugewiesen.</span><span class="sxs-lookup"><span data-stu-id="8219c-163">As mentioned above, materials are assigned per-vertex, per-triangle.</span></span> <span data-ttu-id="8219c-164">Der nachfolgende Code veranschaulicht, wie diese Informationen eingegeben und interpretiert werden.</span><span class="sxs-lookup"><span data-stu-id="8219c-164">Refer to the code below to see how this information is entered and interpreted.</span></span>

[!code-cs[MaterialIndices](./code/3dprinthowto/cs/Generate3MFMethods.cs#SnippetMaterialIndices)]

## <a name="components-and-build"></a><span data-ttu-id="8219c-165">Komponenten und Erstellung</span><span class="sxs-lookup"><span data-stu-id="8219c-165">Components and build</span></span>

<span data-ttu-id="8219c-166">Die Komponentenstruktur ermöglicht es dem Benutzer, mehrere Gitterobjekte in einem druckbaren 3D-Modell zu platzieren.</span><span class="sxs-lookup"><span data-stu-id="8219c-166">The component structure allows the user to place more than one mesh object in a printable 3D model.</span></span> <span data-ttu-id="8219c-167">Ein [**Printing3DComponent**](https://msdn.microsoft.com/library/windows/apps/windows.graphics.printing3d.printing3dcomponent.aspx)-Objekt enthält ein einzelnes Gitter und eine Liste der Verweise auf andere Komponenten.</span><span class="sxs-lookup"><span data-stu-id="8219c-167">A [**Printing3DComponent**](https://msdn.microsoft.com/library/windows/apps/windows.graphics.printing3d.printing3dcomponent.aspx) object contains a single mesh and a list of references to other components.</span></span> <span data-ttu-id="8219c-168">Hierbei handelt es sich eigentlich um eine Liste der [**Printing3DComponentWithMatrix**](https://msdn.microsoft.com/library/windows/apps/windows.graphics.printing3d.printing3dcomponentwithmatrix.aspx)-Objekte.</span><span class="sxs-lookup"><span data-stu-id="8219c-168">This is actually a list of [**Printing3DComponentWithMatrix**](https://msdn.microsoft.com/library/windows/apps/windows.graphics.printing3d.printing3dcomponentwithmatrix.aspx) objects.</span></span> <span data-ttu-id="8219c-169">**Printing3DComponentWithMatrix**-Objekte enthalten jeweils eine **Printing3DComponent** und insbesondere eine Transformationsmatrix, die auf das Gitter und die enthaltenen Komponenten der **Printing3DComponent** angewendet wird.</span><span class="sxs-lookup"><span data-stu-id="8219c-169">**Printing3DComponentWithMatrix** objects each contain a **Printing3DComponent** and, importantly, a transform matrix that applies to the mesh and contained components of said **Printing3DComponent**.</span></span>

<span data-ttu-id="8219c-170">Das Modell eines Autos könnte zum Beispiel aus einer „Karosserie“-**Printing3DComponent** bestehen, die das Gitter für die Karosserie enthält.</span><span class="sxs-lookup"><span data-stu-id="8219c-170">For example, a model of a car might consist of a "Body" **Printing3DComponent** that holds the mesh for the car's body.</span></span> <span data-ttu-id="8219c-171">Die „Karosserie“-Komponente kann dann Verweise auf vier verschiedene **Printing3DComponentWithMatrix**-Objekte enthalten, die alle auf dieselbe **Printing3DComponent** mit dem Gitter „Reifen“ verweisen und vier verschiedene Transformationsmatrizen enthalten (die die Reifen vier verschiedenen Positionen an der Karosserie zuordnen).</span><span class="sxs-lookup"><span data-stu-id="8219c-171">The "Body" component may then contain references to four different **Printing3DComponentWithMatrix** objects, which all reference the same **Printing3DComponent** with the "Wheel" mesh and contain four different transform matrices (mapping the wheels to four different positions on the car's body).</span></span> <span data-ttu-id="8219c-172">In diesem Szenario müssen die Gitter „Karosserie“ und „Reifen“ nur jeweils einmal gespeichert werden, obwohl das endgültige Produkt insgesamt fünf Gitter umfassen würde.</span><span class="sxs-lookup"><span data-stu-id="8219c-172">In this scenario, the "Body" mesh and "Wheel" mesh would each only need to be stored once, even though the final product would feature five meshes in total.</span></span>

<span data-ttu-id="8219c-173">Auf alle **Printing3DComponent**-Objekte muss direkt in der **Components**-Eigenschaft des Modells verwiesen werden.</span><span class="sxs-lookup"><span data-stu-id="8219c-173">All **Printing3DComponent** objects must be directly referenced in the model's **Components** property.</span></span> <span data-ttu-id="8219c-174">Die spezifische Komponente, die für den Druckauftrag verwendet werden soll, wird in der **Build**-Eigenschaft gespeichert.</span><span class="sxs-lookup"><span data-stu-id="8219c-174">The one particular component that is to be used in the printing job is stored in the **Build** Property.</span></span>

[!code-cs[Components](./code/3dprinthowto/cs/Generate3MFMethods.cs#SnippetComponents)]

## <a name="save-package"></a><span data-ttu-id="8219c-175">Speichern des Pakets</span><span class="sxs-lookup"><span data-stu-id="8219c-175">Save package</span></span>
<span data-ttu-id="8219c-176">Das vorliegende Modell mit den definierten Materialien und Komponenten kann nun im Paket gespeichert werden.</span><span class="sxs-lookup"><span data-stu-id="8219c-176">Now that we have a model, with defined materials and components, we can save it to the package.</span></span>

[!code-cs[SavePackage](./code/3dprinthowto/cs/Generate3MFMethods.cs#SnippetSavePackage)]

<span data-ttu-id="8219c-177">Jetzt kann ein Druckauftrag in der App gestartet (siehe [3D-Drucken in der App](https://msdn.microsoft.com/library/windows/apps/mt204541.aspx)) oder das **Printing3D3MFPackage** als 3MF-Datei gespeichert werden.</span><span class="sxs-lookup"><span data-stu-id="8219c-177">From here, we can either initiate a print job within the app (see [3D printing from your app](https://msdn.microsoft.com/library/windows/apps/mt204541.aspx)), or save this **Printing3D3MFPackage** as a .3mf file.</span></span>

<span data-ttu-id="8219c-178">Die folgende Methode akzeptiert ein fertiges **Printing3D3MFPackage** und speichert die Daten in einer 3MF-Datei.</span><span class="sxs-lookup"><span data-stu-id="8219c-178">The following method takes a finished **Printing3D3MFPackage** and saves its data to a .3mf file.</span></span>

[!code-cs[SaveTo3mf](./code/3dprinthowto/cs/Generate3MFMethods.cs#SnippetSaveTo3mf)]

## <a name="related-topics"></a><span data-ttu-id="8219c-179">Verwandte Themen</span><span class="sxs-lookup"><span data-stu-id="8219c-179">Related topics</span></span>

[<span data-ttu-id="8219c-180">3D-Druck über Ihre App</span><span class="sxs-lookup"><span data-stu-id="8219c-180">3D printing from your app</span></span>](https://msdn.microsoft.com/windows/uwp/devices-sensors/3d-print-from-app)  
[<span data-ttu-id="8219c-181">Beispiel für 3D-Druck– UWP</span><span class="sxs-lookup"><span data-stu-id="8219c-181">3D printing UWP sample</span></span>](https://github.com/Microsoft/Windows-universal-samples/tree/master/Samples/3DPrinting)
 

 

 
