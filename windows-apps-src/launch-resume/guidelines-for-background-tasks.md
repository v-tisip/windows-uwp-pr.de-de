---
author: TylerMSFT
title: Richtlinien für Hintergrundaufgaben
description: Stellen Sie sicher, dass Ihre App die Anforderungen für die Ausführung von Hintergrundaufgaben erfüllt.
ms.assetid: 18FF1104-1F73-47E1-9C7B-E2AA036C18ED
ms.author: twhitney
ms.date: 02/08/2017
ms.topic: article
keywords: Windows 10, Uwp, Hintergrundaufgabe, für die
ms.localizationpriority: medium
ms.openlocfilehash: fd98a3019efc8f2774fb7a1b52f5dcd27778cd2a
ms.sourcegitcommit: 70ab58b88d248de2332096b20dbd6a4643d137a4
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 11/01/2018
ms.locfileid: "5930421"
---
# <a name="guidelines-for-background-tasks"></a><span data-ttu-id="56a96-104">Richtlinien für Hintergrundaufgaben</span><span class="sxs-lookup"><span data-stu-id="56a96-104">Guidelines for background tasks</span></span>


<span data-ttu-id="56a96-105">Stellen Sie sicher, dass Ihre App die für die Ausführung von Hintergrundaufgaben erforderlichen Anforderungen erfüllt.</span><span class="sxs-lookup"><span data-stu-id="56a96-105">Ensure your app meets the requirements for running background tasks.</span></span>

## <a name="background-task-guidance"></a><span data-ttu-id="56a96-106">Ratschläge zu Hintergrundaufgaben</span><span class="sxs-lookup"><span data-stu-id="56a96-106">Background task guidance</span></span>

<span data-ttu-id="56a96-107">Beachten Sie beim Entwickeln Ihrer Hintergrundaufgabe und vor dem Veröffentlichen Ihrer App die folgenden Empfehlungen.</span><span class="sxs-lookup"><span data-stu-id="56a96-107">Consider the following guidance when developing your background task, and before publishing your app.</span></span>

<span data-ttu-id="56a96-108">Wenn Sie eine Hintergrundaufgabe zur Medienwiedergabe im Hintergrund verwenden, finden Sie unter [Wiedergeben von Medien im Hintergrund](https://msdn.microsoft.com/windows/uwp/audio-video-camera/background-audio) Informationen zu Verbesserungen in Windows 10, Version 1607, die dies erleichtern.</span><span class="sxs-lookup"><span data-stu-id="56a96-108">If you use a background task to play media in the background, see [Play media in the background](https://msdn.microsoft.com/windows/uwp/audio-video-camera/background-audio) for information about improvements in Windows 10, version 1607, that make it much easier.</span></span>

<span data-ttu-id="56a96-109">**Hintergrundaufgaben innerhalb von Prozessen im Vergleich zu Hintergrundaufgaben außerhalb von Prozessen:** Mit Windows10, Version1607, wurden [Hintergrundaufgaben innerhalb von Prozessen](create-and-register-an-inproc-background-task.md) eingeführt. Dadurch kann Hintergrundcode im selben Prozess ausgeführt werden wie die Vordergrund-App.</span><span class="sxs-lookup"><span data-stu-id="56a96-109">**In-process versus out-of-process background tasks:** Windows 10, version 1607, introduced [in-process background tasks](create-and-register-an-inproc-background-task.md) which allows you to run background code in the same process as your foreground app.</span></span> <span data-ttu-id="56a96-110">Beachten Sie bei der Entscheidung für Hintergrundaufgaben innerhalb oder außerhalb von Prozessen folgende Faktoren:</span><span class="sxs-lookup"><span data-stu-id="56a96-110">Consider the following factors when deciding whether to have in-process vs. out-of-process background tasks:</span></span>

|<span data-ttu-id="56a96-111">Überlegung</span><span class="sxs-lookup"><span data-stu-id="56a96-111">Consideration</span></span> | <span data-ttu-id="56a96-112">Auswirkungen</span><span class="sxs-lookup"><span data-stu-id="56a96-112">Impact</span></span> |
|--------------|--------|
|<span data-ttu-id="56a96-113">Flexibilität</span><span class="sxs-lookup"><span data-stu-id="56a96-113">Resilience</span></span>   | <span data-ttu-id="56a96-114">Wenn der Hintergrundprozess in einem anderen Prozess ausgeführt wird, hat ein Absturz im Hintergrundprozess keine Auswirkungen auf Ihre Vordergrund-Anwendung.</span><span class="sxs-lookup"><span data-stu-id="56a96-114">If your background process is running in another process, a crash in your background process won't take down your foreground application.</span></span> <span data-ttu-id="56a96-115">Außerdem kann die Hintergrundaktivität beendet werden, sogar innerhalb Ihrer App, wenn Ausführungszeitlimits überschritten werden.</span><span class="sxs-lookup"><span data-stu-id="56a96-115">Also, background activity can be terminated, even within your app, if it runs past execution time limits.</span></span> <span data-ttu-id="56a96-116">Das Trennen der Hintergrundarbeit in eine Aufgabe separat von der Vordergrund-App ist möglicherweise die bessere Wahl, wenn Vordergrund- und Hintergrundprozess nicht miteinander kommunizieren müssen (ein wesentlicher Vorteil von Hintergrundaufgaben innerhalb von Prozessen ist nämlich der, dass keine Kommunikation zwischen Prozessen erforderlich ist).</span><span class="sxs-lookup"><span data-stu-id="56a96-116">Separating background work into a task separate from the foreground app may be a better choice when it isn't necessary for the foreground and background processes to communicate with each other (since one of the main advantages of in-process background tasks are that they remove the need for inter-process communication).</span></span> |
|<span data-ttu-id="56a96-117">Einfachheit</span><span class="sxs-lookup"><span data-stu-id="56a96-117">Simplicity</span></span>    | <span data-ttu-id="56a96-118">Hintergrundaufgaben innerhalb von Prozessen erfordern keine prozessübergreifende Kommunikation und sind einfacher zu schreiben.</span><span class="sxs-lookup"><span data-stu-id="56a96-118">In-process background tasks don't require cross-process communication and are less complex to write.</span></span>  |
|<span data-ttu-id="56a96-119">Verfügbare Trigger</span><span class="sxs-lookup"><span data-stu-id="56a96-119">Available triggers</span></span> | <span data-ttu-id="56a96-120">Hintergrundaufgaben innerhalb von Prozessen unterstützen nicht die folgenden Trigger: [DeviceUseTrigger](https://msdn.microsoft.com/library/windows/apps/windows.applicationmodel.background.deviceusetrigger.aspx?f=255&MSPPError=-2147217396), [DeviceServicingTrigger](https://msdn.microsoft.com/library/windows/apps/windows.applicationmodel.background.deviceservicingtrigger.aspx) und **IoTStartupTask**</span><span class="sxs-lookup"><span data-stu-id="56a96-120">In-process background tasks don't support the following triggers: [DeviceUseTrigger](https://msdn.microsoft.com/library/windows/apps/windows.applicationmodel.background.deviceusetrigger.aspx?f=255&MSPPError=-2147217396), [DeviceServicingTrigger](https://msdn.microsoft.com/library/windows/apps/windows.applicationmodel.background.deviceservicingtrigger.aspx) and **IoTStartupTask**.</span></span> |
|<span data-ttu-id="56a96-121">VoIP</span><span class="sxs-lookup"><span data-stu-id="56a96-121">VoIP</span></span> | <span data-ttu-id="56a96-122">Hintergrundaufgaben innerhalb von Prozessen unterstützen nicht die Aktivierung einer VoIP-Hintergrundaufgabe in Ihrer Anwendung.</span><span class="sxs-lookup"><span data-stu-id="56a96-122">In-process background tasks don't support activating a VoIP background task within your application.</span></span> |  

<span data-ttu-id="56a96-123">**Beschränkung der Anzahl an Triggerinstanzen:** Die Anzahl, wie viele Instanzen einiger Trigger eine App registrieren kann, ist begrenzt.</span><span class="sxs-lookup"><span data-stu-id="56a96-123">**Limits on the number of trigger instances:** There are limits to how many instances of some triggers an app can register.</span></span> <span data-ttu-id="56a96-124">Eine App kann   [ApplicationTrigger](https://docs.microsoft.com/uwp/api/Windows.ApplicationModel.Background.ApplicationTrigger), [MediaProcessingTrigger](https://docs.microsoft.com/uwp/api/windows.applicationmodel.background.mediaprocessingtrigger) und [DeviceUseTrigger](https://msdn.microsoft.com/library/windows/apps/windows.applicationmodel.background.deviceusetrigger.aspx?f=255&MSPPError=-2147217396) nur einmal pro Instanz der App registrieren.</span><span class="sxs-lookup"><span data-stu-id="56a96-124">An app can only register   [ApplicationTrigger](https://docs.microsoft.com/uwp/api/Windows.ApplicationModel.Background.ApplicationTrigger), [MediaProcessingTrigger](https://docs.microsoft.com/uwp/api/windows.applicationmodel.background.mediaprocessingtrigger) and [DeviceUseTrigger](https://msdn.microsoft.com/library/windows/apps/windows.applicationmodel.background.deviceusetrigger.aspx?f=255&MSPPError=-2147217396) once per instance of the app.</span></span> <span data-ttu-id="56a96-125">Wenn eine App dieses Limit überschreitet, wird von der Registrierung eine Ausnahme ausgelöst.</span><span class="sxs-lookup"><span data-stu-id="56a96-125">If an app goes over this limit, registration will throw an exception.</span></span>

<span data-ttu-id="56a96-126">**CPU-Kontingente:** Hintergrundaufgaben werden durch die Gesamtbetrachtungszeit beschränkt, die ihnen basierend auf dem Triggertyp zugeteilt wird.</span><span class="sxs-lookup"><span data-stu-id="56a96-126">**CPU quotas:** Background tasks are limited by the amount of wall-clock usage time they get based on trigger type.</span></span> <span data-ttu-id="56a96-127">Die meisten Trigger sind auf 30Sekunden der Gesamtbetrachtungszeit beschränkt. Einige können jedoch bis zu 10Minuten ausgeführt werden, um rechenintensive Aufgaben abschließen zu können.</span><span class="sxs-lookup"><span data-stu-id="56a96-127">Most triggers are limited to 30 seconds of wall-clock usage, while some have the ability to run up to 10 minutes in order to complete intensive tasks.</span></span> <span data-ttu-id="56a96-128">Hintergrundaufgaben sollten klein bleiben, um den Akku zu schonen und ein besseres Benutzererlebnis für die Apps im Vordergrund zu ermöglichen.</span><span class="sxs-lookup"><span data-stu-id="56a96-128">Background tasks should be lightweight to save battery life and provide a better user experience for foreground apps.</span></span> <span data-ttu-id="56a96-129">Die für Hintergrundaufgaben geltenden Ressourcenbeschränkungen finden Sie unter [Unterstützen der App mit Hintergrundaufgaben](support-your-app-with-background-tasks.md).</span><span class="sxs-lookup"><span data-stu-id="56a96-129">See [Support your app with background tasks](support-your-app-with-background-tasks.md) for the resource constraints applied to background tasks.</span></span>

<span data-ttu-id="56a96-130">**Verwalten von Hintergrundaufgaben:** Ihre App muss eine Liste mit registrierten Hintergrundaufgaben abrufen, sich für Fortschritts- und Vervollständigungshandler registrieren und diese Ereignisse angemessen behandeln.</span><span class="sxs-lookup"><span data-stu-id="56a96-130">**Manage background tasks:** Your app should get a list of registered background tasks, register for progress and completion handlers, and handle those events appropriately.</span></span> <span data-ttu-id="56a96-131">Ihre Hintergrundaufgabenklassen müssen Fortschritt, Abbruch und Abschluss berichten.</span><span class="sxs-lookup"><span data-stu-id="56a96-131">Your background task classes should report progress, cancellation, and completion.</span></span> <span data-ttu-id="56a96-132">Weitere Informationen finden Sie unter [Behandeln einer abgebrochenen Hintergrundaufgabe](handle-a-cancelled-background-task.md) und [Überwachen des Status und Abschlusses von Hintergrundaufgaben](monitor-background-task-progress-and-completion.md).</span><span class="sxs-lookup"><span data-stu-id="56a96-132">For more info see [Handle a cancelled background task](handle-a-cancelled-background-task.md), and [Monitor background task progress and completion](monitor-background-task-progress-and-completion.md).</span></span>

<span data-ttu-id="56a96-133">**Verwenden Sie [BackgroundTaskDeferral](https://msdn.microsoft.com/library/windows/apps/hh700499):**: Wenn Ihre Hintergrundaufgabenklasse asynchronen Code ausführt, müssen Sie Verzögerungen verwenden.</span><span class="sxs-lookup"><span data-stu-id="56a96-133">**Use [BackgroundTaskDeferral](https://msdn.microsoft.com/library/windows/apps/hh700499):** If your background task class runs asynchronous code, make sure to use deferrals.</span></span> <span data-ttu-id="56a96-134">Andernfalls kann Ihre Hintergrundaufgabe vorzeitig beendet werden, wenn die [Run](https://msdn.microsoft.com/library/windows/apps/windows.applicationmodel.background.ibackgroundtask.run.aspx)-Methode (oder die [OnBackgroundActivated](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.application.onbackgroundactivated.aspx)-Methode bei Hintergrundaufgaben innerhalb von Prozessen) abgeschlossen wird.</span><span class="sxs-lookup"><span data-stu-id="56a96-134">Otherwise your background task may be terminated prematurely when the [Run](https://msdn.microsoft.com/library/windows/apps/windows.applicationmodel.background.ibackgroundtask.run.aspx) method (or [OnBackgroundActivated](https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.application.onbackgroundactivated.aspx) method in the case of in-process background tasks).</span></span> <span data-ttu-id="56a96-135">Weitere Informationen finden Sie unter [Erstellen und Registrieren einer Hintergrundaufgabe außerhalb von Prozessen](create-and-register-a-background-task.md).</span><span class="sxs-lookup"><span data-stu-id="56a96-135">For more information, see [Create and register an out-of-process background task](create-and-register-a-background-task.md).</span></span>

<span data-ttu-id="56a96-136">Alternativ können Sie eine Verzögerung bewirken und asynchrone Methodenaufrufe mit **async/await** abschließen.</span><span class="sxs-lookup"><span data-stu-id="56a96-136">Alternatively, request one deferral, and use **async/await** to complete asynchronous method calls.</span></span> <span data-ttu-id="56a96-137">Schließen Sie die Verzögerung nach den **await**-Methodenaufrufen.</span><span class="sxs-lookup"><span data-stu-id="56a96-137">Close the deferral after the **await** method calls.</span></span>

<span data-ttu-id="56a96-138">**Aktualisieren des App-Manifests:** Deklarieren Sie für Hintergrundaufgaben außerhalb von Prozessen, die in einem separaten Prozess ausgeführt werden, im Anwendungsmanifest die einzelnen Hintergrundaufgaben gemeinsam mit dem verwendeten Triggertyp.</span><span class="sxs-lookup"><span data-stu-id="56a96-138">**Update the app manifest:**  For background tasks that run out-of-process, declare each background task in the application manifest, along with the type of triggers it is used with.</span></span> <span data-ttu-id="56a96-139">Andernfalls kann Ihre App die Hintergrundaufgaben zur Laufzeit nicht registrieren.</span><span class="sxs-lookup"><span data-stu-id="56a96-139">Otherwise your app will not be able to register the background task at runtime.</span></span>

<span data-ttu-id="56a96-140">Bei mehreren Hintergrundaufgaben müssen Sie entscheiden, ob sie im selben Hostprozess oder in verschiedenen Hostprozessen ausgeführt werden sollten.</span><span class="sxs-lookup"><span data-stu-id="56a96-140">If you have multiple background tasks, consider whether they should run in the same host process or be separated into different host processes.</span></span> <span data-ttu-id="56a96-141">Verwenden Sie separate Hostprozesse, wenn Sie befürchten, dass ein Fehler in einer Hintergrundaufgabe andere Hintergrundaufgaben beenden könnte.</span><span class="sxs-lookup"><span data-stu-id="56a96-141">Put them in separate host processes if you are concerned that a failure in one background task could bring down other background tasks.</span></span>  <span data-ttu-id="56a96-142">Verwenden Sie den Eintrag **Ressourcengruppe** Manifest-Designer, um Hintergrundaufgaben in unterschiedliche Host-Prozesse einzuordnen.</span><span class="sxs-lookup"><span data-stu-id="56a96-142">Use the **Resource group** entry in the manifest designer to group background tasks into different host processes.</span></span> 

<span data-ttu-id="56a96-143">Zum Festlegen der **Ressourcengruppe** öffnen Sie den Package.appxmanifest-Designer, wählen **Deklarationen** und fügen eine **App Service**-Deklaration hinzu:</span><span class="sxs-lookup"><span data-stu-id="56a96-143">To set the **Resource group**, open the Package.appxmanifest designer, choose **Declarations**, and add an **App Service** declaration:</span></span>

![Einstellungen für Ressourcengruppen](images/resourcegroup.png)

<span data-ttu-id="56a96-145">Weitere Informationen zu Einstellungen für Ressourcengruppen finden Sie unter [Referenz für Anwendungsschemata](https://docs.microsoft.com/uwp/schemas/appxpackage/uapmanifestschema/element-application).</span><span class="sxs-lookup"><span data-stu-id="56a96-145">See the [application schema reference](https://docs.microsoft.com/uwp/schemas/appxpackage/uapmanifestschema/element-application) for more information about the resource group setting.</span></span>

<span data-ttu-id="56a96-146">Hintergrundaufgaben, die im gleichen Prozess wie die Vordergrund-App ausgeführt werden, müssen sich im Anwendungsmanifest nicht selbst deklarieren.</span><span class="sxs-lookup"><span data-stu-id="56a96-146">Background tasks that run in the same process as the foreground app do not need to declare themselves in the application manifest.</span></span> <span data-ttu-id="56a96-147">Weitere Informationen zum Deklarieren von Hintergrundaufgaben außerhalb von Prozessen, die in einem separaten Prozess im Manifest ausgeführt werden, finden Sie unter [Deklarieren von Hintergrundaufgaben im Anwendungsmanifest](declare-background-tasks-in-the-application-manifest.md).</span><span class="sxs-lookup"><span data-stu-id="56a96-147">For more information about declaring background tasks that run out-of-process in the manifest, see [Declare background tasks in the application manifest](declare-background-tasks-in-the-application-manifest.md).</span></span>

<span data-ttu-id="56a96-148">**Vorbereiten von App-Updates:** Wenn Ihre App aktualisiert werden soll, erstellen und registrieren Sie eine **ServicingComplete**-Hintergrundaufgabe (siehe [SystemTriggerType](https://msdn.microsoft.com/library/windows/apps/br224839)), um die Registrierung von Hintergrundaufgaben für die vorherige Version der App aufzuheben und die Hintergrundaufgaben für die neue Version zu registrieren.</span><span class="sxs-lookup"><span data-stu-id="56a96-148">**Prepare for app updates:** If your app will be updated, create and register a **ServicingComplete** background task (see [SystemTriggerType](https://msdn.microsoft.com/library/windows/apps/br224839)) to unregister background tasks for the previous version of the app, and register the background tasks for the new version.</span></span> <span data-ttu-id="56a96-149">Dies ist auch ein geeigneter Zeitpunkt, um App-Updates durchzuführen, die möglicherweise außerhalb des Kontexts der Ausführung im Vordergrund erforderlich sind.</span><span class="sxs-lookup"><span data-stu-id="56a96-149">This is also an appropriate time to perform app updates that may be necessary outside the context of running in the foreground.</span></span>

**<span data-ttu-id="56a96-150">Anfordern der Ausführung von Hintergrundaufgaben:</span><span class="sxs-lookup"><span data-stu-id="56a96-150">Request to execute background tasks:</span></span>**

> <span data-ttu-id="56a96-151">**Wichtige**ab Windows 10 können apps sind nicht mehr erforderlich, um auf dem Sperrbildschirm als Voraussetzung für Hintergrundaufgaben ausgeführt werden.</span><span class="sxs-lookup"><span data-stu-id="56a96-151">**Important**Starting in Windows10, apps are no longer required to be on the lock screen as a prerequisite to run background tasks.</span></span>

<span data-ttu-id="56a96-152">UWP (Universelle Windows-Plattform)-Apps können alle unterstützten Aufgabentypen ausführen, ohne auf dem Sperrbildschirm angeheftet zu sein.</span><span class="sxs-lookup"><span data-stu-id="56a96-152">Universal Windows Platform (UWP) apps can run all supported task types without being pinned to the lock screen.</span></span> <span data-ttu-id="56a96-153">Apps müssen jedoch vor dem Registrieren einer Hintergrundaufgabe [**RequestAccessAsync**](https://msdn.microsoft.com/library/windows/apps/hh700485) aufrufen.</span><span class="sxs-lookup"><span data-stu-id="56a96-153">However, apps must call [**RequestAccessAsync**](https://msdn.microsoft.com/library/windows/apps/hh700485) before registering any type of background task.</span></span> <span data-ttu-id="56a96-154">Diese Methode gibt [**BackgroundAccessStatus.DeniedByUser**](https://msdn.microsoft.com/library/windows/apps/hh700439) zurück, wenn der Benutzer Berechtigungen für Hintergrundaufgaben für Ihre App in den Geräteeinstellungen explizit verweigert hat.</span><span class="sxs-lookup"><span data-stu-id="56a96-154">This method will return [**BackgroundAccessStatus.DeniedByUser**](https://msdn.microsoft.com/library/windows/apps/hh700439) if the user has explicitly denied background task permissions for your app in the device's settings.</span></span> <span data-ttu-id="56a96-155">Weitere Informationen über die Auswahl des Benutzers über Hintergrundaktivitäten und den Stromsparmodus finden Sie unter [Optimieren von Hintergrundaktivitäten ](https://docs.microsoft.com/windows/uwp/debug-test-perf/optimize-background-activity).</span><span class="sxs-lookup"><span data-stu-id="56a96-155">For more information on user choice around background activity and Battery Saver, see [Optimize Background Activity](https://docs.microsoft.com/windows/uwp/debug-test-perf/optimize-background-activity).</span></span> 
## <a name="background-task-checklist"></a><span data-ttu-id="56a96-156">Prüfliste für Hintergrundaufgaben</span><span class="sxs-lookup"><span data-stu-id="56a96-156">Background task checklist</span></span>

*<span data-ttu-id="56a96-157">Gilt sowohl für Hintergrundaufgaben innerhalb als auch außerhalb von Prozessen</span><span class="sxs-lookup"><span data-stu-id="56a96-157">Applies to both in-process and out-of-process background tasks</span></span>*

-   <span data-ttu-id="56a96-158">Verknüpfen Sie Ihre Hintergrundaufgabe mit dem korrekten Trigger.</span><span class="sxs-lookup"><span data-stu-id="56a96-158">Associate your background task with the correct trigger.</span></span>
-   <span data-ttu-id="56a96-159">Fügen Sie Bedingungen hinzu, die für das erfolgreiche Ausführen Ihrer Hintergrundaufgabe sorgen.</span><span class="sxs-lookup"><span data-stu-id="56a96-159">Add conditions to help ensure your background task runs successfully.</span></span>
-   <span data-ttu-id="56a96-160">Behandeln Sie Status, Abschluss und Abbruch von Hintergrundaufgaben.</span><span class="sxs-lookup"><span data-stu-id="56a96-160">Handle background task progress, completion, and cancellation.</span></span>
-   <span data-ttu-id="56a96-161">Registrieren Sie Ihre Hintergrundaufgaben während des App-Starts erneut.</span><span class="sxs-lookup"><span data-stu-id="56a96-161">Re-register your background tasks during app launch.</span></span> <span data-ttu-id="56a96-162">Dadurch wird sichergestellt, dass sie beim ersten Start der App registriert sind.</span><span class="sxs-lookup"><span data-stu-id="56a96-162">This ensures that they are registered the first time the app is launched.</span></span> <span data-ttu-id="56a96-163">Zudem können Sie mit dieser Methode feststellen, ob der Benutzer die Ausführung von Hintergrundaufgaben in Ihrer App deaktiviert hat (falls die Registrierung fehlschlägt)</span><span class="sxs-lookup"><span data-stu-id="56a96-163">It also provides a way to detect whether the user has disabled your app's background execution capabilities (in the event registration fails).</span></span>
-   <span data-ttu-id="56a96-164">Prüfen Sie Ihre App auf Fehler bei der Registrierung von Hintergrundaufgaben.</span><span class="sxs-lookup"><span data-stu-id="56a96-164">Check for background task registration errors.</span></span> <span data-ttu-id="56a96-165">Führen Sie die Registrierung der Hintergrundaufgabe ggf. mit anderen Parameterwerten erneut durch.</span><span class="sxs-lookup"><span data-stu-id="56a96-165">If appropriate, attempt to register the background task again with different parameter values.</span></span>
-   <span data-ttu-id="56a96-166">Für alle Gerätefamilien mit Ausnahme von Desktops können Hintergrundaufgaben beendet werden, wenn der Arbeitsspeicher des Geräts knapp wird.</span><span class="sxs-lookup"><span data-stu-id="56a96-166">For all device families except desktop, if the device becomes low on memory, background tasks may be terminated.</span></span> <span data-ttu-id="56a96-167">Wenn eine Ausnahme über wenig Arbeitsspeicher nicht angezeigt oder von der App nicht behandelt wird, wird die Hintergrundaufgabe ohne Warnung und ohne Auslösen des OnCanceled-Ereignisses beendet.</span><span class="sxs-lookup"><span data-stu-id="56a96-167">If an out of memory exception is not surfaced, or the app does not handle it, then the background task will be terminated without warning and without raising the OnCanceled event.</span></span> <span data-ttu-id="56a96-168">Dadurch soll die Benutzerfreundlichkeit der App im Vordergrund sichergestellt werden.</span><span class="sxs-lookup"><span data-stu-id="56a96-168">This helps to ensure the user experience of the app in the foreground.</span></span> <span data-ttu-id="56a96-169">Entwerfen Sie die Hintergrundaufgabe so, dass dieses Szenario behandelt werden kann.</span><span class="sxs-lookup"><span data-stu-id="56a96-169">Your background task should be designed to handle this scenario.</span></span>

*<span data-ttu-id="56a96-170">Gilt nur für Hintergrundaufgaben außerhalb von Prozessen</span><span class="sxs-lookup"><span data-stu-id="56a96-170">Applies only to out-of-process background tasks</span></span>*

-   <span data-ttu-id="56a96-171">Erstellen Sie Ihre Hintergrundaufgabe in einer Komponente für Windows-Runtime.</span><span class="sxs-lookup"><span data-stu-id="56a96-171">Create your background task in a Windows Runtime Component.</span></span>
-   <span data-ttu-id="56a96-172">Zeigen Sie keine UI außer Popup-, Kachel- und Signalupdates von der Hintergrundaufgabe an.</span><span class="sxs-lookup"><span data-stu-id="56a96-172">Do not display UI other than toasts, tiles, and badge updates from the background task.</span></span>
-   <span data-ttu-id="56a96-173">Fordern Sie in der [Run](https://msdn.microsoft.com/library/windows/apps/windows.applicationmodel.background.ibackgroundtask.run.aspx)-Methode Verzögerungen für jeden asynchronen Methodenaufruf an, und schließen Sie diese, wenn die Methode abgeschlossen wurde.</span><span class="sxs-lookup"><span data-stu-id="56a96-173">In the [Run](https://msdn.microsoft.com/library/windows/apps/windows.applicationmodel.background.ibackgroundtask.run.aspx) method, request deferrals for each asynchronous method call, and close them when the method is done.</span></span> <span data-ttu-id="56a96-174">Sie können auch eine Verzögerung mit **async/await** verwenden.</span><span class="sxs-lookup"><span data-stu-id="56a96-174">Or, use one deferral with **async/await**.</span></span>
-   <span data-ttu-id="56a96-175">Verwenden Sie den dauerhaften Speicher, um Daten für die Hintergrundaufgabe und die App freizugeben.</span><span class="sxs-lookup"><span data-stu-id="56a96-175">Use persistent storage to share data between the background task and the app.</span></span>
-   <span data-ttu-id="56a96-176">Deklarieren Sie jede Hintergrundaufgabe im Anwendungsmanifest zusammen mit dem Triggertyp, mit dem sie verwendet wird.</span><span class="sxs-lookup"><span data-stu-id="56a96-176">Declare each background task in the application manifest, along with the type of triggers it is used with.</span></span> <span data-ttu-id="56a96-177">Überprüfen Sie die Korrektheit von Einstiegspunkten und Triggertypen.</span><span class="sxs-lookup"><span data-stu-id="56a96-177">Make sure the entry point and trigger types are correct.</span></span>
-   <span data-ttu-id="56a96-178">Geben Sie im Manifest nur dann ein Executable-Element an, wenn Sie einen Trigger nutzen, der im selben Kontext wie die App ausgeführt werden soll (z.B. [**ControlChannelTrigger**](https://msdn.microsoft.com/library/windows/apps/hh701032)).</span><span class="sxs-lookup"><span data-stu-id="56a96-178">Do not specify an Executable element in the manifest unless you are using a trigger that should be run in the same context as the app (such as the [**ControlChannelTrigger**](https://msdn.microsoft.com/library/windows/apps/hh701032)).</span></span>

*<span data-ttu-id="56a96-179">Gilt nur für Hintergrundaufgaben innerhalb von Prozessen</span><span class="sxs-lookup"><span data-stu-id="56a96-179">Applies only to in-process background tasks</span></span>*

- <span data-ttu-id="56a96-180">Stellen Sie beim Abbrechen einer Aufgabe sicher, dass der `BackgroundActivated`-Ereignishandler vorhanden ist, bevor der Abbruch eintritt, oder der gesamte Prozess wird beendet.</span><span class="sxs-lookup"><span data-stu-id="56a96-180">When cancelling a task, ensure that the `BackgroundActivated` event handler exits before the cancellation occurs or the whole process will be terminated.</span></span>
-   <span data-ttu-id="56a96-181">Schreiben Sie Hintergrundaufgaben mit kurzer Laufzeit.</span><span class="sxs-lookup"><span data-stu-id="56a96-181">Write background tasks that are short-lived.</span></span> <span data-ttu-id="56a96-182">Hintergrundaufgaben sind auf 30 Sekunden der Gesamtbetrachtungszeit beschränkt.</span><span class="sxs-lookup"><span data-stu-id="56a96-182">Background tasks are limited to 30 seconds of wall-clock usage.</span></span>
-   <span data-ttu-id="56a96-183">Verlassen Sie sich bei Hintergrundaufgaben nicht auf Benutzerinteraktionen.</span><span class="sxs-lookup"><span data-stu-id="56a96-183">Do not rely on user interaction in background tasks.</span></span>

## <a name="related-topics"></a><span data-ttu-id="56a96-184">Verwandte Themen</span><span class="sxs-lookup"><span data-stu-id="56a96-184">Related topics</span></span>

* <span data-ttu-id="56a96-185">[Erstellen und Registrieren einer Hintergrundaufgabe innerhalb des Prozesses](create-and-register-an-inproc-background-task.md)</span><span class="sxs-lookup"><span data-stu-id="56a96-185">[Create and register an in-process background task](create-and-register-an-inproc-background-task.md).</span></span>
* [<span data-ttu-id="56a96-186">Erstellen und Registrieren einer Hintergrundaufgabe außerhalb des Prozesses</span><span class="sxs-lookup"><span data-stu-id="56a96-186">Create and register an out-of-process background task</span></span>](create-and-register-a-background-task.md)
* [<span data-ttu-id="56a96-187">Deklarieren von Hintergrundaufgaben im Anwendungsmanifest</span><span class="sxs-lookup"><span data-stu-id="56a96-187">Declare background tasks in the application manifest</span></span>](declare-background-tasks-in-the-application-manifest.md)
* [<span data-ttu-id="56a96-188">Wiedergeben von Medien im Hintergrund</span><span class="sxs-lookup"><span data-stu-id="56a96-188">Play media in the background</span></span>](https://msdn.microsoft.com/windows/uwp/audio-video-camera/background-audio)
* [<span data-ttu-id="56a96-189">Behandeln einer abgebrochenen Hintergrundaufgabe</span><span class="sxs-lookup"><span data-stu-id="56a96-189">Handle a cancelled background task</span></span>](handle-a-cancelled-background-task.md)
* [<span data-ttu-id="56a96-190">Überwachen des Status und Abschlusses von Hintergrundaufgaben</span><span class="sxs-lookup"><span data-stu-id="56a96-190">Monitor background task progress and completion</span></span>](monitor-background-task-progress-and-completion.md)
* [<span data-ttu-id="56a96-191">Registrieren einer Hintergrundaufgabe</span><span class="sxs-lookup"><span data-stu-id="56a96-191">Register a background task</span></span>](register-a-background-task.md)
* [<span data-ttu-id="56a96-192">Reagieren auf Systemereignisse mit Hintergrundaufgaben</span><span class="sxs-lookup"><span data-stu-id="56a96-192">Respond to system events with background tasks</span></span>](respond-to-system-events-with-background-tasks.md)
* [<span data-ttu-id="56a96-193">Festlegen von Bedingungen zum Ausführen einer Hintergrundaufgabe</span><span class="sxs-lookup"><span data-stu-id="56a96-193">Set conditions for running a background task</span></span>](set-conditions-for-running-a-background-task.md)
* [<span data-ttu-id="56a96-194">Aktualisieren einer Live-Kachel über eine Hintergrundaufgabe</span><span class="sxs-lookup"><span data-stu-id="56a96-194">Update a live tile from a background task</span></span>](update-a-live-tile-from-a-background-task.md)
* [<span data-ttu-id="56a96-195">Verwenden eines Wartungsauslösers</span><span class="sxs-lookup"><span data-stu-id="56a96-195">Use a maintenance trigger</span></span>](use-a-maintenance-trigger.md)
* [<span data-ttu-id="56a96-196">Ausführen einer Hintergrundaufgabe für einen Timer</span><span class="sxs-lookup"><span data-stu-id="56a96-196">Run a background task on a timer</span></span>](run-a-background-task-on-a-timer-.md)
* [<span data-ttu-id="56a96-197">Debuggen einer Hintergrundaufgabe</span><span class="sxs-lookup"><span data-stu-id="56a96-197">Debug a background task</span></span>](debug-a-background-task.md)
* [<span data-ttu-id="56a96-198">So wird’s gemacht: Auslösen von Anhalte-, Fortsetzungs- und Hintergrundereignissen in UWP-Apps (beim Debuggen)</span><span class="sxs-lookup"><span data-stu-id="56a96-198">How to trigger suspend, resume, and background events in UWP apps (when debugging)</span></span>](http://go.microsoft.com/fwlink/p/?linkid=254345)

 

 
