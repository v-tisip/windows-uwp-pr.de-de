---
author: jwmsft
description: "Stellt einen Wert für ein beliebiges XAML-Attribut bereit, indem ein Verweis auf eine Ressource ausgewertet wird. Dabei wird zusätzliche Systemlogik genutzt, mit der unterschiedliche Ressourcen je nach derzeit aktivem Design abgerufen werden."
title: ThemeResource-Markuperweiterung
ms.assetid: 8A1C79D2-9566-44AA-B8E1-CC7ADAD1BCC5
ms.author: jimwalk
ms.date: 02/08/2017
ms.topic: article
ms.prod: windows
ms.technology: uwp
keywords: windows 10, uwp
ms.openlocfilehash: 3d770bba434a065e5589311e34000006051ab672
ms.sourcegitcommit: 909d859a0f11981a8d1beac0da35f779786a6889
ms.translationtype: HT
ms.contentlocale: de-DE
---
# <a name="themeresource-markup-extension"></a><span data-ttu-id="bb7ca-104">{ThemeResource}-Markuperweiterung</span><span class="sxs-lookup"><span data-stu-id="bb7ca-104">{ThemeResource} markup extension</span></span>

<span data-ttu-id="bb7ca-105">\[ Aktualisiert für UWP-Apps unter Windows 10.</span><span class="sxs-lookup"><span data-stu-id="bb7ca-105">\[ Updated for UWP apps on Windows 10.</span></span> <span data-ttu-id="bb7ca-106">Artikel zu Windows8.x finden Sie im [Archiv](http://go.microsoft.com/fwlink/p/?linkid=619132) \]</span><span class="sxs-lookup"><span data-stu-id="bb7ca-106">For Windows 8.x articles, see the [archive](http://go.microsoft.com/fwlink/p/?linkid=619132) \]</span></span>

<span data-ttu-id="bb7ca-107">Stellt einen Wert für ein beliebiges XAML-Attribut bereit, indem ein Verweis auf eine Ressource ausgewertet wird. Dabei wird zusätzliche Systemlogik genutzt, mit der unterschiedliche Ressourcen je nach derzeit aktivem Design abgerufen werden.</span><span class="sxs-lookup"><span data-stu-id="bb7ca-107">Provides a value for any XAML attribute by evaluating a reference to a resource, with additional system logic that retrieves different resources depending on the currently active theme.</span></span> <span data-ttu-id="bb7ca-108">Ähnlich wie bei der [{StaticResource}-Markuperweiterung](staticresource-markup-extension.md) werden Ressourcen in einem [**ResourceDictionary**](https://msdn.microsoft.com/library/windows/apps/br208794) definiert, und mit einer **ThemeResource**-Syntax wird auf den Schlüssel dieser Ressource im **ResourceDictionary** verwiesen.</span><span class="sxs-lookup"><span data-stu-id="bb7ca-108">Similar to [{StaticResource} markup extension](staticresource-markup-extension.md), resources are defined in a [**ResourceDictionary**](https://msdn.microsoft.com/library/windows/apps/br208794), and a **ThemeResource** usage references the key of that resource in the **ResourceDictionary**.</span></span>

## <a name="xaml-attribute-usage"></a><span data-ttu-id="bb7ca-109">XAML-Attributsyntax</span><span class="sxs-lookup"><span data-stu-id="bb7ca-109">XAML attribute usage</span></span>

``` syntax
<object property="{ThemeResource key}" .../>
```

## <a name="xaml-values"></a><span data-ttu-id="bb7ca-110">XAML-Werte</span><span class="sxs-lookup"><span data-stu-id="bb7ca-110">XAML values</span></span>

| <span data-ttu-id="bb7ca-111">Benennung</span><span class="sxs-lookup"><span data-stu-id="bb7ca-111">Term</span></span> | <span data-ttu-id="bb7ca-112">Beschreibung</span><span class="sxs-lookup"><span data-stu-id="bb7ca-112">Description</span></span> |
|------|-------------|
| <span data-ttu-id="bb7ca-113">Schlüssel</span><span class="sxs-lookup"><span data-stu-id="bb7ca-113">key</span></span> | <span data-ttu-id="bb7ca-114">Der Schlüssel für die angeforderte Ressource.</span><span class="sxs-lookup"><span data-stu-id="bb7ca-114">The key for the requested resource.</span></span> <span data-ttu-id="bb7ca-115">Dieser Schlüssel wird anfänglich durch das [**ResourceDictionary**](https://msdn.microsoft.com/library/windows/apps/br208794) zugewiesen.</span><span class="sxs-lookup"><span data-stu-id="bb7ca-115">This key is initially assigned by the [**ResourceDictionary**](https://msdn.microsoft.com/library/windows/apps/br208794).</span></span> <span data-ttu-id="bb7ca-116">Ein Ressourcenschlüssel kann eine beliebige in der XamlName-Grammatik definierte Zeichenfolge sein.</span><span class="sxs-lookup"><span data-stu-id="bb7ca-116">A resource key can be any string defined in the XamlName Grammar.</span></span> |
 
## <a name="remarks"></a><span data-ttu-id="bb7ca-117">Anmerkungen</span><span class="sxs-lookup"><span data-stu-id="bb7ca-117">Remarks</span></span>

<span data-ttu-id="bb7ca-118">Eine **ThemeResource** ist eine Methode zum Abrufen von Werten für ein XAML-Attribut, die an anderer Stelle in einem XAML-Ressourcenwörterbuch definiert sind.</span><span class="sxs-lookup"><span data-stu-id="bb7ca-118">A **ThemeResource** is a technique for obtaining values for a XAML attribute that are defined elsewhere in a XAML resource dictionary.</span></span> <span data-ttu-id="bb7ca-119">Die Markuperweiterung hat den gleichen grundlegenden Zweck wie die [{StaticResource}-Markuperweiterung](staticresource-markup-extension.md).</span><span class="sxs-lookup"><span data-stu-id="bb7ca-119">The markup extension serves the same basic purpose as the [{StaticResource} markup extension](staticresource-markup-extension.md).</span></span> <span data-ttu-id="bb7ca-120">Der Unterschied zum Verhalten gegenüber der {StaticResource}-Markuperweiterung besteht darin, dass von einem **ThemeResource**-Verweis dynamisch verschiedene Wörterbücher als Hauptziel der Suche verwendet werden können, je nachdem, welches Design vom System gerade genutzt wird.</span><span class="sxs-lookup"><span data-stu-id="bb7ca-120">The difference in behavior versus {StaticResource} markup extension is that a **ThemeResource** reference can dynamically use different dictionaries as the primary lookup location, depending on which theme is currently being used by the system.</span></span>

<span data-ttu-id="bb7ca-121">Nach dem ersten Starten der App werden alle Ressourcenverweise eines **ThemeResource**-Verweises anhand des Designs ausgewertet, das beim Starten aktiv war.</span><span class="sxs-lookup"><span data-stu-id="bb7ca-121">When the app first starts, any resource reference made by a **ThemeResource** reference is evaluated based on the theme in use at startup.</span></span> <span data-ttu-id="bb7ca-122">Wenn Benutzer das aktive Design zur Laufzeit dann jedoch ändern, werden vom System alle **ThemeResource**-Verweise neu ausgewertet und ggf. andere designspezifische Ressourcen abgerufen. Die App wird an allen relevanten Stellen der visuellen Struktur mit neuen Ressourcenwerten angezeigt.</span><span class="sxs-lookup"><span data-stu-id="bb7ca-122">But if the user subsequently changes the active theme at run-time, the system will re-evaluate every **ThemeResource** reference, retrieve a theme-specific resource that may be different, and redisplay the app with new resource values in all appropriate places in the visual tree.</span></span> <span data-ttu-id="bb7ca-123">Eine **StaticResource** wird zur XAML-Ladezeit bzw. beim Starten der App bestimmt und zur Laufzeit nicht neu ausgewertet.</span><span class="sxs-lookup"><span data-stu-id="bb7ca-123">A **StaticResource** is determined at XAML load time / app startup and won't be re-evaluated at run-time.</span></span> <span data-ttu-id="bb7ca-124">(Es gibt andere Verfahren, z.B. visuelle Zustände, bei denen XAML dynamisch neu geladen wird. Diese Verfahren finden jedoch auf einer höheren Ebene als die grundlegende Ressourcenauswertung statt, die mit der [{StaticResource}-Markuperweiterung](staticresource-markup-extension.md) möglich ist.)</span><span class="sxs-lookup"><span data-stu-id="bb7ca-124">(There are other techniques such as visual states that reload XAML dynamically, but those techniques operate at a higher level that the basic resource evaluation enabled by [{StaticResource} markup extension](staticresource-markup-extension.md)).</span></span>

<span data-ttu-id="bb7ca-125">**ThemeResource** akzeptiert ein Argument, das den Schlüssel für die angeforderte Ressource angibt.</span><span class="sxs-lookup"><span data-stu-id="bb7ca-125">**ThemeResource** takes one argument, which specifies the key for the requested resource.</span></span> <span data-ttu-id="bb7ca-126">Ein Ressourcenschlüssel ist immer eine Zeichenfolge in der Windows-Runtime-XAML.</span><span class="sxs-lookup"><span data-stu-id="bb7ca-126">A resource key is always a string in Windows Runtime XAML.</span></span> <span data-ttu-id="bb7ca-127">Weitere Informationen zum anfänglichen Festlegen des Ressourcenschlüssels finden Sie unter [x:Key-Attribut](x-key-attribute.md).</span><span class="sxs-lookup"><span data-stu-id="bb7ca-127">For more info on how the resource key is initially specified, see [x:Key attribute](x-key-attribute.md).</span></span>

<span data-ttu-id="bb7ca-128">Weitere Informationen dazu, wie Sie Ressourcen und Eigenschaften mithilfe eines [**ResourceDictionary**](https://msdn.microsoft.com/library/windows/apps/br208794) definieren, und zusätzlichen Beispielcode finden Sie unter [ResourceDictionary- und XAML-Ressourcenverweise](https://msdn.microsoft.com/library/windows/apps/mt187273).</span><span class="sxs-lookup"><span data-stu-id="bb7ca-128">For more info on how to define resources and properly use a [**ResourceDictionary**](https://msdn.microsoft.com/library/windows/apps/br208794), including sample code, see [ResourceDictionary and XAML resource references](https://msdn.microsoft.com/library/windows/apps/mt187273).</span></span>

**<span data-ttu-id="bb7ca-129">Wichtig</span><span class="sxs-lookup"><span data-stu-id="bb7ca-129">Important</span></span>**  
<span data-ttu-id="bb7ca-130">Wie bei **StaticResource** auch darf eine **ThemeResource** nicht versuchen, einen Vorwärtsverweis auf eine Ressource auszuführen, die innerhalb der XAML-Datei weiter lexikalisch definiert ist.</span><span class="sxs-lookup"><span data-stu-id="bb7ca-130">As with **StaticResource**, a **ThemeResource** must not attempt to make a forward reference to a resource that is defined lexically further within the XAML file.</span></span> <span data-ttu-id="bb7ca-131">Dieser Versuch wird nicht unterstützt.</span><span class="sxs-lookup"><span data-stu-id="bb7ca-131">Attempting to do so is not supported.</span></span> <span data-ttu-id="bb7ca-132">Auch wenn der weitergeleitete Verweis keinen Fehler verursacht, wird durch den Versuch die Leistung beeinträchtigt.</span><span class="sxs-lookup"><span data-stu-id="bb7ca-132">Even if the forward reference doesn't fail, trying to make one carries a performance penalty.</span></span> <span data-ttu-id="bb7ca-133">Um optimale Ergebnisse zu erzielen, sollten Sie die Ressourcenwörterbücher so erstellen, dass Vorwärtsverweise vermieden werden können.</span><span class="sxs-lookup"><span data-stu-id="bb7ca-133">For best results, adjust the composition of your resource dictionaries so that forward references are avoided.</span></span>

<span data-ttu-id="bb7ca-134">Wenn Sie versuchen, eine **ThemeResource** für einen Schlüssel anzugeben, die nicht aufgelöst werden kann, führt dies zu einer XAML-Analyseausnahme zur Laufzeit.</span><span class="sxs-lookup"><span data-stu-id="bb7ca-134">Attempting to specify a **ThemeResource** to a key that cannot resolve throws a XAML parse exception at run time.</span></span> <span data-ttu-id="bb7ca-135">Entwicklungstools geben unter Umständen auch Warnungen oder Fehler aus.</span><span class="sxs-lookup"><span data-stu-id="bb7ca-135">Design tools may also offer warnings or errors.</span></span>

<span data-ttu-id="bb7ca-136">Die XAML-Prozessorimplementierung der Windows-Runtime enthält keine Sicherungsklassendarstellung für **ThemeResource**-Funktionen.</span><span class="sxs-lookup"><span data-stu-id="bb7ca-136">In the Windows Runtime XAML processor implementation, there is no backing class representation for **ThemeResource**.</span></span> <span data-ttu-id="bb7ca-137">Die weitestgehende Entsprechung im Code ist die Verwendung der Auflistungs-API eines [**ResourceDictionary**](https://msdn.microsoft.com/library/windows/apps/br208794), z.B. der Aufruf von [**Contains**](https://msdn.microsoft.com/library/windows/apps/jj635925) oder [**TryGetValue**](https://msdn.microsoft.com/library/windows/apps/jj603139).</span><span class="sxs-lookup"><span data-stu-id="bb7ca-137">The closest equivalent in code is to use the collection API of a [**ResourceDictionary**](https://msdn.microsoft.com/library/windows/apps/br208794), for example calling [**Contains**](https://msdn.microsoft.com/library/windows/apps/jj635925) or [**TryGetValue**](https://msdn.microsoft.com/library/windows/apps/jj603139).</span></span>

<span data-ttu-id="bb7ca-138">**ThemeResource** ist eine Markuperweiterung.</span><span class="sxs-lookup"><span data-stu-id="bb7ca-138">**ThemeResource** is a markup extension.</span></span> <span data-ttu-id="bb7ca-139">Markuperweiterungen werden in der Regel implementiert, wenn für Attributwerte Escapezeichen verwendet werden müssen, damit sie keine Literalwerte oder Handlernamen darstellen, und es nicht ausreicht, Typkonverter für bestimmte Typen oder Eigenschaften zu verwenden.</span><span class="sxs-lookup"><span data-stu-id="bb7ca-139">Markup extensions are typically implemented when there is a requirement to escape attribute values to be other than literal values or handler names, and the requirement is more global than just putting type converters on certain types or properties.</span></span> <span data-ttu-id="bb7ca-140">Alle Markuperweiterungen in XAML verwenden die Zeichen „{” und „}” in ihrer Attributsyntax. Anhand dieser Konvention erkennt ein XAML-Prozessor, dass eine Markuperweiterung das Attribut verarbeiten muss.</span><span class="sxs-lookup"><span data-stu-id="bb7ca-140">All markup extensions in XAML use the "{" and "}" characters in their attribute syntax, which is the convention by which a XAML processor recognizes that a markup extension must process the attribute.</span></span>

### <a name="when-and-how-to-use-themeresource-rather-than-staticresource"></a><span data-ttu-id="bb7ca-141">Zeitpunkt und Art der Verwendung von {ThemeResource} anstelle von {StaticResource}</span><span class="sxs-lookup"><span data-stu-id="bb7ca-141">When and how to use {ThemeResource} rather than {StaticResource}</span></span>

<span data-ttu-id="bb7ca-142">Die Regeln, nach denen die Auflösung einer **ThemeResource** zu einem Element in einem Ressourcenwörterbuch erfolgt, sind im Allgemeinen identisch mit den Regeln für **StaticResource**.</span><span class="sxs-lookup"><span data-stu-id="bb7ca-142">The rules by which a **ThemeResource** resolves to an item in a resource dictionary are generally the same as **StaticResource**.</span></span> <span data-ttu-id="bb7ca-143">Eine **ThemeResource**-Suche kann auf die [**ResourceDictionary**](https://msdn.microsoft.com/library/windows/apps/br208794)-Dateien erweitert werden, auf die in einer [**ThemeDictionaries**](https://msdn.microsoft.com/library/windows/apps/br208807)-Auflistung verwiesen wird, aber dies ist auch mit **StaticResource** möglich.</span><span class="sxs-lookup"><span data-stu-id="bb7ca-143">A **ThemeResource** lookup can extend into the [**ResourceDictionary**](https://msdn.microsoft.com/library/windows/apps/br208794) files that are referenced in a [**ThemeDictionaries**](https://msdn.microsoft.com/library/windows/apps/br208807) collection, but a **StaticResource** can do that also.</span></span> <span data-ttu-id="bb7ca-144">Der Unterschied besteht darin, dass eine **ThemeResource** zur Laufzeit neu ausgewertet werden kann, während dies für eine **StaticResource** nicht möglich ist.</span><span class="sxs-lookup"><span data-stu-id="bb7ca-144">The difference is that a **ThemeResource** can re-evaluate at run-time and a **StaticResource** can't.</span></span>

<span data-ttu-id="bb7ca-145">Vom Schlüsselsatz in den einzelnen Designverzeichnissen sollte jeweils unabhängig davon, welches Design aktiv ist, der gleiche Ressourcensatz mit Schlüsseln bereitgestellt werden.</span><span class="sxs-lookup"><span data-stu-id="bb7ca-145">The set of keys in each theme dictionary should provide the same set of keyed resources no matter which theme is active.</span></span> <span data-ttu-id="bb7ca-146">Wenn eine bestimmte Ressource mit Schlüssel im Designverzeichnis **HighContrast** vorhanden ist, sollte auch in **Light** und **Default** eine Ressource mit diesem Namen vorhanden sein.</span><span class="sxs-lookup"><span data-stu-id="bb7ca-146">If a given keyed resource exists in the **HighContrast** theme dictionary, then another resource with that name should also exist in **Light** and **Default**.</span></span> <span data-ttu-id="bb7ca-147">Anderenfalls tritt bei der Ressourcensuche ggf. ein Fehler auf, wenn Benutzer das Design wechseln. Die Darstellung der App ist dann fehlerhaft.</span><span class="sxs-lookup"><span data-stu-id="bb7ca-147">If that isn't true, resource lookup might fail when the user switches themes and your app won't look right.</span></span> <span data-ttu-id="bb7ca-148">Es ist jedoch möglich, dass ein Designverzeichnis Ressourcen mit Schlüssel enthält, auf die nur innerhalb desselben Bereichs verwiesen wird, um Unterwerte anzugeben. Diese müssen nicht in allen Designs gleich sein.</span><span class="sxs-lookup"><span data-stu-id="bb7ca-148">It is possible though that a theme dictionary can contain keyed resources that are only referenced from within the same scope to provide sub-values; these don't need to be equivalent in all themes.</span></span>

<span data-ttu-id="bb7ca-149">Generell sollten Sie Ressourcen nur dann in Designverzeichnissen anordnen und mithilfe von **ThemeResource** Verweise auf diese Ressourcen einrichten, wenn sich diese Werte von Design zu Design ändern können oder von sich ändernden Werten unterstützt werden.</span><span class="sxs-lookup"><span data-stu-id="bb7ca-149">In general you should place resources in theme dictionaries and make references to those resources using **ThemeResource** only when those values can change between themes or are supported by values that change.</span></span> <span data-ttu-id="bb7ca-150">Dies ist für die folgenden Arten von Ressourcen geeignet:</span><span class="sxs-lookup"><span data-stu-id="bb7ca-150">This is appropriate for these kinds of resources:</span></span>

-   <span data-ttu-id="bb7ca-151">Pinsel, vor allem Farben für [**SolidColorBrush**](https://msdn.microsoft.com/library/windows/apps/br242962).</span><span class="sxs-lookup"><span data-stu-id="bb7ca-151">Brushes, in particular colors for [**SolidColorBrush**](https://msdn.microsoft.com/library/windows/apps/br242962).</span></span> <span data-ttu-id="bb7ca-152">Diese Ressource macht ca. 80% der Nutzung von **ThemeResource** in den standardmäßigen XAML-Steuerelementvorlagen (generic.xaml) aus.</span><span class="sxs-lookup"><span data-stu-id="bb7ca-152">These make up about 80% of the **ThemeResource** usages in the default XAML control templates (generic.xaml).</span></span>
-   <span data-ttu-id="bb7ca-153">Pixelwerte für Rahmen, Versatz, Ränder und Abstände usw.</span><span class="sxs-lookup"><span data-stu-id="bb7ca-153">Pixel values for borders, offsets, margin and padding and so on.</span></span>
-   <span data-ttu-id="bb7ca-154">Schrifteigenschaften wie **FontFamily** oder **FontSize**</span><span class="sxs-lookup"><span data-stu-id="bb7ca-154">Font properties such as **FontFamily** or **FontSize**.</span></span>
-   <span data-ttu-id="bb7ca-155">Vollständige Vorlagen für eine begrenzte Anzahl von Steuerelementen, die normalerweise vom System vorgegeben sind und für die dynamische Darstellung verwendet werden, z.B. [**GridViewItem**](https://msdn.microsoft.com/library/windows/apps/hh738501) und [**ListViewItem**](https://msdn.microsoft.com/library/windows/apps/br242919)</span><span class="sxs-lookup"><span data-stu-id="bb7ca-155">Complete templates for a limited number of controls that are usually system-styled and used for dynamic presentation, like [**GridViewItem**](https://msdn.microsoft.com/library/windows/apps/hh738501) and [**ListViewItem**](https://msdn.microsoft.com/library/windows/apps/br242919).</span></span>
-   <span data-ttu-id="bb7ca-156">Textanzeigeformate (etwa zum Ändern von Schriftfarbe, Hintergrund und ggf. der Größe)</span><span class="sxs-lookup"><span data-stu-id="bb7ca-156">Text display styles (usually to change font color, background, and possibly size).</span></span>

<span data-ttu-id="bb7ca-157">Die Windows-Runtime stellt einen Satz von Ressourcen bereit, die ausdrücklich für Verweise über **ThemeResource** gedacht sind.</span><span class="sxs-lookup"><span data-stu-id="bb7ca-157">The Windows Runtime provides a set of resources that are specifically intended to be referenced by **ThemeResource**.</span></span> <span data-ttu-id="bb7ca-158">Alle diese Ressourcen werden in der XAML-Datei „themeresources.xaml” aufgelistet, die als Bestandteil des Windows Software Development Kit (SDK) im Ordner „include/winrt/xaml/design” verfügbar ist.</span><span class="sxs-lookup"><span data-stu-id="bb7ca-158">These are all listed as part of the XAML file themeresources.xaml, which is available in the include/winrt/xaml/design folder as part of the Windows Software Development Kit (SDK).</span></span> <span data-ttu-id="bb7ca-159">Eine Dokumentation zu den Designpinseln und zusätzliche Stile, die in „themeresources.xaml” definiert sind, finden Sie unter [XAML-Designressourcenverweise](https://msdn.microsoft.com/library/windows/apps/mt187274).</span><span class="sxs-lookup"><span data-stu-id="bb7ca-159">For documentation on the theme brushes and additional styles that are defined in themeresources.xaml, see [XAML theme resources](https://msdn.microsoft.com/library/windows/apps/mt187274).</span></span> <span data-ttu-id="bb7ca-160">Die Pinsel sind in einer Tabelle dokumentiert, der Sie den Farbwert eines Pinsels für jedes der drei möglichen aktiven Designs entnehmen können.</span><span class="sxs-lookup"><span data-stu-id="bb7ca-160">The brushes are documented in a table that tells you what color value each brush has for each of the three possible active themes.</span></span>

<span data-ttu-id="bb7ca-161">Für die XAML-Definitionen von Ansichtszuständen in einer Steuerelementvorlage sollten immer **ThemeResource**-Verweise verwendet werden, wenn eine zugrunde liegende Ressource vorhanden ist, die sich aufgrund einer Designänderung ändern kann.</span><span class="sxs-lookup"><span data-stu-id="bb7ca-161">The XAML definitions of visual states in a control template should use **ThemeResource** references whenever there's an underlying resource that might change because of a theme change.</span></span> <span data-ttu-id="bb7ca-162">Eine Systemdesignänderung führt normalerweise nicht gleichzeitig auch zu einer Änderung des Ansichtszustands.</span><span class="sxs-lookup"><span data-stu-id="bb7ca-162">A system theme change won't typically also cause a visual state change.</span></span> <span data-ttu-id="bb7ca-163">In diesem Fall müssen für die Ressourcen **ThemeResource**-Verweise verwendet werden, damit Werte für den weiterhin aktiven Ansichtszustand neu ausgewertet werden können.</span><span class="sxs-lookup"><span data-stu-id="bb7ca-163">The resources need to use **ThemeResource** references in this case so that values can be re-evaluated for the still-active visual state.</span></span> <span data-ttu-id="bb7ca-164">Falls Sie beispielsweise über einen Ansichtszustand verfügen, mit dem eine Pinselfarbe eines bestimmten Teils der UI und eine der dazugehörigen Eigenschaften geändert wird, und diese Pinselfarbe jeweils von Design zu Design unterschiedlich ist, sollten Sie einen **ThemeResource**-Verweis verwenden. Damit stellen Sie den Wert dieser Eigenschaft in der Standardvorlage und außerdem alle Änderungen des Ansichtszustands für diese Standardvorlage bereit.</span><span class="sxs-lookup"><span data-stu-id="bb7ca-164">For example, if you have a visual state that changes a brush color of a particular UI part and one of its properties, and that brush color is different per-theme, you should use a **ThemeResource** reference for providing that property's value in the default template and also any visual state modification to that default template.</span></span>

<span data-ttu-id="bb7ca-165">Die Verwendung von **ThemeResource** kann als eine Reihe abhängiger Werte verstanden werden.</span><span class="sxs-lookup"><span data-stu-id="bb7ca-165">**ThemeResource** usages might be seen in a series of dependent values.</span></span> <span data-ttu-id="bb7ca-166">Beispielsweise kann für einen [**Color**](https://msdn.microsoft.com/library/windows/apps/hh673723)-Wert, der von einem [**SolidColorBrush**](https://msdn.microsoft.com/library/windows/apps/br242962)-Element verwendet wird, bei dem es sich außerdem um eine Ressource mit Schlüssel handelt, ein **ThemeResource**-Verweis verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="bb7ca-166">For example, a [**Color**](https://msdn.microsoft.com/library/windows/apps/hh673723) value used by a [**SolidColorBrush**](https://msdn.microsoft.com/library/windows/apps/br242962) that is also a keyed resource might use a **ThemeResource** reference.</span></span> <span data-ttu-id="bb7ca-167">Für alle UI-Eigenschaften, von denen die **SolidColorBrush**-Ressource mit Schlüssel verwendet wird, würde jedoch auch ein **ThemeResource**-Verweis verwendet werden. Eine dynamische Änderung des Werts bei einer Designänderung wird also jeweils speziell von den Eigenschaften vom Typ [**Brush**](https://msdn.microsoft.com/library/windows/apps/br228076) ermöglicht.</span><span class="sxs-lookup"><span data-stu-id="bb7ca-167">But any UI properties that use the keyed **SolidColorBrush** resource would also use a **ThemeResource** reference, so that it's specifically each [**Brush**](https://msdn.microsoft.com/library/windows/apps/br228076)-type property that's enabling a dynamic value change when the theme changes.</span></span>

<span data-ttu-id="bb7ca-168">**Hinweis**  Die Auswertung von `{ThemeResource}` und Laufzeitressourcen beim Wechseln von Designs wird in Windows 8.1-XAML-Code unterstützt, jedoch nicht in XAML-Code für Apps, die für Windows 8 bestimmt sind.</span><span class="sxs-lookup"><span data-stu-id="bb7ca-168">**Note**  `{ThemeResource}` and run-time resource evaluation on theme switching is supported in Windows 8.1 XAML but not supported in XAML for apps targeting Windows 8.</span></span>

### <a name="system-resources"></a><span data-ttu-id="bb7ca-169">Systemressourcen</span><span class="sxs-lookup"><span data-stu-id="bb7ca-169">System resources</span></span>

<span data-ttu-id="bb7ca-170">Von einigen Designressourcen wird auf Systemressourcenwerte als zugrunde liegender Unterwert verwiesen.</span><span class="sxs-lookup"><span data-stu-id="bb7ca-170">Some theme resources reference system resource values as an underlying sub-value.</span></span> <span data-ttu-id="bb7ca-171">Eine Systemressource ist eine spezieller Ressourcenwert, der in keinem XAML-Ressourcenverzeichnis zu finden ist.</span><span class="sxs-lookup"><span data-stu-id="bb7ca-171">A system resource is a special resource value that isn't found in any XAML resource dictionary.</span></span> <span data-ttu-id="bb7ca-172">Diese Werte sind vom Verhalten in der XAML-Unterstützung der Windows-Runtime abhängig, um Werte aus dem System selbst weiterzuleiten und in einer Form darzustellen, auf die von einer XAML-Ressource verwiesen werden kann.</span><span class="sxs-lookup"><span data-stu-id="bb7ca-172">These values rely on behavior in Windows Runtime XAML support to forward values from the system itself, and represent them in a form that a XAML resource can reference.</span></span> <span data-ttu-id="bb7ca-173">Beispielsweise gibt es eine Systemressource mit dem Namen „SystemColorButtonFaceColor”, die eine RGB-Farbe darstellt.</span><span class="sxs-lookup"><span data-stu-id="bb7ca-173">For example, there is a system resource named "SystemColorButtonFaceColor" that represents an RGB color.</span></span> <span data-ttu-id="bb7ca-174">Diese Farbe stammt von den Aspekten der Systemfarben und -designs, die nicht nur speziell für die Windows-Runtime und Windows-Runtime-Apps gelten.</span><span class="sxs-lookup"><span data-stu-id="bb7ca-174">This color comes from the aspects of system colors and themes that aren't just specific to Windows Runtime and Windows Runtime apps.</span></span>

<span data-ttu-id="bb7ca-175">Systemressourcen sind häufig die zugrunde liegenden Werte für ein Design mit hohem Kontrast.</span><span class="sxs-lookup"><span data-stu-id="bb7ca-175">System resources are often the underlying values for a high-contrast theme.</span></span> <span data-ttu-id="bb7ca-176">Benutzer können die Farbauswahl für ihr Design mit hohem Kontrast steuern und die Auswahl mithilfe von Systemfeatures treffen, die ebenfalls nicht ausschließlich für Windows-Runtime-Apps gelten.</span><span class="sxs-lookup"><span data-stu-id="bb7ca-176">The user is in control of the color choices for their high-contrast theme, and the user makes these choices using system features that also aren't specific to Windows Runtime apps.</span></span> <span data-ttu-id="bb7ca-177">Indem auf die Systemressourcen in Form von **ThemeResource**-Verweisen verwiesen wird, können vom Standardverhalten der Designs mit hohem Kontrast für Windows-Runtime-Apps diese designspezifischen Werte verwendet werden, die vom Benutzer gesteuert und vom System verfügbar gemacht werden.</span><span class="sxs-lookup"><span data-stu-id="bb7ca-177">By referencing the system resources as **ThemeResource** references, the default behavior of the high-contrast themes for Windows Runtime apps can use these theme-specific values that are controlled by the user and exposed by the system.</span></span> <span data-ttu-id="bb7ca-178">Außerdem sind die Verweise dann für die Neuauswertung gekennzeichnet, wenn vom System während der Laufzeit eine Designänderung erkannt wird.</span><span class="sxs-lookup"><span data-stu-id="bb7ca-178">Also, the references are now marked for re-evaluation if the system detects a run-time theme change.</span></span>

### <a name="an-example-themeresource-usage"></a><span data-ttu-id="bb7ca-179">{ThemeResource}-Beispielverwendung</span><span class="sxs-lookup"><span data-stu-id="bb7ca-179">An example {ThemeResource} usage</span></span>

<span data-ttu-id="bb7ca-180">Unten ist XAML-Beispielcode aus den Standarddateien „generic.xaml” und „themeresources.xaml” angegeben, um die Verwendung von **ThemeResource** zu veranschaulichen.</span><span class="sxs-lookup"><span data-stu-id="bb7ca-180">Here's some example XAML taken from the default generic.xaml and themeresources.xaml files to illustrate how to use **ThemeResource**.</span></span> <span data-ttu-id="bb7ca-181">Wir sehen uns nur eine Vorlage ([**Button**](https://msdn.microsoft.com/library/windows/apps/br209265))-Standardvorlage) und die Deklaration von zwei Eigenschaften ([**Background**](https://msdn.microsoft.com/library/windows/apps/br209395) und [**Foreground**](https://msdn.microsoft.com/library/windows/apps/br209414)) als Reaktion auf Designänderungen an.</span><span class="sxs-lookup"><span data-stu-id="bb7ca-181">We'll look at just one template (the default [**Button**](https://msdn.microsoft.com/library/windows/apps/br209265)) and how two properties are declared ([**Background**](https://msdn.microsoft.com/library/windows/apps/br209395) and [**Foreground**](https://msdn.microsoft.com/library/windows/apps/br209414)) to be responsive to theme changes.</span></span>

```xml
    <!-- Default style for Windows.UI.Xaml.Controls.Button -->
    <Style TargetType="Button">
        <Setter Property="Background" Value="{ThemeResource ButtonBackgroundThemeBrush}" />
        <Setter Property="Foreground" Value="{ThemeResource ButtonForegroundThemeBrush}"/>
...
```

<span data-ttu-id="bb7ca-182">Für die Eigenschaften wird hier ein [**Brush**](https://msdn.microsoft.com/library/windows/apps/br228076)-Wert verwendet, und der Verweis auf die [**SolidColorBrush**](https://msdn.microsoft.com/library/windows/apps/br242962)-Ressourcen `ButtonBackgroundThemeBrush` und `ButtonForegroundThemeBrush` wird mithilfe von **ThemeResource** durchgeführt.</span><span class="sxs-lookup"><span data-stu-id="bb7ca-182">Here, the properties take a [**Brush**](https://msdn.microsoft.com/library/windows/apps/br228076) value, and the reference to [**SolidColorBrush**](https://msdn.microsoft.com/library/windows/apps/br242962) resources named `ButtonBackgroundThemeBrush` and `ButtonForegroundThemeBrush` are made using **ThemeResource**.</span></span>

<span data-ttu-id="bb7ca-183">Diese Eigenschaften werden auch von einigen Ansichtszuständen für ein [**Button**](https://msdn.microsoft.com/library/windows/apps/br209265)-Element angepasst.</span><span class="sxs-lookup"><span data-stu-id="bb7ca-183">These same properties are also adjusted by some of the visual states for a [**Button**](https://msdn.microsoft.com/library/windows/apps/br209265).</span></span> <span data-ttu-id="bb7ca-184">Beispielsweise ändert sich die Hintergrundfarbe, wenn Benutzer auf eine Schaltfläche klicken.</span><span class="sxs-lookup"><span data-stu-id="bb7ca-184">Notably, the background color changes when a button is clicked.</span></span> <span data-ttu-id="bb7ca-185">Auch hier werden von den Animationen [**Background**](https://msdn.microsoft.com/library/windows/apps/br209395) und [**Foreground**](https://msdn.microsoft.com/library/windows/apps/br209414) im Storyboard des Ansichtszustands [**DiscreteObjectKeyFrame**](https://msdn.microsoft.com/library/windows/apps/br243132)-Objekte und Verweise auf Pinsel mit **ThemeResource** als Keyframewert verwendet.</span><span class="sxs-lookup"><span data-stu-id="bb7ca-185">Here too, the [**Background**](https://msdn.microsoft.com/library/windows/apps/br209395) and [**Foreground**](https://msdn.microsoft.com/library/windows/apps/br209414) animations in the visual state storyboard use [**DiscreteObjectKeyFrame**](https://msdn.microsoft.com/library/windows/apps/br243132) objects and references to brushes with **ThemeResource** as the key frame value.</span></span>

```xml
<VisualState x:Name="Pressed">
  <Storyboard>
    <ObjectAnimationUsingKeyFrames Storyboard.TargetName="Border"
        Storyboard.TargetProperty="Background">
      <DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource ButtonPressedBackgroundThemeBrush}" />
    </ObjectAnimationUsingKeyFrames>
    <ObjectAnimationUsingKeyFrames Storyboard.TargetName="ContentPresenter"
         Storyboard.TargetProperty="Foreground">
       <DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource ButtonPressedForegroundThemeBrush}" />
    </ObjectAnimationUsingKeyFrames>
  </Storyboard>
</VisualState>
```

<span data-ttu-id="bb7ca-186">Jeder dieser Pinsel wurde bereits in „generic.xaml” definiert: Die Definition musste durchgeführt werden, bevor diese von Vorlagen genutzt wurden, um XAML-Vorwärtsverweise zu vermeiden.</span><span class="sxs-lookup"><span data-stu-id="bb7ca-186">Each of these brushes is defined earlier in generic.xaml: they had to be defined prior to any templates using them to avoid XAML forward references.</span></span> <span data-ttu-id="bb7ca-187">Unten sind diese Definitionen für das Designverzeichnis „Default” aufgeführt.</span><span class="sxs-lookup"><span data-stu-id="bb7ca-187">Here's those definitions, for the "Default" theme dictionary.</span></span>

```xml
    <ResourceDictionary.ThemeDictionaries>
        <ResourceDictionary x:Key="Default">
... 
            <SolidColorBrush x:Key="ButtonBackgroundThemeBrush" Color="Transparent" />
            <SolidColorBrush x:Key="ButtonForegroundThemeBrush" Color="#FFFFFFFF" />
...
            <SolidColorBrush x:Key="ButtonPressedBackgroundThemeBrush" Color="#FFFFFFFF" />
            <SolidColorBrush x:Key="ButtonPressedForegroundThemeBrush" Color="#FF000000" />
...
```

<span data-ttu-id="bb7ca-188">In allen anderen Designverzeichnissen sind diese Pinsel ebenfalls definiert, z.B.:</span><span class="sxs-lookup"><span data-stu-id="bb7ca-188">Then each of the other theme dictionaries also has these brushes defined, for example:</span></span>

```xml
        <ResourceDictionary x:Key="HighContrast">
            <!-- High Contrast theme resources -->
...
            <SolidColorBrush x:Key="ButtonBackgroundThemeBrush" Color="{ThemeResource SystemColorButtonFaceColor}" />
            <SolidColorBrush x:Key="ButtonForegroundThemeBrush" Color="{ThemeResource SystemColorButtonTextColor}" />

...
            <SolidColorBrush x:Key="ButtonPressedBackgroundThemeBrush" Color="{ThemeResource SystemColorButtonTextColor}" />
            <SolidColorBrush x:Key="ButtonPressedForegroundThemeBrush" Color="{ThemeResource SystemColorButtonFaceColor}" />
```

<span data-ttu-id="bb7ca-189">Hier ist der [**Color**](https://msdn.microsoft.com/library/windows/apps/br242963) -Wert ein weiterer **ThemeResource**-Verweis auf eine Systemressource.</span><span class="sxs-lookup"><span data-stu-id="bb7ca-189">Here the [**Color**](https://msdn.microsoft.com/library/windows/apps/br242963) value is another **ThemeResource** reference to a system resource.</span></span> <span data-ttu-id="bb7ca-190">Wenn Sie auf eine Systemressource verweisen und diese als Reaktion auf eine Designänderung ändern möchten, sollten Sie zum Erstellen des Verweises das **ThemeResource**-Element verwenden.</span><span class="sxs-lookup"><span data-stu-id="bb7ca-190">If you reference a system resource, and you want it to change in response to a theme change, you should use **ThemeResource** to make the reference.</span></span>

## <a name="windows-8-behavior"></a><span data-ttu-id="bb7ca-191">Windows8-Verhaltensweise</span><span class="sxs-lookup"><span data-stu-id="bb7ca-191">Windows 8 behavior</span></span>

<span data-ttu-id="bb7ca-192">Unter Windows8 wurde die **ThemeResource**-Markuperweiterung nicht unterstützt. Sie ist ab Windows8.1 verfügbar.</span><span class="sxs-lookup"><span data-stu-id="bb7ca-192">Windows 8 did not support the **ThemeResource** markup extension, it is available starting with Windows 8.1.</span></span> <span data-ttu-id="bb7ca-193">Außerdem wurde unter Windows8 auch das dynamische Umschalten zwischen den designbezogenen Ressourcen für eine Windows-Runtime-App nicht unterstützt.</span><span class="sxs-lookup"><span data-stu-id="bb7ca-193">Also, Windows 8 did not support dynamically switching the theme-related resources for a Windows Runtime app.</span></span> <span data-ttu-id="bb7ca-194">Die App musste neu gestartet werden, damit die Designänderung für die XAML-Vorlagen und -Formate wirksam wurde.</span><span class="sxs-lookup"><span data-stu-id="bb7ca-194">The app had to be restarted in order to pick up the theme change for the XAML templates and styles.</span></span> <span data-ttu-id="bb7ca-195">Dieses Verhalten beeinträchtigt die Benutzerfreundlichkeit. Es wird daher dringend empfohlen, Apps neu zu kompilieren und auf Windows8.1 auszurichten, damit Formate mit Nutzung von **ThemeResource** verwendet werden können und dynamisch zwischen Designs gewechselt werden kann, wenn Benutzer dies wünschen.</span><span class="sxs-lookup"><span data-stu-id="bb7ca-195">This isn't a good user experience, so apps are strongly encouraged to recompile and target Windows 8.1 so that they can use styles with **ThemeResource** usages and can dynamically switch themes when the user does.</span></span> <span data-ttu-id="bb7ca-196">Apps, die für Windows8 kompiliert wurden, aber unter Windows8.1 ausgeführt werden, weisen weiterhin das Windows8-Verhalten auf.</span><span class="sxs-lookup"><span data-stu-id="bb7ca-196">Apps that were compiled for Windows 8 but running on Windows 8.1 continue to use the Windows 8 behavior.</span></span>

## <a name="design-time-tools-support-for-the-themeresource-markup-extension"></a><span data-ttu-id="bb7ca-197">Unterstützung von Entwurfszeittools für die **{ThemeResource}**-Markuperweiterung</span><span class="sxs-lookup"><span data-stu-id="bb7ca-197">Design-time tools support for the **{ThemeResource}** markup extension</span></span>

<span data-ttu-id="bb7ca-198">Microsoft Visual Studio2013 kann mögliche Schlüsselwerte in die MicrosoftIntelliSense-Dropdownelemente einbinden, wenn Sie die **{ThemeResource}**-Markuperweiterung auf einer XAML-Seite verwenden.</span><span class="sxs-lookup"><span data-stu-id="bb7ca-198">Microsoft Visual Studio 2013 can include possible key values in the Microsoft IntelliSense dropdowns when you use the **{ThemeResource}** markup extension in a XAML page.</span></span> <span data-ttu-id="bb7ca-199">Sobald Sie z.B. „{ThemeResource” eingeben, wird ein beliebiger Ressourcenschlüssel aus den [XAML-Designressourcen](https://msdn.microsoft.com/library/windows/apps/mt187274) angezeigt.</span><span class="sxs-lookup"><span data-stu-id="bb7ca-199">For example, as soon as you type "{ThemeResource", any of the resource keys from the [XAML theme resources](https://msdn.microsoft.com/library/windows/apps/mt187274) are displayed.</span></span>

<span data-ttu-id="bb7ca-200">Sobald ein Ressourcenschlüssel als Teil einer **{ThemeResource}**-Verwendung vorhanden ist, kann das Feature **Gehe zu Definition** (F12) diese Ressource auflösen und Ihnen die Datei „generic.xaml” für die Entwurfszeit anzeigen, in der die Designressource definiert ist.</span><span class="sxs-lookup"><span data-stu-id="bb7ca-200">Once a resource key exists as part of any **{ThemeResource}** usage, the **Go To Definition** (F12) feature can resolve that resource and show you the generic.xaml for design time, where the theme resource is defined.</span></span> <span data-ttu-id="bb7ca-201">Da Designressourcen öfter definiert werden (eine pro Design), leitet **Gehe zu Definition** Sie zu der ersten Definition weiter, die in der Datei gefunden wird; dabei handelt es sich um die Definition für **Default**.</span><span class="sxs-lookup"><span data-stu-id="bb7ca-201">Because theme resources are defined more than once (per-theme) **Go To Definition** takes you to the first definition found in the file, which is the definition for **Default**.</span></span> <span data-ttu-id="bb7ca-202">Sollten Sie die anderen Definitionen benötigen, können Sie innerhalb der Datei anhand des Schlüsselnamens nach den Definitionen der anderen Designs suchen.</span><span class="sxs-lookup"><span data-stu-id="bb7ca-202">If you want the other definitions you can search for the key name within the file and find the other themes' definitions.</span></span>

## <a name="related-topics"></a><span data-ttu-id="bb7ca-203">Verwandte Themen</span><span class="sxs-lookup"><span data-stu-id="bb7ca-203">Related topics</span></span>

* [<span data-ttu-id="bb7ca-204">ResourceDictionary- und XAML-Ressourcenreferenzen</span><span class="sxs-lookup"><span data-stu-id="bb7ca-204">ResourceDictionary and XAML resource references</span></span>](https://msdn.microsoft.com/library/windows/apps/mt187273)
* [<span data-ttu-id="bb7ca-205">XAML-Designressourcen</span><span class="sxs-lookup"><span data-stu-id="bb7ca-205">XAML theme resources</span></span>](https://msdn.microsoft.com/library/windows/apps/mt187274)
* [**<span data-ttu-id="bb7ca-206">Ressourcenwörterbuch</span><span class="sxs-lookup"><span data-stu-id="bb7ca-206">ResourceDictionary</span></span>**](https://msdn.microsoft.com/library/windows/apps/br208794)
* [<span data-ttu-id="bb7ca-207">x:Key-Attribut</span><span class="sxs-lookup"><span data-stu-id="bb7ca-207">x:Key attribute</span></span>](x-key-attribute.md)
 

