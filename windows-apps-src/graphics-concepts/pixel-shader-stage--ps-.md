---
title: Pixelshaderphase (PS)
description: Die Pixelshaderphase (PS) empfängt interpolierte Daten für einen Grundtyp und generiert Pro-Pixel-Daten (z.B. die Farbe).
ms.assetid: 0AEBFDFB-0AD8-4633-AE4E-A44004B57745
keywords:
- Pixelshaderphase (PS)
ms.date: 02/08/2017
ms.topic: article
ms.localizationpriority: medium
ms.openlocfilehash: e1f7e787f2ee80a3168d38a9afd9a249dc0e6de0
ms.sourcegitcommit: d2517e522cacc5240f7dffd5bc1eaa278e3f7768
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 11/30/2018
ms.locfileid: "8329170"
---
# <a name="pixel-shader-ps-stage"></a><span data-ttu-id="31b55-104">Pixelshaderphase (PS)</span><span class="sxs-lookup"><span data-stu-id="31b55-104">Pixel Shader (PS) stage</span></span>


<span data-ttu-id="31b55-105">Die Pixelshaderphase (PS) empfängt interpolierte Daten für einen Grundtyp und generiert Pro-Pixel-Daten (z.B. die Farbe).</span><span class="sxs-lookup"><span data-stu-id="31b55-105">The Pixel Shader (PS) stage receives interpolated data for a primitive, and generates per-pixel data such as color.</span></span>

<span data-ttu-id="31b55-106">Hierbei handelt es sich um eine programmierbare Shaderphase. Sie wird als abgerundeter Block im Diagramm [-Grafikpipeline](graphics-pipeline.md) angezeigt.</span><span class="sxs-lookup"><span data-stu-id="31b55-106">This is a programmable shader stage; it is shown as a rounded block in the [graphics pipeline](graphics-pipeline.md) diagram.</span></span> <span data-ttu-id="31b55-107">Diese Shaderphase bietet eigene eindeutige Funktionen, die auf dem Shadermodell 4.0 [gemeinsamer Shaderkern](https://msdn.microsoft.com/library/windows/desktop/bb509580) basieren.</span><span class="sxs-lookup"><span data-stu-id="31b55-107">This shader stage exposes its own unique functionality, built on the shader model 4.0 [common-shader core](https://msdn.microsoft.com/library/windows/desktop/bb509580).</span></span>

<span data-ttu-id="31b55-108">Die Pixelshaderphase (PS) aktiviert umfassende Schattierungstechniken wie z.B. Beleuchtung pro Pixel und Nachbearbeitung.</span><span class="sxs-lookup"><span data-stu-id="31b55-108">The Pixel Shader (PS) stage enables rich shading techniques such as per-pixel lighting and post-processing.</span></span> <span data-ttu-id="31b55-109">Ein Pixelshader ist ein Programm, das Konstantenvariablen, Texturdaten, interpolierte Vertex-Werte und andere Daten für Pro-Pixel-Ausgaben kombiniert.</span><span class="sxs-lookup"><span data-stu-id="31b55-109">A pixel shader is a program that combines constant variables, texture data, interpolated per-vertex values, and other data to produce per-pixel outputs.</span></span> <span data-ttu-id="31b55-110">Die [Rasterizerphase (RS)](rasterizer-stage--rs-.md) ruft für jeden von einem Grundtyp abgedeckten Pixel einen Pixelshader auf, es ist jedoch möglich, einen **NULL**-Shader anzugeben, um zu vermeiden, dass ein Shader ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="31b55-110">The [Rasterizer (RS) stage](rasterizer-stage--rs-.md) invokes a pixel shader once for each pixel covered by a primitive, however, it is possible to specify a **NULL** shader to avoid running a shader.</span></span>

<span data-ttu-id="31b55-111">Wenn ein Multisampling für eine Textur durchgeführt wird, wird pro abgedecktem Pixel ein Pixelshader aufgerufen, während für jedes abgedeckte Multisample ein Tiefen- und Schablonentest ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="31b55-111">When multisampling a texture, a pixel shader is invoked once per-covered pixel while a depth/stencil test occurs for each covered multisample.</span></span> <span data-ttu-id="31b55-112">Beispiele, die den Tiefen- und Schablonentest bereits bestanden haben, werden mit der Pixelshader-Ausgabefarbe aktualisiert.</span><span class="sxs-lookup"><span data-stu-id="31b55-112">Samples that pass the depth/stencil test are updated with the pixel shader output color.</span></span>

<span data-ttu-id="31b55-113">Die Pixelshader innewohnenden Funktionen erstellen oder verwenden unter Berücksichtigung von Bildschirmbereich x und y Mengenableitungen.</span><span class="sxs-lookup"><span data-stu-id="31b55-113">The pixel shader intrinsic functions produce or use derivatives of quantities with respect to screen space x and y.</span></span> <span data-ttu-id="31b55-114">Die Ableitungen werden am häufigsten zur Detaillierungsgrad-Berechnung für das Textursampling und bei der anisotropischen Filterung verwendet, wobei Beispiels entlang der Achse der Probe gesammelt werden.</span><span class="sxs-lookup"><span data-stu-id="31b55-114">The most common use for derivatives is to compute level-of-detail calculations for texture sampling and in the case of anisotropic filtering, selecting samples along the axis of anisotropy.</span></span> <span data-ttu-id="31b55-115">In der Regel führt eine Hardware-Implementierung einen Pixelshader auf mehreren Pixel (z.B. 2 x 2-Raster) gleichzeitig aus, damit die im Pixelshader berechneten Mengenableitungen entsprechend als Deltas der Werte am selben Ausführungspunkt in benachbarten Pixeln angenähert werden können.</span><span class="sxs-lookup"><span data-stu-id="31b55-115">Typically, a hardware implementation runs a pixel shader on multiple pixels (for example a 2x2 grid) simultaneously, so that derivatives of quantities computed in the pixel shader can be reasonably approximated as deltas of the values at the same point of execution in adjacent pixels.</span></span>

## <a name="span-idinputsspanspan-idinputsspanspan-idinputsspaninputs"></a><span data-ttu-id="31b55-116"><span id="Inputs"></span><span id="inputs"></span><span id="INPUTS"></span>Eingaben</span><span class="sxs-lookup"><span data-stu-id="31b55-116"><span id="Inputs"></span><span id="inputs"></span><span id="INPUTS"></span>Inputs</span></span>


<span data-ttu-id="31b55-117">Wenn die Pipeline ohne einen Geometrieshader konfiguriert wurde, ist ein Pixelshader auf 16 4-Komponenten-Eingaben mit 32 Bit beschränkt.</span><span class="sxs-lookup"><span data-stu-id="31b55-117">When the pipeline is configured without a geometry shader, a pixel shader is limited to 16, 32-bit, 4-component inputs.</span></span> <span data-ttu-id="31b55-118">Andernfalls kann ein Pixel-Shader bis zu 32 Eingaben mit je 32 Bits und 4 Komponente verarbeiten.</span><span class="sxs-lookup"><span data-stu-id="31b55-118">Otherwise, a pixel shader can take up to 32, 32-bit, 4-component inputs.</span></span>

<span data-ttu-id="31b55-119">Zu den Eingabedaten für den Pixel-Shader gehören Vertexattribute, die mit oder ohne perspektivische Korrekturen interpoliert werden können oder als Konstanten pro Grundform behandelt werden können.</span><span class="sxs-lookup"><span data-stu-id="31b55-119">Pixel shader input data includes vertex attributes (that can be interpolated with or without perspective correction) or can be treated as per-primitive constants.</span></span> <span data-ttu-id="31b55-120">Pixel-Shader-Eingaben werden anhand der Vertexattribute der zu rasternden Grundform interpoliert, basierend auf dem deklarierten Interpolationsmodus.</span><span class="sxs-lookup"><span data-stu-id="31b55-120">Pixel shader inputs are interpolated from the vertex attributes of the primitive being rasterized, based on the interpolation mode declared.</span></span> <span data-ttu-id="31b55-121">Wenn ein Grundtyp vor der Rasterung abgeschnitten wird, wird der Interpolationsmodus auch während des Zuschneidevorgangs berücksichtigt.</span><span class="sxs-lookup"><span data-stu-id="31b55-121">If a primitive gets clipped before rasterization, the interpolation mode is honored during the clipping process as well.</span></span>

<span data-ttu-id="31b55-122">Vertexattribute werden an Pixelshader-Rechenzentrumsstandort interpoliert (oder ausgewertet).</span><span class="sxs-lookup"><span data-stu-id="31b55-122">Vertex attributes are interpolated (or evaluated) at pixel shader center locations.</span></span> <span data-ttu-id="31b55-123">Die Interpolationsmodi des Pixeshader-Attributs werden in einer Eingabe-Registererklärungregister pro Element in einem [Argument](https://msdn.microsoft.com/library/windows/desktop/bb509606) oder einer [Eingabestruktur](https://msdn.microsoft.com/library/windows/desktop/bb509668) deklariert.</span><span class="sxs-lookup"><span data-stu-id="31b55-123">Pixel shader attribute interpolation modes are declared in an input register declaration, on a per-element basis in either an [argument](https://msdn.microsoft.com/library/windows/desktop/bb509606) or an [input structure](https://msdn.microsoft.com/library/windows/desktop/bb509668).</span></span> <span data-ttu-id="31b55-124">Attribute können linear werden oder mit Schwerpunkt-Sampling interpoliert werden.</span><span class="sxs-lookup"><span data-stu-id="31b55-124">Attributes can be interpolated linearly, or with centroid sampling.</span></span> <span data-ttu-id="31b55-125">Weitere Informationen finden Sie im Abschnitt "Schwerpunkt-Sampling von Attributen beim Multisample-Antialiasing" [Regeln für die Rasterung](rasterization-rules.md).</span><span class="sxs-lookup"><span data-stu-id="31b55-125">See the section "Centroid Sampling of Attributes when Multisample Antialiasing" in [Rasterization rules](rasterization-rules.md).</span></span> <span data-ttu-id="31b55-126">Die Bewertung des Schwerpunkts ist nur während des Multisampling relevant, um Fälle abzudecken, in denen zwar ein Pixel, aber nicht die Pixelmitte von einem Grundtyp abgedeckt wird. Die Bewertung des Schwerpunktes erfolgt so nah wie möglich an der (nicht abgedeckten) Pixelmitte.</span><span class="sxs-lookup"><span data-stu-id="31b55-126">Centroid evaluation is relevant only during multisampling to cover cases where a pixel is covered by a primitive but a pixel center may not be; centroid evaluation occurs as close as possible to the (non-covered) pixel center.</span></span>

<span data-ttu-id="31b55-127">Eingaben können auch mit einer [-Systemwertsemantik](https://msdn.microsoft.com/library/windows/desktop/bb509647) deklariert werden, die einen Parameter kennzeichnet, der von anderen Pipelinephasen genutzt wird.</span><span class="sxs-lookup"><span data-stu-id="31b55-127">Inputs may also be declared with a [system-value semantic](https://msdn.microsoft.com/library/windows/desktop/bb509647), which marks a parameter that is consumed by other pipeline stages.</span></span> <span data-ttu-id="31b55-128">Beispielsweise sollte eine Pixelposition mit der SV\_Position-Semantik gekennzeichnet werden.</span><span class="sxs-lookup"><span data-stu-id="31b55-128">For instance, a pixel position should be marked with the SV\_Position semantic.</span></span> <span data-ttu-id="31b55-129">Die [Eingabeassemblerphase (IA)](input-assembler-stage--ia-.md) kann (mit von SV\_PrimitiveID) einen skalaren Wert für einen Pixelshader generieren; die [Rasterizerphase (RS)](rasterizer-stage--rs-.md) kann (mit SV\_IsFrontFace) auch einen skalaren Wert für einen Pixelshader generieren.</span><span class="sxs-lookup"><span data-stu-id="31b55-129">The [Input Assembler (IA) stage](input-assembler-stage--ia-.md) can produce one scalar for a pixel shader (using SV\_PrimitiveID); the [Rasterizer (RS) stage](rasterizer-stage--rs-.md) can also generate one scalar for a pixel shader (using SV\_IsFrontFace).</span></span>

## <a name="span-idoutputsspanspan-idoutputsspanspan-idoutputsspanoutputs"></a><span data-ttu-id="31b55-130"><span id="Outputs"></span><span id="outputs"></span><span id="OUTPUTS"></span>Ausgaben</span><span class="sxs-lookup"><span data-stu-id="31b55-130"><span id="Outputs"></span><span id="outputs"></span><span id="OUTPUTS"></span>Outputs</span></span>


<span data-ttu-id="31b55-131">Ein Pixelshader kann bis zu 8 4-Komponenten-Farben mit 32 Bit oder keine Farbe ausgeben, wenn das Pixel gelöscht wird.</span><span class="sxs-lookup"><span data-stu-id="31b55-131">A pixel shader can output up to 8, 32-bit, 4-component colors, or no color if the pixel is discarded.</span></span> <span data-ttu-id="31b55-132">Registrierkomponenten der Pixelshader-Ausgabe müssen deklariert werden, bevor sie verwendet werden können; für jedes Register ist eine unterschiedliche Ausgabe-Schreibmaske zulässig.</span><span class="sxs-lookup"><span data-stu-id="31b55-132">Pixel shader output register components must be declared before they can be used; each register is allowed a distinct output-write mask.</span></span>

<span data-ttu-id="31b55-133">Steuern Sie mit dem Zustand Tiefenschreibzugriff aktivieren (in der [Ausgabezusammenführungsphase](output-merger-stage--om-.md)), ob Tiefendaten in einen Tiefenpuffer geschrieben werden (oder verwenden Sie die Verwerfen-Anweisung, um Daten für das Pixel zu verwerfen).</span><span class="sxs-lookup"><span data-stu-id="31b55-133">Use the depth-write-enable state (in the [Output Merger (OM) stage](output-merger-stage--om-.md)) to control whether depth data gets written to a depth buffer (or use the discard instruction to discard data for that pixel).</span></span> <span data-ttu-id="31b55-134">Ein Pixelshader kann auch einen optionalen Gleitkomma-Tiefenwert mit einer Komponente und 32 Bit für den Tiefentest (mit der SV\_Depth-Semantik) ausgeben.</span><span class="sxs-lookup"><span data-stu-id="31b55-134">A pixel shader can also output an optional 32-bit, 1-component, floating-point, depth value for depth testing (using the SV\_Depth semantic).</span></span> <span data-ttu-id="31b55-135">Der Tiefenwert wird im oDepth-Register ausgegeben und ersetzt den interpolierten Tiefenwert für den Tiefentest (sofern Tiefentest aktiviert ist).</span><span class="sxs-lookup"><span data-stu-id="31b55-135">The depth value is output in the oDepth register, and replaces the interpolated depth value for depth testing (assuming depth testing is enabled).</span></span> <span data-ttu-id="31b55-136">Es gibt keine Möglichkeit, dynamisch zwischen der Verwendung der Tiefe mit fester Funktion oder oDepth-Shader zu wechseln.</span><span class="sxs-lookup"><span data-stu-id="31b55-136">There is no way to dynamically change between using fixed-function depth or shader oDepth.</span></span>

<span data-ttu-id="31b55-137">Ein Pixelshader kann keinen Schablonenwert ausgeben.</span><span class="sxs-lookup"><span data-stu-id="31b55-137">A pixel shader cannot output a stencil value.</span></span>

## <a name="span-idrelated-topicsspanrelated-topics"></a><span data-ttu-id="31b55-138"><span id="related-topics"></span>Verwandte Themen</span><span class="sxs-lookup"><span data-stu-id="31b55-138"><span id="related-topics"></span>Related topics</span></span>


[<span data-ttu-id="31b55-139">Grafikpipeline</span><span class="sxs-lookup"><span data-stu-id="31b55-139">Graphics pipeline</span></span>](graphics-pipeline.md)

 

 




