---
title: "Nicht mehr auffindbare Geräte"
description: "Ein Direct3D-Gerät kann sich entweder im Zustand „betriebsbereit” oder im Zustand „nicht mehr auffindbar” befinden."
ms.assetid: 1639CC02-8000-4208-AA95-91C1F0A3B08D
keywords: "Nicht mehr auffindbare Geräte"
author: michaelfromredmond
ms.author: mithom
ms.date: 02/08/2017
ms.topic: article
ms.prod: windows
ms.technology: uwp
ms.localizationpriority: medium
ms.openlocfilehash: e46adf3826749bd974951a54166a6e2afa3702e8
ms.sourcegitcommit: c80b9e6589a1ee29c5032a0b942e6a024c224ea7
ms.translationtype: HT
ms.contentlocale: de-DE
ms.lasthandoff: 12/22/2017
---
# <a name="lost-devices"></a><span data-ttu-id="19d89-104">Nicht mehr auffindbare Geräte</span><span class="sxs-lookup"><span data-stu-id="19d89-104">Lost devices</span></span>


<span data-ttu-id="19d89-105">Ein Direct3D-Gerät kann sich entweder im Zustand „betriebsbereit” oder im Zustand „nicht mehr auffindbar” befinden.</span><span class="sxs-lookup"><span data-stu-id="19d89-105">A Direct3D device can be in either an operational state or a lost state.</span></span> <span data-ttu-id="19d89-106">Der *betriebsbereite* Zustand ist der Normalzustand des Geräts, in dem das Gerät ausgeführt wird und alles Rendering wie erwartet zeigt.</span><span class="sxs-lookup"><span data-stu-id="19d89-106">The *operational* state is the normal state of the device in which the device runs and presents all rendering as expected.</span></span> <span data-ttu-id="19d89-107">Das Gerät nimmt eine Umstellung auf den Zustand *nicht mehr auffindbar* vor, wenn ein Ereignis wie z.B. der Verlust des Tastaturfokus in einer Vollbildanwendung das Rendering unmöglich macht.</span><span class="sxs-lookup"><span data-stu-id="19d89-107">The device makes a transition to the *lost* state when an event, such as the loss of keyboard focus in a full-screen application, causes rendering to become impossible.</span></span> <span data-ttu-id="19d89-108">Der verlorene Zustand gekennzeichnet sich durch einen nicht angezeigten Ausfall aller Rendering-Vorgänge, was dazu führt, dass die Renderingmethoden möglicherweise Erfolgscodes zurückgeben, obwohl das Rendering fehlschlägt.</span><span class="sxs-lookup"><span data-stu-id="19d89-108">The lost state is characterized by the silent failure of all rendering operations, which means that the rendering methods can return success codes even though the rendering operations fail.</span></span>

<span data-ttu-id="19d89-109">Standardmäßig werden nicht alle Szenarien angegeben, durch die ein Gerät nicht mehr auffindbar sein kann.</span><span class="sxs-lookup"><span data-stu-id="19d89-109">By design, the full set of scenarios that can cause a device to become lost is not specified.</span></span> <span data-ttu-id="19d89-110">Einige typische Beispiele sind der Fokusverlust wenn z.B. der Benutzer ALT+TAB drückt oder wenn ein Systemdialogfeld initialisiert wird.</span><span class="sxs-lookup"><span data-stu-id="19d89-110">Some typical examples include loss of focus, such as when the user presses ALT+TAB or when a system dialog is initialized.</span></span> <span data-ttu-id="19d89-111">Geräte können auch durch ein Energieverwaltungsereignis oder wenn eine andere Anwendung den Vollbildmodus startet nicht mehr auffindbar sein.</span><span class="sxs-lookup"><span data-stu-id="19d89-111">Devices can also be lost due to a power management event, or when another application assumes full-screen operation.</span></span> <span data-ttu-id="19d89-112">Darüber hinaus versetzen Fehler beim Zurücksetzen eines Geräts das Gerät in den nicht mehr auffindbaren Zustand.</span><span class="sxs-lookup"><span data-stu-id="19d89-112">In addition, any failure from reseting a device puts the device into a lost state.</span></span>

<span data-ttu-id="19d89-113">Alle von [**IUnknown**](https://msdn.microsoft.com/library/windows/desktop/ms680509) abgeleiteten Methoden funktionieren garantiert, wenn ein Gerät nicht mehr auffindbar ist.</span><span class="sxs-lookup"><span data-stu-id="19d89-113">All methods that derive from [**IUnknown**](https://msdn.microsoft.com/library/windows/desktop/ms680509) are guaranteed to work after a device is lost.</span></span> <span data-ttu-id="19d89-114">Wenn ein Gerät nicht mehr auffindbar ist, bietet jede Funktion in der Regel die folgenden drei Optionen:</span><span class="sxs-lookup"><span data-stu-id="19d89-114">After device loss, each function generally has the following three options:</span></span>

-   <span data-ttu-id="19d89-115">Fehlschlagen mit dem Fehler "Gerät nicht mehr auffindbar" – Dies bedeutet, dass die Anwendung erkennen muss, dass das Gerät nicht mehr auffindbar ist, damit die Anwendung identifizieren kann, dass etwas nicht wie erwartet abläuft.</span><span class="sxs-lookup"><span data-stu-id="19d89-115">Fail with a "device lost" error - This means that the application needs to recognize that the device was lost, so that the application identifies that something isn't happening as expected.</span></span>
-   <span data-ttu-id="19d89-116">Fehlschlagen ohne Meldung mit Rückgabe von S\_OK oder einem anderen Rückgabecode: Wenn eine Funktion ohne Meldung fehlschlägt, kann die Anwendung in der Regel nicht zwischen „erfolgreich” und „fehlgeschlagen ohne Meldung” unterscheiden.</span><span class="sxs-lookup"><span data-stu-id="19d89-116">Silently fail, returning S\_OK or any other return code - If a function silently fails, the application generally can't distinguish between the result of "success" and a "silent failure."</span></span>
-   <span data-ttu-id="19d89-117">Einen Rückgabecode zurückgeben.</span><span class="sxs-lookup"><span data-stu-id="19d89-117">Return a return code.</span></span>

## <a name="span-idrespondingtoalostdevicespanspan-idrespondingtoalostdevicespanspan-idrespondingtoalostdevicespanresponding-to-a-lost-device"></a><span data-ttu-id="19d89-118"><span id="Responding_to_a_Lost_Device"></span><span id="responding_to_a_lost_device"></span><span id="RESPONDING_TO_A_LOST_DEVICE"></span>Antwort auf ein nicht mehr auffindbares Gerät</span><span class="sxs-lookup"><span data-stu-id="19d89-118"><span id="Responding_to_a_Lost_Device"></span><span id="responding_to_a_lost_device"></span><span id="RESPONDING_TO_A_LOST_DEVICE"></span>Responding to a Lost Device</span></span>


<span data-ttu-id="19d89-119">Ein nicht mehr auffindbares Gerät muss Ressourcen (einschließlich Videospeicherressourcen) neu erstellen, nachdem es zurückgesetzt wurde.</span><span class="sxs-lookup"><span data-stu-id="19d89-119">A lost device must re-create resources (including video memory resources) after it has been reset.</span></span> <span data-ttu-id="19d89-120">Wenn ein Gerät nicht mehr auffindbar ist, schickt die Anwendung eine Abfrage an das Gerät, um festzustellen, ob dessen betriebsbereiter Zustand wiederhergestellt werden kann.</span><span class="sxs-lookup"><span data-stu-id="19d89-120">If a device is lost, the application queries the device to see if it can be restored to the operational state.</span></span> <span data-ttu-id="19d89-121">Wenn dies nicht der Fall ist, wartet die Anwendung, bis das Gerät wiederhergestellt werden kann.</span><span class="sxs-lookup"><span data-stu-id="19d89-121">If not, the application waits until the device can be restored.</span></span>

<span data-ttu-id="19d89-122">Wenn das Gerät wiederhergestellt werden kann, bereitet die Anwendung das Gerät vor, indem sie alle Videospeicherressourcen und Swapchains vernichtet.</span><span class="sxs-lookup"><span data-stu-id="19d89-122">If the device can be restored, the application prepares the device by destroying all video-memory resources and any swap chains.</span></span> <span data-ttu-id="19d89-123">Das Zurücksetzen ist die einzige effektive Methode bei einem nicht mehr auffindbaren Gerät, und es ist die einzige Möglichkeit, mit der eine Anwendung den Zustand des Geräts von „nicht mehr auffindbar” in „betriebsbereit” ändern kann.</span><span class="sxs-lookup"><span data-stu-id="19d89-123">Resetting is the only procedure that has an effect when a device is lost, and is the only way by which an application can change the device from a lost to an operational state.</span></span> <span data-ttu-id="19d89-124">Das Zurücksetzen schlägt fehl, solange die Anwendung nicht alle reservierten Ressourcen freigibt, einschließlich Renderzielen und Tiefen/Schablonen-Oberflächen.</span><span class="sxs-lookup"><span data-stu-id="19d89-124">Reset will fail unless the application releases all resources that are allocated, including render targets and depth-stencil surfaces.</span></span>

<span data-ttu-id="19d89-125">In den meisten Fällen geben die häufigen Aufrufe von Direct3D keine Informationen darüber zurück, ob das Gerät nicht mehr auffindbar ist.</span><span class="sxs-lookup"><span data-stu-id="19d89-125">For the most part, the high-frequency calls of Direct3D do not return any information about whether the device has been lost.</span></span> <span data-ttu-id="19d89-126">Die Anwendung kann weiterhin Renderingmethoden aufrufen, ohne eine Benachrichtigung über ein nicht auffindbares Gerät zu erhalten.</span><span class="sxs-lookup"><span data-stu-id="19d89-126">The application can continue to call rendering methods, without receiving notification of a lost device.</span></span> <span data-ttu-id="19d89-127">Intern werden diese Vorgänge bis zum Zurücksetzen des Geräts in den betriebsbereiten Zustand verworfen.</span><span class="sxs-lookup"><span data-stu-id="19d89-127">Internally, these operations are discarded until the device is reset to the operational state.</span></span>

## <a name="span-idlockingoperationsspanspan-idlockingoperationsspanspan-idlockingoperationsspanlocking-operations"></a><span data-ttu-id="19d89-128"><span id="Locking_Operations"></span><span id="locking_operations"></span><span id="LOCKING_OPERATIONS"></span>Sperrvorgänge</span><span class="sxs-lookup"><span data-stu-id="19d89-128"><span id="Locking_Operations"></span><span id="locking_operations"></span><span id="LOCKING_OPERATIONS"></span>Locking Operations</span></span>


<span data-ttu-id="19d89-129">Direct3D leistet intern ausreichend Arbeit, um sicherzustellen, dass ein Sperrvorgang erfolgreich ausgeführt wird, wenn ein Gerät nicht mehr auffindbar ist.</span><span class="sxs-lookup"><span data-stu-id="19d89-129">Internally, Direct3D does enough work to ensure that a lock operation will succeed after a device is lost.</span></span> <span data-ttu-id="19d89-130">Es ist jedoch nicht gewährleistet, dass die Daten der Videospeicherressource während des Sperrvorgangs korrekt sein werden.</span><span class="sxs-lookup"><span data-stu-id="19d89-130">However, it is not guaranteed that the video-memory resource's data will be accurate during the lock operation.</span></span> <span data-ttu-id="19d89-131">Es ist gewährleistet, dass kein Fehlercode zurückgegeben wird.</span><span class="sxs-lookup"><span data-stu-id="19d89-131">It is guaranteed that no error code will be returned.</span></span> <span data-ttu-id="19d89-132">So können Anwendungen geschrieben werden, ohne während des Sperrvorgangs Bedenken wegen des nicht mehr vorhandenen Geräts zu haben.</span><span class="sxs-lookup"><span data-stu-id="19d89-132">This allows applications to be written without concern for device loss during a lock operation.</span></span>

## <a name="span-idresourcesspanspan-idresourcesspanspan-idresourcesspanresources"></a><span data-ttu-id="19d89-133"><span id="Resources"></span><span id="resources"></span><span id="RESOURCES"></span>Ressourcen</span><span class="sxs-lookup"><span data-stu-id="19d89-133"><span id="Resources"></span><span id="resources"></span><span id="RESOURCES"></span>Resources</span></span>


<span data-ttu-id="19d89-134">Ressourcen können Videospeicher verbrauchen.</span><span class="sxs-lookup"><span data-stu-id="19d89-134">Resources can consume video memory.</span></span> <span data-ttu-id="19d89-135">Da ein nicht auffindbares Gerät von dem Videospeicher des Adapters getrennt wird, ist es nicht möglich, die Zuordnung von Videospeicher zu gewährleisten, wenn das Gerät nicht mehr auffindbar ist.</span><span class="sxs-lookup"><span data-stu-id="19d89-135">Because a lost device is disconnected from the video memory owned by the adapter, it is not possible to guarantee allocation of video memory when the device is lost.</span></span> <span data-ttu-id="19d89-136">Daher werden alle Erstellungsmethoden für Ressourcen integriert, um erfolgreich ausgeführt zu werden, aber es wird tatsächlich nur Dummy-Systemspeicher zugeordnet.</span><span class="sxs-lookup"><span data-stu-id="19d89-136">As a result, all resource creation methods are implemented to succeed, but do in fact allocate only dummy system memory.</span></span> <span data-ttu-id="19d89-137">Da alle Videospeicherressourcen vernichtet werden müssen, bevor die Größe des Geräts geändert werden kann, entsteht nicht das Problem, dass zu viel Videospeicher zugeteilt wird.</span><span class="sxs-lookup"><span data-stu-id="19d89-137">Because any video-memory resource must be destroyed before the device is resized, there is no issue of over-allocating video memory.</span></span> <span data-ttu-id="19d89-138">Diese Oberflächen-Platzhalter ermöglichen es, dass Sperr- und Kopiervorgänge normal funktionieren, bis die Anwendung erkennt, dass das Gerät nicht mehr auffindbar ist.</span><span class="sxs-lookup"><span data-stu-id="19d89-138">These dummy surfaces allow lock and copy operations to appear to function normally until the application discovers that the device has been lost.</span></span>

<span data-ttu-id="19d89-139">Aller Videoarbeitsspeicher muss freigegeben werden, bevor ein Gerät aus dem Zustand „nicht mehr auffindbar” in den betriebsbereiten Zustand zurückgesetzt werden kann.</span><span class="sxs-lookup"><span data-stu-id="19d89-139">All video memory must be released before a device can be reset from a lost state to an operational state.</span></span> <span data-ttu-id="19d89-140">Andere Zustandsdaten werden durch die Umstellung auf den betriebsbereiten Zustand automatisch gelöscht.</span><span class="sxs-lookup"><span data-stu-id="19d89-140">Other state data is automatically destroyed by the transition to an operational state.</span></span>

<span data-ttu-id="19d89-141">Es wird empfohlen, Anwendungen mit einem einzelnen Codepfad zum Reagieren auf nicht mehr auffindbare Geräte zu entwickeln.</span><span class="sxs-lookup"><span data-stu-id="19d89-141">You are encouraged to develop applications with a single code path to respond to device loss.</span></span> <span data-ttu-id="19d89-142">Dieser Codepfad ähnelt oder ist identisch mit dem Codepfad zum Initialisieren des Geräts beim Starten.</span><span class="sxs-lookup"><span data-stu-id="19d89-142">This code path is likely to be similar, if not identical, to the code path taken to initialize the device at startup.</span></span>

## <a name="span-idretrieveddataspanspan-idretrieveddataspanspan-idretrieveddataspanretrieved-data"></a><span data-ttu-id="19d89-143"><span id="Retrieved_Data"></span><span id="retrieved_data"></span><span id="RETRIEVED_DATA"></span>Abgerufene Daten</span><span class="sxs-lookup"><span data-stu-id="19d89-143"><span id="Retrieved_Data"></span><span id="retrieved_data"></span><span id="RETRIEVED_DATA"></span>Retrieved Data</span></span>


<span data-ttu-id="19d89-144">Direct3D ermöglicht es Anwendungen, Textur und Renderstatus anhand eines einzelnen Pass-Rendering der Hardware zu überprüfen.</span><span class="sxs-lookup"><span data-stu-id="19d89-144">Direct3D allows applications to validate texture and render states against single pass rendering by the hardware.</span></span>

<span data-ttu-id="19d89-145">Direct3D ermöglicht es Anwendungen auch, generierte oder zuvor geschriebene Bilder von Videospeicherressourcen auf permanenten Systemspeicher Ressourcen zu kopieren.</span><span class="sxs-lookup"><span data-stu-id="19d89-145">Direct3D also allows applications to copy generated or previously written images from video-memory resources to nonvolatile system-memory resources.</span></span> <span data-ttu-id="19d89-146">Da die Quellbilder solcher Übertragungen zu einem beliebigen Zeitpunkt verloren gehen können, ermöglicht Direct3D das Fehlschlagen solcher Kopiervorgänge, wenn das Gerät nicht mehr auffindbar ist.</span><span class="sxs-lookup"><span data-stu-id="19d89-146">Because the source images of such transfers might be lost at any time, Direct3D allows such copy operations to fail when the device is lost.</span></span>

<span data-ttu-id="19d89-147">Kopiervorgänge können fehlschlagen, da keine primäre Oberfläche vorhanden ist, wenn das Gerät nicht mehr auffindbar ist.</span><span class="sxs-lookup"><span data-stu-id="19d89-147">Copy operations can fail as there is no primary surface when the device is lost.</span></span> <span data-ttu-id="19d89-148">Swapchains können ebenfalls fehlschlagen, da kein Hintergrundpuffer erstellt werden kann, wenn das Gerät nicht mehr auffindbar ist.</span><span class="sxs-lookup"><span data-stu-id="19d89-148">Creating swap chains can also fail because a back buffer can't be created when the device is lost.</span></span>

## <a name="span-idrelated-topicsspanrelated-topics"></a><span data-ttu-id="19d89-149"><span id="related-topics"></span>Verwandte Themen</span><span class="sxs-lookup"><span data-stu-id="19d89-149"><span id="related-topics"></span>Related topics</span></span>


[<span data-ttu-id="19d89-150">Geräte</span><span class="sxs-lookup"><span data-stu-id="19d89-150">Devices</span></span>](devices.md)

 

 




