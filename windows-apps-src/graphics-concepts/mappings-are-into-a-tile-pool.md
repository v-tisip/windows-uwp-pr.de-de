---
title: Zuordnungen erfolgen in einen Kachelpool
description: Beim Erstellen einer Ressource als Streaming-Ressource stammen die Kacheln, die die Ressource bilden, aus Speicherorten in einem Kachelpool. Ein Kachelpool ist ein Speicherpool (gesichert durch eine oder mehrere Zuordnungen im Hintergrund – nicht sichtbar für die Anwendung).
ms.assetid: 58B8DBD5-62F5-4B94-8DD1-C7D57A812185
keywords:
- Zuordnungen erfolgen in einen Kachelpool
author: michaelfromredmond
ms.author: mithom
ms.date: 02/08/2017
ms.topic: article
ms.localizationpriority: medium
ms.openlocfilehash: 24c8787efd108acb2353f6705dbb65a34d358ef2
ms.sourcegitcommit: 6cc275f2151f78db40c11ace381ee2d35f0155f9
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 10/26/2018
ms.locfileid: "5558858"
---
# <a name="mappings-are-into-a-tile-pool"></a><span data-ttu-id="91a1c-105">Zuordnungen erfolgen in einen Kachelpool</span><span class="sxs-lookup"><span data-stu-id="91a1c-105">Mappings are into a tile pool</span></span>


<span data-ttu-id="91a1c-106">Beim Erstellen einer Ressource als Streaming-Ressource stammen die Kacheln, die die Ressource bilden, aus Speicherorten in einem Kachelpool.</span><span class="sxs-lookup"><span data-stu-id="91a1c-106">When a resource is created as a streaming resource, the tiles that make up the resource come from pointing at locations in a tile pool.</span></span> <span data-ttu-id="91a1c-107">Ein Kachelpool ist ein Speicherpool (gesichert durch eine oder mehrere Zuordnungen im Hintergrund – nicht sichtbar in der Anwendung).</span><span class="sxs-lookup"><span data-stu-id="91a1c-107">A tile pool is a pool of memory (backed by one or more allocations behind the scenes - unseen by the application).</span></span> <span data-ttu-id="91a1c-108">Das Betriebssystem und der Bildschirmtreiber verwalten diesen Speicherpool und der Speicherbedarf ist für eine Anwendung leicht verständlich.</span><span class="sxs-lookup"><span data-stu-id="91a1c-108">The operating system and display driver manage this pool of memory, and the memory footprint is easily understood by an application.</span></span> <span data-ttu-id="91a1c-109">Streaming-Ressourcen ordnen 64-KB-Regionen zu, indem sie auf Speicherorte in einem Kachelpool verweisen.</span><span class="sxs-lookup"><span data-stu-id="91a1c-109">Streaming resources map 64KB regions by pointing to locations in a tile pool.</span></span> <span data-ttu-id="91a1c-110">Eine negative Auswirkung dieser Einstellung ist, dass mehrere Ressourcen die gleichen Kacheln miteinander teilen und wiederverwenden und ferner die gleichen Kacheln an verschiedenen Stellen innerhalb einer Ressource wiederverwendet werden können, wenn gewünscht.</span><span class="sxs-lookup"><span data-stu-id="91a1c-110">One fallout of this setup is it allows multiple resources to share and reuse the same tiles, and also for the same tiles to be reused at different locations within a resource if desired.</span></span>

<span data-ttu-id="91a1c-111">Die Kosten für die Flexibilität des Auffüllens der Kacheln für eine Ressource aus einem Kachelpool besteht darin, dass die Ressource die Zuordnung definieren und verwalten muss, welche der Kacheln im Kachelpool die für die Ressource benötigten Kacheln darstellen.</span><span class="sxs-lookup"><span data-stu-id="91a1c-111">The cost for the flexibility of populating the tiles for a resource out of a tile pool is that the resource has to do the work of defining and maintaining the mapping of which tiles in the tile pool represent the tiles needed for the resource.</span></span> <span data-ttu-id="91a1c-112">Kachelzuordnungen können geändert werden.</span><span class="sxs-lookup"><span data-stu-id="91a1c-112">Tile mappings can be changed.</span></span> <span data-ttu-id="91a1c-113">Darüber hinaus müssen nicht alle Kacheln in einer Ressource gleichzeitig zugeordnet werden; eine Ressource kann **NULL** Zuordnungen aufweisen.</span><span class="sxs-lookup"><span data-stu-id="91a1c-113">Also, not all tiles in a resource need to be mapped at a time; a resource can have **NULL** mappings.</span></span> <span data-ttu-id="91a1c-114">Eine **NULL**-Zuordnung definiert eine Kachel aus Sicht der auf diese zugreifenden Ressource als nicht verfügbar.</span><span class="sxs-lookup"><span data-stu-id="91a1c-114">A **NULL** mapping defines a tile as not being available from the point of view of the resource accessing it.</span></span>

<span data-ttu-id="91a1c-115">Mehrere Kachelpools können erstellt werden und eine beliebige Anzahl von Streaming-Ressourcen kann gleichzeitig in jeden beliebigen Kachelpool zuordnen.</span><span class="sxs-lookup"><span data-stu-id="91a1c-115">Multiple tile pools can be created, and any number of streaming resources can map into any given tile pool at the same time.</span></span> <span data-ttu-id="91a1c-116">Kachelpools können auch vergrößert oder verkleinert werden.</span><span class="sxs-lookup"><span data-stu-id="91a1c-116">Tile pools can also be grown or shrunk.</span></span> <span data-ttu-id="91a1c-117">Weitere Informationen finden Sie unter [Ändern der Größe des Kachelpools](tile-pool-resizing.md).</span><span class="sxs-lookup"><span data-stu-id="91a1c-117">For more info, see [Tile pool resizing](tile-pool-resizing.md).</span></span> <span data-ttu-id="91a1c-118">Eine Einschränkung zur Vereinfachung der Implementierung von Bildschirmtreibern und der Laufzeit liegt darin, dass eine Streaming-Ressource nur Zuordnungen in mindestens einem Kachelpool zu einem Zeitpunkt aufweisen kann (im Gegensatz zum gleichzeitigen Zuordnen in mehrere Kachelpools).</span><span class="sxs-lookup"><span data-stu-id="91a1c-118">One constraint that exists to simplify display driver and runtime implementation is that a given streaming resource can only have mappings into at most one tile pool at a time (as opposed to having simultaneous mapping to multiple tile pools).</span></span>

<span data-ttu-id="91a1c-119">Die mit einer Streaming-Ressource assoziierte Speicherkapazität (d.h. unabhängig vom Kachelpoolspeicher) ist etwa proportional zur Anzahl der Kacheln, die tatsächlich zu einem bestimmten Zeitpunkt dem Pool zugeordnet sind.</span><span class="sxs-lookup"><span data-stu-id="91a1c-119">The amount of storage that is associated with a streaming resource itself (that is, independent tile-pool memory) is roughly proportional to the number of tiles actually mapped to the pool at any given time.</span></span> <span data-ttu-id="91a1c-120">Hinsichtlich der Hardware läuft diese Tatsache auf eine Skalierung des Speicherbedarfs für Seitentabellen hinaus, ungefähr in der Größe der zugeordneten Kacheln (z.B. über ein Seitentabellenschema mit mehreren Ebenen, ggf.).</span><span class="sxs-lookup"><span data-stu-id="91a1c-120">In hardware, this fact boils down to scaling the memory footprint for page table storage roughly with the amount of tiles that are mapped (for example, using a multilevel page table scheme as appropriate).</span></span>

<span data-ttu-id="91a1c-121">Den Kachelpool kann man sich als eine vollständige Software-Abstraktion vorstellen, durch die Direct3D-Anwendungen wirksam in die Lage versetzt werden, die Seitentabellen auf den Grafikprozessor (GPU) zu programmieren, ohne die Implementierungsdetails auf niedriger Ebene wissen zu müssen (oder mit Zeigeradressen direkt umgehen zu müssen).</span><span class="sxs-lookup"><span data-stu-id="91a1c-121">The tile pool can be thought of as an entirely software abstraction that enables Direct3D applications to effectively be able to program the page tables on the graphics processing unit (GPU) without having to know the low level implementation details (or deal with pointer addresses directly).</span></span> <span data-ttu-id="91a1c-122">Kachelpools wenden keine zusätzlichen Ebenen der Dereferenzierung in der Hardware an.</span><span class="sxs-lookup"><span data-stu-id="91a1c-122">Tile pools don't apply any additional levels of indirection in hardware.</span></span> <span data-ttu-id="91a1c-123">Optimierungen einer Seitentabelle mit einer Ebene, die Konstrukte wie Seitenverzeichnisse verwendet, sind unabhängig vom Kachelpoolkonzept.</span><span class="sxs-lookup"><span data-stu-id="91a1c-123">Optimizations of a single level page table using constructs like page directories are independent of the tile pool concept.</span></span>

<span data-ttu-id="91a1c-124">Lassen Sie uns herausfinden, welchen Speicherplatz die Seitentabelle im ungünstigsten Fall benötigen könnte (wenngleich Implementierungen in der Praxis einen Speicherplatz benötigen, der nur etwa proportional zu den Zuordnungen ist).</span><span class="sxs-lookup"><span data-stu-id="91a1c-124">Let us explore what storage the page table itself could require in the worst case (though in practice implementations only require storage roughly proportional to what is mapped).</span></span>

<span data-ttu-id="91a1c-125">Nehmen wir an, dass jeder Seitentabelleneintrag 64 Bits umfasst.</span><span class="sxs-lookup"><span data-stu-id="91a1c-125">Suppose each page table entry is 64 bits.</span></span>

<span data-ttu-id="91a1c-126">Für die ungünstigste Tabelle enthält die Größe der Seitentabelle für eine einzelne Fläche, die Ressourcengrenzen in Direct3D11, nehmen streaming-Ressource mit einem Format von 128 Bit pro Element (z. B. eine RGBA-Gleitkommazahl), also eine 64 KB große Kachel nur 4096 Pixel.</span><span class="sxs-lookup"><span data-stu-id="91a1c-126">For the worst-case page table size hit for a single surface, given the resource limits in Direct3D11, suppose a streaming resource is created with a 128 bit-per-element format (for example, a RGBA float), so a 64KB tile contains only 4096 pixels.</span></span> <span data-ttu-id="91a1c-127">Die maximal unterstützte [**Texture2DArray**](https://msdn.microsoft.com/library/windows/desktop/ff471526)-Größe von 16384\*16384\*2048 (jedoch mit nur einer Mip-Map) würde etwa 1 GB Speicherplatz in der Seitentabelle erfordern, wenn vollständig gefüllt (ohne Mip-Maps), bei Verwendung von 64-Bit-Einträgen.</span><span class="sxs-lookup"><span data-stu-id="91a1c-127">The maximum supported [**Texture2DArray**](https://msdn.microsoft.com/library/windows/desktop/ff471526) size of 16384\*16384\*2048 (but with only a single mipmap) would require about 1GB of storage in the page table if fully populated (not including mipmaps) using 64 bit table entries.</span></span> <span data-ttu-id="91a1c-128">Durch das Hinzufügen von Mip-Maps würde der Speicherbedarf der vollständig zugeordneten (ungünstigster Fall) Seitetabelle um etwa ein Drittel anwachsen, auf etwa 1,3 GB.</span><span class="sxs-lookup"><span data-stu-id="91a1c-128">Adding mipmaps would grow the fully-mapped (worst case) page table storage by about a third, to about 1.3GB.</span></span>

<span data-ttu-id="91a1c-129">Dieser Fall würde einen Zugriff auf etwa 10,6 Terabyte adressierbaren Speicher erlauben.</span><span class="sxs-lookup"><span data-stu-id="91a1c-129">This case would give access to about 10.6 terabytes of addressable memory.</span></span> <span data-ttu-id="91a1c-130">Möglicherweise gibt es jedoch eine Grenze für die Menge an adressierbarem Speicher, wodurch sich diese Mengen verringern würden, vielleicht auf einen Wert im Terabytebereich.</span><span class="sxs-lookup"><span data-stu-id="91a1c-130">There might be a limit on the amount of addressable memory however, which would reduce these amounts, perhaps to around the terabyte range.</span></span>

<span data-ttu-id="91a1c-131">Ein weiterer zu berücksichtigender Fall ist eine einzelne [**Texture2D**](https://msdn.microsoft.com/library/windows/desktop/ff471525) Streaming-Ressource von 16384\*16384 mit einem Format von 32 Bit pro Element, einschließlich Mip-Maps.</span><span class="sxs-lookup"><span data-stu-id="91a1c-131">Another case to consider is a single [**Texture2D**](https://msdn.microsoft.com/library/windows/desktop/ff471525) streaming resource of 16384\*16384 with a 32 bit-per-element format, including mipmaps.</span></span> <span data-ttu-id="91a1c-132">Der Speicherplatz in einer vollständig ausgefüllten Seitentabelle läge bei etwa 170 KB, bei 64-Bit-Einträgen.</span><span class="sxs-lookup"><span data-stu-id="91a1c-132">The space needed in a fully populated page table would be roughly 170KB with 64 bit table entries.</span></span>

<span data-ttu-id="91a1c-133">Abschließend sollten Sie ein Beispiel unter Verwendung eines BC-Formates betrachten, sagen wir BC7 mit 128 Bits pro Kachel von 4x4 Pixeln.</span><span class="sxs-lookup"><span data-stu-id="91a1c-133">Finally, consider an example using a BC format, say BC7 with 128 bits per tile of 4x4 pixels.</span></span> <span data-ttu-id="91a1c-134">Dies entspricht einem Byte pro Pixel.</span><span class="sxs-lookup"><span data-stu-id="91a1c-134">That is one byte per pixel.</span></span> <span data-ttu-id="91a1c-135">Ein [**Texture2DArray**](https://msdn.microsoft.com/library/windows/desktop/ff471526) von 16384\*16384\*2048, einschließlich Mip-Maps, würde etwa 85 MB erfordern, um diesen Speicherplatz in einer Seitentabelle vollständig auszufüllen.</span><span class="sxs-lookup"><span data-stu-id="91a1c-135">A [**Texture2DArray**](https://msdn.microsoft.com/library/windows/desktop/ff471526) of 16384\*16384\*2048 including mipmaps would require roughly 85MB to fully populate this memory in a page table.</span></span> <span data-ttu-id="91a1c-136">Das ist gar nicht schlecht, vor allem unter Berücksichtigung der Tatsache, dass dadurch eine Streaming-Ressource 550 Gigapixel umfassen kann (512 GB Speicherplatz in diesem Fall).</span><span class="sxs-lookup"><span data-stu-id="91a1c-136">That is not bad considering this allows one streaming resource to span 550 gigapixels (512 GB of memory in this case).</span></span>

<span data-ttu-id="91a1c-137">In der Praxis würden bei Weitem nicht so umfangreiche vollständige Zuordnungen definiert, angesichts der Tatsache, dass die Menge des verfügbaren physischen Speichers bei Weitem nicht zulassen würde, dass gleichzeitig so viel zugeordnet und verwiesen wird.</span><span class="sxs-lookup"><span data-stu-id="91a1c-137">In practice, nowhere near these full mappings would be defined given that the amount of physical memory available wouldn't allow anywhere near that much to be mapped and referenced at a time.</span></span> <span data-ttu-id="91a1c-138">Mit einem Kachelpool könnten die Anwendungen sich jedoch dafür entscheiden, Kacheln wiederzuverwenden (beispielsweise das einfache Wiederverwenden einer "schwarzen" Kachel für große schwarze Bereiche in einem Bild) – und dadurch den Kachelpool (d.h. Seitentabellenzuordnungen) als Tool für die Speicherkomprimierung effizient nutzen.</span><span class="sxs-lookup"><span data-stu-id="91a1c-138">But with a tile pool, applications could choose to reuse tiles (as a simple example, reusing a "black" colored tile for large black regions in an image) - effectively using the tile pool (that is, page table mappings) as a tool for memory compression.</span></span>

<span data-ttu-id="91a1c-139">Der anfängliche Inhalt der Seitentabelle ist **NULL** für alle Einträge.</span><span class="sxs-lookup"><span data-stu-id="91a1c-139">The initial contents of the page table are **NULL** for all entries.</span></span> <span data-ttu-id="91a1c-140">Anwendungen können ferner keine anfänglichen Daten für die Speicherinhalte der Oberfläche weiterleiten, da dies ohne Speichersicherung beginnt.</span><span class="sxs-lookup"><span data-stu-id="91a1c-140">Applications also can't pass initial data for the memory contents of the surface since it starts off with no memory backing.</span></span>

## <a name="span-idin-this-sectionspanin-this-section"></a><span data-ttu-id="91a1c-141"><span id="in-this-section"></span>Inhalt dieses Abschnitts</span><span class="sxs-lookup"><span data-stu-id="91a1c-141"><span id="in-this-section"></span>In this section</span></span>


<table>
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<thead>
<tr class="header">
<th align="left"><span data-ttu-id="91a1c-142">Thema</span><span class="sxs-lookup"><span data-stu-id="91a1c-142">Topic</span></span></th>
<th align="left"><span data-ttu-id="91a1c-143">Beschreibung</span><span class="sxs-lookup"><span data-stu-id="91a1c-143">Description</span></span></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><p><a href="tile-pool-creation.md"><span data-ttu-id="91a1c-144">Erstellung eines Kachelpools</span><span class="sxs-lookup"><span data-stu-id="91a1c-144">Tile pool creation</span></span></a></p></td>
<td align="left"><p><span data-ttu-id="91a1c-145">Anwendungen können einen oder mehrere Kachelpools pro Direct3D-Gerät erstellen.</span><span class="sxs-lookup"><span data-stu-id="91a1c-145">Applications can create one or more tile pools per Direct3D device.</span></span> <span data-ttu-id="91a1c-146">Die Gesamtgröße jedes kachelpools ist auf Direct3D11s Ressourcengröße beschränkt, die ungefähr 1/4 GPU-Arbeitsspeicher beträgt beschränkt.</span><span class="sxs-lookup"><span data-stu-id="91a1c-146">The total size of each tile pool is restricted to Direct3D11's resource size limit, which is roughly 1/4 of GPU RAM.</span></span></p></td>
</tr>
<tr class="even">
<td align="left"><p><a href="tile-pool-resizing.md"><span data-ttu-id="91a1c-147">Ändern der Größe des Kachelpools</span><span class="sxs-lookup"><span data-stu-id="91a1c-147">Tile pool resizing</span></span></a></p></td>
<td align="left"><p><span data-ttu-id="91a1c-148">Ändern der Größe eines Kachelpools zum Vergrößern eines Kachelpools, wenn die Anwendung mehr Arbeit der Streaming-Ressourcen benötigt, welche in diese zuordnen, bzw. zum Verkleinern des Kachelpools, wenn weniger Speicherplatz benötigt wird.</span><span class="sxs-lookup"><span data-stu-id="91a1c-148">Resize a tile pool to grow a tile pool if the application needs more working set for the streaming resources mapping into it, or to shrink if less space is needed.</span></span></p></td>
</tr>
<tr class="odd">
<td align="left"><p><a href="hazard-tracking-versus-tile-pool-resources.md"><span data-ttu-id="91a1c-149">Gefahrennachverfolgung im Vergleich mit den Kachelpoolressourcen</span><span class="sxs-lookup"><span data-stu-id="91a1c-149">Hazard tracking versus tile pool resources</span></span></a></p></td>
<td align="left"><p><span data-ttu-id="91a1c-150">Bei Nicht-Streaming-Ressourcen kann Direct3D bestimmte Gefahrenbedingungen während der Wiedergabe verhindern, da aber die Nachverfolgung von Gefahren auf einer Kachelebene für Streaming-Ressourcen erfolgen würde, kann das Nachverfolgen von Gefahrenbedingungen während der Wiedergabe von Streaming-Ressourcen möglicherweise zu teuer sein.</span><span class="sxs-lookup"><span data-stu-id="91a1c-150">For non-streaming resources, Direct3D can prevent certain hazard conditions during rendering, but because hazard tracking would be at a tile level for streaming resources, tracking hazard conditions during rendering of streaming resources might be too expensive.</span></span></p></td>
</tr>
</tbody>
</table>

 

## <a name="span-idrelated-topicsspanrelated-topics"></a><span data-ttu-id="91a1c-151"><span id="related-topics"></span>Verwandte Themen</span><span class="sxs-lookup"><span data-stu-id="91a1c-151"><span id="related-topics"></span>Related topics</span></span>


[<span data-ttu-id="91a1c-152">Erstellen von Streamingressourcen</span><span class="sxs-lookup"><span data-stu-id="91a1c-152">Creating streaming resources</span></span>](creating-streaming-resources.md)

 

 




