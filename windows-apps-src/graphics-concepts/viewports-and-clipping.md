---
title: Viewports und Zuschneiden
description: Ein Viewport ist ein zweidimensionales (2D) Rechteck, auf das eine 3D-Szene projiziert wird.
ms.assetid: D0DD646E-13AE-452A-AD22-8C35000D0BA9
keywords:
- Viewports und Zuschneiden
ms.date: 02/08/2017
ms.topic: article
ms.localizationpriority: medium
ms.openlocfilehash: 7d2a8953d202cc22729f99a096b5fb62cf1131d9
ms.sourcegitcommit: 89ff8ff88ef58f4fe6d3b1368fe94f62e59118ad
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 11/30/2018
ms.locfileid: "8212446"
---
# <a name="viewports-and-clipping"></a><span data-ttu-id="9d30d-104">Viewports und Zuschneiden</span><span class="sxs-lookup"><span data-stu-id="9d30d-104">Viewports and clipping</span></span>


<span data-ttu-id="9d30d-105">Ein *Viewport* ist ein zweidimensionales (2D) Rechteck, auf das eine 3D-Szene projiziert wird.</span><span class="sxs-lookup"><span data-stu-id="9d30d-105">A *viewport* is a two-dimensional (2D) rectangle into which a 3D scene is projected.</span></span> <span data-ttu-id="9d30d-106">In Direct3D ist das Rechteck eine Koordinate innerhalb einer Direct3D-Oberfläche, die das System als Renderziel verwendet.</span><span class="sxs-lookup"><span data-stu-id="9d30d-106">In Direct3D, the rectangle exists as coordinates within a Direct3D surface that the system uses as a rendering target.</span></span> <span data-ttu-id="9d30d-107">Die Projektionstransformation konvertiert Scheitelpunkte in das Koordinatensystem, das vom Viewport verwendet wird.</span><span class="sxs-lookup"><span data-stu-id="9d30d-107">The projection transformation converts vertices into the coordinate system used for the viewport.</span></span> <span data-ttu-id="9d30d-108">Ein Viewport wird auch verwendet, um den Bereich der Tiefenwerte auf einer Renderzieloberfläche festzulegen, auf die eine Szene (in der Regel zwischen 0,0 und 1,0) gerendert wird.</span><span class="sxs-lookup"><span data-stu-id="9d30d-108">A viewport is also used to specify the range of depth values on a render-target surface into which a scene will be rendered (usually 0.0 to 1.0).</span></span>

## <a name="span-idtheviewingfrustumspanspan-idtheviewingfrustumspanspan-idtheviewingfrustumspanthe-viewing-frustum"></a><span data-ttu-id="9d30d-109"><span id="The_Viewing_Frustum"></span><span id="the_viewing_frustum"></span><span id="THE_VIEWING_FRUSTUM"></span>Der Pyramidenstumpf</span><span class="sxs-lookup"><span data-stu-id="9d30d-109"><span id="The_Viewing_Frustum"></span><span id="the_viewing_frustum"></span><span id="THE_VIEWING_FRUSTUM"></span>The Viewing Frustum</span></span>


<span data-ttu-id="9d30d-110">Ein Pyramidenstumpf ist ein 3D-Körper in einer Szene, der relativ zur Viewport-Kamera positioniert ist.</span><span class="sxs-lookup"><span data-stu-id="9d30d-110">A viewing frustum is 3D volume in a scene positioned relative to the viewport's camera.</span></span> <span data-ttu-id="9d30d-111">Dessen Form wirkt sich darauf aus, wie Modelle vom Kamerabereich auf den Bildschirm projiziert werden.</span><span class="sxs-lookup"><span data-stu-id="9d30d-111">The shape of the volume affects how models are projected from camera space onto the screen.</span></span> <span data-ttu-id="9d30d-112">Die am häufigsten verwendete Projektion, eine Perspektivenprojektion, sorgt dafür, dass nahe der Kamera befindliche Objekte größer als entfernte Objekte erscheinen.</span><span class="sxs-lookup"><span data-stu-id="9d30d-112">The most common type of projection, a perspective projection, is responsible for making objects near the camera appear bigger than objects in the distance.</span></span> <span data-ttu-id="9d30d-113">Für eine perspektivische Ansicht kann der Pyramidenstumpf als Pyramide visualisiert werden, wobei die Kamera an deren Spitze positioniert ist, wie in der nachfolgenden Abbildung illustriert.</span><span class="sxs-lookup"><span data-stu-id="9d30d-113">For perspective viewing, the viewing frustum can be visualized as a pyramid, with the camera positioned at the tip as shown in the following illustration.</span></span> <span data-ttu-id="9d30d-114">Diese Pyramide wird vorn und hinten von einer Zuschneidungsebene geschnitten.</span><span class="sxs-lookup"><span data-stu-id="9d30d-114">This pyramid is intersected by a front and back clipping plane.</span></span> <span data-ttu-id="9d30d-115">Der Körper innerhalb der Pyramide zwischen der vorderen und der hinteren Zuschneidungsebene ist der Pyramidenstumpf.</span><span class="sxs-lookup"><span data-stu-id="9d30d-115">The volume within the pyramid between the front and back clipping planes is the viewing frustum.</span></span> <span data-ttu-id="9d30d-116">Objekte werden nur angezeigt, wenn sie sich innerhalb dieses Körpers befinden.</span><span class="sxs-lookup"><span data-stu-id="9d30d-116">Objects are visible only when they are in this volume.</span></span>

![Illustration eines Pyramidenstumpfs mit vorderer und hinterer Zuschneidungsebene](images/frustum.png)

<span data-ttu-id="9d30d-118">Wenn Sie sich vorstellen, dass Sie in einem dunklen Raum stehen und durch ein quadratisches Fenster blicken, haben Sie einen Pyramidenstumpf vor sich.</span><span class="sxs-lookup"><span data-stu-id="9d30d-118">If you imagine that you are standing in a dark room and looking through a square window, you are visualizing a viewing frustum.</span></span> <span data-ttu-id="9d30d-119">In diesem Beispiel ist die nahe Zuschneidungsebene das Fenster, und die hintere Zuschneidungsebene ist die letztliche Begrenzung Ihres Sichtfeldes – das Haus auf der gegenüberliegenden Straßenseite, die Berge am Horizont oder auch nichts.</span><span class="sxs-lookup"><span data-stu-id="9d30d-119">In this analogy, the near clipping plane is the window, and the back clipping plane is whatever finally interrupts your view - the skyscraper across the street, the mountains in the distance, or nothing at all.</span></span> <span data-ttu-id="9d30d-120">Sie sehen alles innerhalb des Pyramidenstumpfs vom Fenster bis zur letztlichen Sichtbegrenzung – und nichts sonst.</span><span class="sxs-lookup"><span data-stu-id="9d30d-120">You can see everything inside the truncated pyramid that starts at the window and ends with whatever interrupts your view, and you can see nothing else.</span></span>

<span data-ttu-id="9d30d-121">Der Pyramidenstumpf wird nach „fov“ (Field of View, Gesichtsfeld) und dem Abstand zwischen der vorderen und der hinteren Zuschneidungsebene definiert, angegeben in z-Koordinaten (vgl. das folgende Diagramm).</span><span class="sxs-lookup"><span data-stu-id="9d30d-121">The viewing frustum is defined by fov (field of view) and by the distances of the front and back clipping planes, specified in z-coordinates, as shown in the following diagram.</span></span>

![Diagramm des Pyramidenstumpfs](images/fovdiag.png)

<span data-ttu-id="9d30d-123">In diesem Diagramm ist die Variable D der Abstand zwischen der Kamera und dem Ursprung des Bereichs, der im letzten Teil der Geometriepipeline definiert wurde – der Ansichtstransformation.</span><span class="sxs-lookup"><span data-stu-id="9d30d-123">In this diagram, the variable D is the distance from the camera to the origin of the space that was defined in the last part of the geometry pipeline - the viewing transformation.</span></span> <span data-ttu-id="9d30d-124">Dies ist der Bereich, um den herum Sie die grenzen Ihres Pyramidenstumpfs anordnen.</span><span class="sxs-lookup"><span data-stu-id="9d30d-124">This is the space around which you arrange the limits of your viewing frustum.</span></span> <span data-ttu-id="9d30d-125">Informationen zur Verwendung dieser D-Variablen für die Erstellung der Projektionsmatrix finden Sie unter [Projektionstransformation](projection-transform.md)</span><span class="sxs-lookup"><span data-stu-id="9d30d-125">For information about how this D variable is used to build the projection matrix, see the [Projection transform](projection-transform.md)</span></span>

## <a name="span-idviewportrectanglespanspan-idviewportrectanglespanspan-idviewportrectanglespanviewport-rectangle"></a><span data-ttu-id="9d30d-126"><span id="Viewport_Rectangle"></span><span id="viewport_rectangle"></span><span id="VIEWPORT_RECTANGLE"></span>Viewport-Rechteck</span><span class="sxs-lookup"><span data-stu-id="9d30d-126"><span id="Viewport_Rectangle"></span><span id="viewport_rectangle"></span><span id="VIEWPORT_RECTANGLE"></span>Viewport Rectangle</span></span>


<span data-ttu-id="9d30d-127">Eine Viewport-Struktur enthält vier Mitglieder (X, Y, Breite, Höhe), die den Bereich der Renderzieloberfläche definieren, in die die Szene gerendert wird.</span><span class="sxs-lookup"><span data-stu-id="9d30d-127">A viewport struct contains four members (X, Y, Width, Height) that define the area of the render-target surface into which a scene will be rendered.</span></span> <span data-ttu-id="9d30d-128">Diese Werte entsprechen dem Zielrechteck oder Viewport-Rechteck, wie im folgenden Diagramm dargestellt.</span><span class="sxs-lookup"><span data-stu-id="9d30d-128">These values correspond to the destination rectangle, or viewport rectangle, as shown in the following diagram.</span></span>

![Diagramm des Viewport-Rechtecks](images/destrect.png)

<span data-ttu-id="9d30d-130">Die Werte, die Sie für die Mitglieder X, Y, Breite und Höhe angeben, sind Bildschirmkoordinaten relativ zur linken oberen Ecke der Renderzieloberfläche.</span><span class="sxs-lookup"><span data-stu-id="9d30d-130">The values you specify for the X, Y, Width, Height members are screen coordinates relative to the upper-left corner of the render-target surface.</span></span> <span data-ttu-id="9d30d-131">Die Struktur definiert zwei zusätzliche Mitglieder (MinZ und MaxZ), die die Tiefenbereiche für das Rendern der Szene angeben.</span><span class="sxs-lookup"><span data-stu-id="9d30d-131">The structure defines two additional members (MinZ and MaxZ) that indicate the depth-ranges into which the scene will be rendered.</span></span>

<span data-ttu-id="9d30d-132">Direct3D nimmt an, dass das Viewport-Zuschneidungsvolumen von -1,0 bis 1,0 in X und von 1,0 bis -1,0 in Y reicht. Dies sind die Einstellungen die in der Vergangenheit am häufigsten von Anwendungen verwendet wurden.</span><span class="sxs-lookup"><span data-stu-id="9d30d-132">Direct3D assumes that the viewport clipping volume ranges from -1.0 to 1.0 in X, and from 1.0 to -1.0 in Y. These were the settings used most often by applications in the past.</span></span> <span data-ttu-id="9d30d-133">Sie können das Viewport-Seitenverhältnis vor dem Zuschneiden mit der [Projektionstransformation](projection-transform.md) anpassen.</span><span class="sxs-lookup"><span data-stu-id="9d30d-133">You can adjust the viewport aspect ratio before clipping using the [projection transform](projection-transform.md).</span></span>

<span data-ttu-id="9d30d-134">**Hinweis:**  MinZ und MaxZ geben die Tiefenbereiche, in dem die Szene gerendert werden, und sind nicht zum Zuschneiden verwendet.</span><span class="sxs-lookup"><span data-stu-id="9d30d-134">**Note** MinZ and MaxZ indicate the depth-ranges into which the scene will be rendered and are not used for clipping.</span></span> <span data-ttu-id="9d30d-135">Die meisten Anwendungen setzen diese Werte zwischen 0,0 und 1,0, damit das System das Rendering für den gesamten Bereich der Tiefenwerte im Tiefenpuffer durchführen kann.</span><span class="sxs-lookup"><span data-stu-id="9d30d-135">Most applications will set these values to 0.0 and 1.0, to enable the system to render to the entire range of depth values in the depth buffer.</span></span> <span data-ttu-id="9d30d-136">In manchen Fällen können Sie durch die Verwendung anderer Tiefenbereiche besondere Effekte erzielen.</span><span class="sxs-lookup"><span data-stu-id="9d30d-136">In some cases, you can achieve special effects by using other depth ranges.</span></span> <span data-ttu-id="9d30d-137">So können Sie beispielsweise zum Rendern einer Heads-up-Ansicht in einem Spiel beide Werte auf 0,0 setzen, damit das System Objekte in einer Szene im Vordergrund rendert; oder Sie setzen beide Werte auf 1,0, um ein Objekt zu rendern, das sich immer im Hintergrund befinden soll.</span><span class="sxs-lookup"><span data-stu-id="9d30d-137">For instance, to render a heads-up display in a game, you can set both values to 0.0 to force the system to render objects in a scene in the foreground, or you might set them both to 1.0 to render an object that should always be in the background.</span></span>

 

<span data-ttu-id="9d30d-138">Die Abmessungen, die für die Mitglieder X, Y, Breite und Höhe einer Viewport-Struktur verwendet werden, legen den Ort und die Abmessungen des Viewports auf der Renderzieloberfläche fest.</span><span class="sxs-lookup"><span data-stu-id="9d30d-138">The dimensions used in the X, Y, Width, Height members of a viewport struct define the location and dimensions of the viewport on the render-target surface.</span></span> <span data-ttu-id="9d30d-139">Diese Werte sind in Bildschirmkoordinaten relativ zur oberen linken Ecke der Oberfläche ausgedrückt.</span><span class="sxs-lookup"><span data-stu-id="9d30d-139">These values are in screen coordinates, relative to the upper-left corner of the surface.</span></span>

<span data-ttu-id="9d30d-140">Direct3D verwendet Position und Abmessungen des Viewports zur Skalierung der Scheitelpunkte, so dass eine gerenderte Szene an den korrekte Ort auf der Zieloberfläche passt.</span><span class="sxs-lookup"><span data-stu-id="9d30d-140">Direct3D uses the viewport location and dimensions to scale the vertices to fit a rendered scene into the appropriate location on the target surface.</span></span> <span data-ttu-id="9d30d-141">Intern fügt Direct3D diese Werte in die folgende Matrix ein, die auf jeden Scheitelpunkt angewendet wird.</span><span class="sxs-lookup"><span data-stu-id="9d30d-141">Internally, Direct3D inserts these values into the following matrix that is applied to each vertex.</span></span>

![Gleichung der Matrix, die auf alle Scheitelpunkte angewendet wird](images/vpscale.png)

<span data-ttu-id="9d30d-143">Diese Matrix skaliert Scheitelpunkte gemäß den Viewport-Abmessungen und dem gewünschten Tiefenbereich und übersetzt sie zum jeweiligen Ort auf der Renderzieloberfläche.</span><span class="sxs-lookup"><span data-stu-id="9d30d-143">This matrix scales vertices according to the viewport dimensions and desired depth range and translates them to the appropriate location on the render-target surface.</span></span> <span data-ttu-id="9d30d-144">Die Matrix wechselt auch die y-Koordinate zur Reflexion eines Bildschirmursprungs in der linken oberen Ecke mit abwärts zunehmenden y-Werten.</span><span class="sxs-lookup"><span data-stu-id="9d30d-144">The matrix also flips the y-coordinate to reflect a screen origin at the top-left corner with y increasing downward.</span></span> <span data-ttu-id="9d30d-145">Nach der Anwendung der Matrix sind die Scheitelpunkte weiterhin homogen – das heißt, sie sind \[x,y,z,w\]-Scheitelpunkte – und müssen zu nicht-homogenen Koordinaten konvertiert werden, bevor sie an den Rasterizer gesendet werden.</span><span class="sxs-lookup"><span data-stu-id="9d30d-145">After this matrix is applied, vertices are still homogeneous - that is, they still exist as \[x,y,z,w\] vertices - and they must be converted to non-homogeneous coordinates before being sent to the rasterizer.</span></span>

<span data-ttu-id="9d30d-146">**Hinweis:**  Anwendungen in der Regel setzen MinZ und MaxZ 0,0 und 1,0, damit das System für den gesamten Tiefenbereich.</span><span class="sxs-lookup"><span data-stu-id="9d30d-146">**Note** Applications typically set MinZ and MaxZ to 0.0 and 1.0 respectively to cause the system to render to the entire depth range.</span></span> <span data-ttu-id="9d30d-147">Sie können aber auch andere Werte verwenden, um besondere Effekte zu erzielen.</span><span class="sxs-lookup"><span data-stu-id="9d30d-147">However, you can use other values to achieve certain affects.</span></span> <span data-ttu-id="9d30d-148">So können Sie etwa beide Werte auf 0,0 setzen, um alle Objekte in den Vordergrund zu zwingen, oder auf 1,0, um alle Objekte im Hintergrund zu rendern.</span><span class="sxs-lookup"><span data-stu-id="9d30d-148">For example, you might set both values to 0.0 to force all objects into the foreground, or set both to 1.0 to render all objects into the background.</span></span>

 

## <a name="span-idclearingaviewportspanspan-idclearingaviewportspanspan-idclearingaviewportspanclearing-a-viewport"></a><span data-ttu-id="9d30d-149"><span id="Clearing_a_Viewport"></span><span id="clearing_a_viewport"></span><span id="CLEARING_A_VIEWPORT"></span>Löschen eines Viewports</span><span class="sxs-lookup"><span data-stu-id="9d30d-149"><span id="Clearing_a_Viewport"></span><span id="clearing_a_viewport"></span><span id="CLEARING_A_VIEWPORT"></span>Clearing a Viewport</span></span>


<span data-ttu-id="9d30d-150">Durch das Löschen des Viewports werden die Inhalte des Viewportrechtecks auf der Renderzieloberfläche zurückgesetzt.</span><span class="sxs-lookup"><span data-stu-id="9d30d-150">Clearing the viewport resets the contents of the viewport rectangle on the render-target surface.</span></span> <span data-ttu-id="9d30d-151">Dies kann auch das Rechteck auf den Tiefen- und Schablonenpufferoberflächen löschen.</span><span class="sxs-lookup"><span data-stu-id="9d30d-151">It can also clear the rectangle in the depth and stencil buffer surfaces.</span></span>

## <a name="span-idsetuptheviewportforclippingspanspan-idsetuptheviewportforclippingspanspan-idsetuptheviewportforclippingspanset-up-the-viewport-for-clipping"></a><span data-ttu-id="9d30d-152"><span id="Set_Up_the_Viewport_for_Clipping"></span><span id="set_up_the_viewport_for_clipping"></span><span id="SET_UP_THE_VIEWPORT_FOR_CLIPPING"></span>Einrichten des Viewports zum Beschneiden</span><span class="sxs-lookup"><span data-stu-id="9d30d-152"><span id="Set_Up_the_Viewport_for_Clipping"></span><span id="set_up_the_viewport_for_clipping"></span><span id="SET_UP_THE_VIEWPORT_FOR_CLIPPING"></span>Set Up the Viewport for Clipping</span></span>


<span data-ttu-id="9d30d-153">Die Ergebnisse der Projektionsmatrix bestimmen das Zuschneidungsvolumen im Projektionsbereich als:</span><span class="sxs-lookup"><span data-stu-id="9d30d-153">The results of the projection matrix determine the clipping volume in projection space as:</span></span>

<span data-ttu-id="9d30d-154">-w<sub>c</sub>&lt;= x<sub>c</sub>&lt;= w<sub>c</sub></span><span class="sxs-lookup"><span data-stu-id="9d30d-154">-w<sub>c</sub>&lt;= x<sub>c</sub>&lt;= w<sub>c</sub></span></span>

<span data-ttu-id="9d30d-155">-w<sub>c</sub>&lt;= y<sub>c</sub>&lt;= w<sub>c</sub></span><span class="sxs-lookup"><span data-stu-id="9d30d-155">-w<sub>c</sub>&lt;= y<sub>c</sub>&lt;= w<sub>c</sub></span></span>

<span data-ttu-id="9d30d-156">0 &lt;= z<sub>c</sub>&lt;= w<sub>c</sub></span><span class="sxs-lookup"><span data-stu-id="9d30d-156">0 &lt;= z<sub>c</sub>&lt;= w<sub>c</sub></span></span>

<span data-ttu-id="9d30d-157">Dabei gilt: x, y, z und w stehen für die Scheitelpunktkoordinaten nach Anwendung der Projektionstransformation.</span><span class="sxs-lookup"><span data-stu-id="9d30d-157">Where: x, y, z, and w represent the vertex coordinates after the projection transformation is applied.</span></span> <span data-ttu-id="9d30d-158">Alle Scheitelpunkte mit einer x-, y- oder z-Komponente außerhalb dieser Bereiche werden abgeschnitten, wenn die Zuschneidung aktiviert ist (dies ist das Standardverhalten).</span><span class="sxs-lookup"><span data-stu-id="9d30d-158">Any vertices that have an x-, y-, or z-component outside these ranges are clipped, if clipping is enabled (the default behavior).</span></span>

## <a name="span-idrelated-topicsspanrelated-topics"></a><span data-ttu-id="9d30d-159"><span id="related-topics"></span>Verwandte Themen</span><span class="sxs-lookup"><span data-stu-id="9d30d-159"><span id="related-topics"></span>Related topics</span></span>


[<span data-ttu-id="9d30d-160">Koordinatensysteme und Geometrie</span><span class="sxs-lookup"><span data-stu-id="9d30d-160">Coordinate systems and geometry</span></span>](coordinate-systems-and-geometry.md)

 

 




