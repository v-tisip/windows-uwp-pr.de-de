---
title: Konfigurieren der Tiefenschablonenfunktionalität
description: In diesem Abschnitt werden die Schritte zum Einrichten des Tiefenschablonenpuffers und der Tiefenschablonenphase für die Ausgabezusammenführungsphase behandelt.
ms.assetid: B3F6CDAA-93ED-4DC1-8E69-972C557C7920
keywords:
- Konfigurieren der Tiefenschablonenfunktionalität
ms.date: 02/08/2017
ms.topic: article
ms.localizationpriority: medium
ms.openlocfilehash: 98cb6c62248fbf273a9d7ca1ef0d1d82293122eb
ms.sourcegitcommit: d2517e522cacc5240f7dffd5bc1eaa278e3f7768
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 11/30/2018
ms.locfileid: "8345364"
---
# <a name="span-iddirect3dconceptsconfiguringdepth-stencilfunctionalityspanconfiguring-depth-stencil-functionality"></a><span data-ttu-id="b6d4c-104"><span id="direct3dconcepts.configuring_depth-stencil_functionality"></span>Konfigurieren der Tiefenschablonenfunktionalität</span><span class="sxs-lookup"><span data-stu-id="b6d4c-104"><span id="direct3dconcepts.configuring_depth-stencil_functionality"></span>Configuring depth-stencil functionality</span></span>


<span data-ttu-id="b6d4c-105">In diesem Abschnitt werden die Schritte zum Einrichten des Tiefenschablonenpuffers und der Tiefenschablonenphase für die Ausgabezusammenführungsphase behandelt.</span><span class="sxs-lookup"><span data-stu-id="b6d4c-105">This section covers the steps for setting up the depth-stencil buffer, and depth-stencil state for the output-merger stage.</span></span>

<span data-ttu-id="b6d4c-106">Wenn Sie mit dem Tiefenschablonenpuffer und der entsprechenden Tiefenschablonenphase umgehen können, finden Sie weitere Informationen unter [erweiterte Schablonen-Techniken](#advanced-stencil-techniques).</span><span class="sxs-lookup"><span data-stu-id="b6d4c-106">Once you know how to use the depth-stencil buffer and the corresponding depth-stencil state, refer to [advanced-stencil techniques](#advanced-stencil-techniques).</span></span>

## <a name="span-idcreatedepthstencilstatespanspan-idcreatedepthstencilstatespanspan-idcreatedepthstencilstatespancreate-depth-stencil-state"></a><span data-ttu-id="b6d4c-107"><span id="Create_Depth_Stencil_State"></span><span id="create_depth_stencil_state"></span><span id="CREATE_DEPTH_STENCIL_STATE"></span>Erstellen der Tiefenschablonenphase</span><span class="sxs-lookup"><span data-stu-id="b6d4c-107"><span id="Create_Depth_Stencil_State"></span><span id="create_depth_stencil_state"></span><span id="CREATE_DEPTH_STENCIL_STATE"></span>Create Depth-Stencil State</span></span>


<span data-ttu-id="b6d4c-108">Die Tiefenschablonenphase zeigt den Zustand der Ausgabezusammenführungsphase zum Ausführen des [Tiefenschablonen-Test](https://msdn.microsoft.com/library/windows/desktop/bb205120) an.</span><span class="sxs-lookup"><span data-stu-id="b6d4c-108">The depth-stencil state tells the output-merger stage how to perform the [depth-stencil test](https://msdn.microsoft.com/library/windows/desktop/bb205120).</span></span> <span data-ttu-id="b6d4c-109">Der Tiefenschablonen-Test bestimmt, ob eine gegebene Pixel gezeichnet werden soll oder nicht.</span><span class="sxs-lookup"><span data-stu-id="b6d4c-109">The depth-stencil test determines whether or not a given pixel should be drawn.</span></span>

## <a name="span-idbinddepthstenciltotheomstagespanspan-idbinddepthstenciltotheomstagespanspan-idbinddepthstenciltotheomstagespanbind-depth-stencil-data-to-the-om-stage"></a><span data-ttu-id="b6d4c-110"><span id="Bind_Depth_Stencil_to_the_OM_Stage"></span><span id="bind_depth_stencil_to_the_om_stage"></span><span id="BIND_DEPTH_STENCIL_TO_THE_OM_STAGE"></span>Binden von Tiefenschablonendaten an die OM-Phase</span><span class="sxs-lookup"><span data-stu-id="b6d4c-110"><span id="Bind_Depth_Stencil_to_the_OM_Stage"></span><span id="bind_depth_stencil_to_the_om_stage"></span><span id="BIND_DEPTH_STENCIL_TO_THE_OM_STAGE"></span>Bind Depth-Stencil Data to the OM Stage</span></span>


<span data-ttu-id="b6d4c-111">Binden der Tiefenschablonenphase</span><span class="sxs-lookup"><span data-stu-id="b6d4c-111">Bind the depth-stencil state.</span></span>

<span data-ttu-id="b6d4c-112">Binden der Tiefenschablonen-Ressource mithilfe der Ansicht.</span><span class="sxs-lookup"><span data-stu-id="b6d4c-112">Bind the depth-stencil resource using a view.</span></span>

<span data-ttu-id="b6d4c-113">Renderziele müssen alle den gleichen Ressourcentyp verwenden.</span><span class="sxs-lookup"><span data-stu-id="b6d4c-113">Render targets must all be the same type of resource.</span></span> <span data-ttu-id="b6d4c-114">Wenn Multisampling-Antialiasing verwendet wird, müssen alle gebundenen Renderziele und Tiefenpuffer über die gleiche Beispielanzahl verfügen.</span><span class="sxs-lookup"><span data-stu-id="b6d4c-114">If multisample antialiasing is used, all bound render targets and depth buffers must have the same sample counts.</span></span>

<span data-ttu-id="b6d4c-115">Wenn ein Puffer als Renderziel verwendet wird, werden Tiefenschablonen-Tests und mehrere Renderziele nicht unterstützt.</span><span class="sxs-lookup"><span data-stu-id="b6d4c-115">When a buffer is used as a render target, depth-stencil testing and multiple render targets are not supported.</span></span>

-   <span data-ttu-id="b6d4c-116">Es können bis zu 8 Renderziele gleichzeitig gebunden werden.</span><span class="sxs-lookup"><span data-stu-id="b6d4c-116">As many as 8 render targets can be bound simultaneously.</span></span>
-   <span data-ttu-id="b6d4c-117">Alle Renderziele müssen die gleiche Größe für alle Dimensionen haben (Breite, Höhe und Tiefe für 3D oder Array-Größen für \*Array-Typen).</span><span class="sxs-lookup"><span data-stu-id="b6d4c-117">All render targets must have the same size in all dimensions (width and height, and depth for 3D or array size for \*Array types).</span></span>
-   <span data-ttu-id="b6d4c-118">Jedes Renderziel kann ein anderes Datenformat haben.</span><span class="sxs-lookup"><span data-stu-id="b6d4c-118">Each render target may have a different data format.</span></span>
-   <span data-ttu-id="b6d4c-119">Schreib-Masken überwachen, welche Daten in ein Renderziel geschrieben werden.</span><span class="sxs-lookup"><span data-stu-id="b6d4c-119">Write masks control what data gets written to a render target.</span></span> <span data-ttu-id="b6d4c-120">Die Ausgabe-Schreib-Maske überwacht pro Renderziel und pro Komponentenebene, welche Daten in ein Renderziel geschrieben werden.</span><span class="sxs-lookup"><span data-stu-id="b6d4c-120">The output write masks control on a per-render target, per-component level what data gets written to the render target(s).</span></span>

## <a name="span-idadvancedstenciltechniquesspanspan-idadvancedstenciltechniquesspanspan-idadvancedstenciltechniquesspanspan-idadvanced-stencil-techniquesspanadvanced-stencil-techniques"></a><span data-ttu-id="b6d4c-121"><span id="Advanced_Stencil_Techniques"></span><span id="advanced_stencil_techniques"></span><span id="ADVANCED_STENCIL_TECHNIQUES"></span><span id="advanced-stencil-techniques"></span>Erweiterte Schablonen-Techniken</span><span class="sxs-lookup"><span data-stu-id="b6d4c-121"><span id="Advanced_Stencil_Techniques"></span><span id="advanced_stencil_techniques"></span><span id="ADVANCED_STENCIL_TECHNIQUES"></span><span id="advanced-stencil-techniques"></span>Advanced Stencil Techniques</span></span>


<span data-ttu-id="b6d4c-122">Der Schablonen-Anteil des Tiefenschablonenpuffers kann zur Erstellung von Rendering-Effekten, wie Zusammensetzen, Decals und Gliedern verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="b6d4c-122">The stencil portion of the depth-stencil buffer can be used for creating rendering effects such as compositing, decaling, and outlining.</span></span>

-   [<span data-ttu-id="b6d4c-123">Zusammensetzen</span><span class="sxs-lookup"><span data-stu-id="b6d4c-123">Compositing</span></span>](#compositing)
-   [<span data-ttu-id="b6d4c-124">Decals verwenden</span><span class="sxs-lookup"><span data-stu-id="b6d4c-124">Decaling</span></span>](#decaling)
-   [<span data-ttu-id="b6d4c-125">Umrisse und Silhouetten</span><span class="sxs-lookup"><span data-stu-id="b6d4c-125">Outlines and Silhouettes</span></span>](#outlines-and-silhouettes)
-   [<span data-ttu-id="b6d4c-126">Zweiseitige Schablone</span><span class="sxs-lookup"><span data-stu-id="b6d4c-126">Two-Sided Stencil</span></span>](#two-sided-stencil)
-   [<span data-ttu-id="b6d4c-127">Den Tiefenschablonenpuffers als Textur lesen</span><span class="sxs-lookup"><span data-stu-id="b6d4c-127">Reading the Depth-Stencil Buffer as a Texture</span></span>](#reading-the-depth-stencil-buffer-as-a-texture)

### <a name="span-idcompositingspanspan-idcompositingspanspan-idcompositingspancompositing"></a><span data-ttu-id="b6d4c-128"><span id="Compositing"></span><span id="compositing"></span><span id="COMPOSITING"></span>Zusammensetzen</span><span class="sxs-lookup"><span data-stu-id="b6d4c-128"><span id="Compositing"></span><span id="compositing"></span><span id="COMPOSITING"></span>Compositing</span></span>

<span data-ttu-id="b6d4c-129">Ihre Anwendung kann die Schablonenpuffer verwenden, um 2D- oder 3D-Bilder mit einer 3D-Szene zu kombinieren.</span><span class="sxs-lookup"><span data-stu-id="b6d4c-129">Your application can use the stencil buffer to composite 2D or 3D images onto a 3D scene.</span></span> <span data-ttu-id="b6d4c-130">Auf der Renderzieloberfläche wird mit einer Maske in dem Schablonenpuffer ein Bereich verdeckt.</span><span class="sxs-lookup"><span data-stu-id="b6d4c-130">A mask in the stencil buffer is used to occlude an area of the rendering target surface.</span></span> <span data-ttu-id="b6d4c-131">Gespeicherte 2D-Informationen, z.B. Text oder Bitmaps, können dann in den verdeckten Bereich geschrieben werden.</span><span class="sxs-lookup"><span data-stu-id="b6d4c-131">Stored 2D information, such as text or bitmaps, can then be written to the occluded area.</span></span> <span data-ttu-id="b6d4c-132">Alternativ kann die Anwendung weitere 3D-Grundtypen auf den durch die Schablone maskierten Bereich der Renderzieloberfläche rendern.</span><span class="sxs-lookup"><span data-stu-id="b6d4c-132">Alternately, your application can render additional 3D primitives to the stencil-masked region of the rendering target surface.</span></span> <span data-ttu-id="b6d4c-133">Es kann sogar eine ganze Szene gerendert werden.</span><span class="sxs-lookup"><span data-stu-id="b6d4c-133">It can even render an entire scene.</span></span>

<span data-ttu-id="b6d4c-134">In Spielen sind häufig mehrere 3D-Szenen zusammengesetzt.</span><span class="sxs-lookup"><span data-stu-id="b6d4c-134">Games often composite multiple 3D scenes together.</span></span> <span data-ttu-id="b6d4c-135">Zum Beispiel gibt es in Fahrspielen normalerweise einen Rückspiegel.</span><span class="sxs-lookup"><span data-stu-id="b6d4c-135">For instance, driving games typically display a rear-view mirror.</span></span> <span data-ttu-id="b6d4c-136">Im Spiegel ist die Ansicht der 3D-Szene hinter dem Fahrer sichtbar.</span><span class="sxs-lookup"><span data-stu-id="b6d4c-136">The mirror contains the view of the 3D scene behind the driver.</span></span> <span data-ttu-id="b6d4c-137">Das ist im Grunde eine zweite 3D-Szene, die mit der Sicht des Fahrers nach vorne zusammengesetzt ist.</span><span class="sxs-lookup"><span data-stu-id="b6d4c-137">It is essentially a second 3D scene composited with the driver's forward view.</span></span>

### <a name="span-iddecalingspanspan-iddecalingspanspan-iddecalingspandecaling"></a><span data-ttu-id="b6d4c-138"><span id="Decaling"></span><span id="decaling"></span><span id="DECALING"></span>Rasterung</span><span class="sxs-lookup"><span data-stu-id="b6d4c-138"><span id="Decaling"></span><span id="decaling"></span><span id="DECALING"></span>Decaling</span></span>

<span data-ttu-id="b6d4c-139">Direct3D-Anwendungen steuern über die Rasterung, welche Pixel aus einem bestimmten Grundtypbild auf die Renderzieloberfläche gezeichnet werden.</span><span class="sxs-lookup"><span data-stu-id="b6d4c-139">Direct3D applications use decaling to control which pixels from a particular primitive image are drawn to the rendering target surface.</span></span> <span data-ttu-id="b6d4c-140">Anwendungen wenden Rasterungen für die Bilder der Grundtypen an, um komplanare Polygone richtig zu rendern.</span><span class="sxs-lookup"><span data-stu-id="b6d4c-140">Applications apply decals to the images of primitives to enable coplanar polygons to render correctly.</span></span>

<span data-ttu-id="b6d4c-141">Zum Beispiel sollten für die Darstellung von Reifenspuren und gelben Linien auf einer Straße die Reifenspuren direkt auf der Straße angezeigt werden.</span><span class="sxs-lookup"><span data-stu-id="b6d4c-141">For instance, when applying tire marks and yellow lines to a roadway, the markings should appear directly on top of the road.</span></span> <span data-ttu-id="b6d4c-142">Die Z-Werte für die Reifenspuren und die Straße sind aber gleich.</span><span class="sxs-lookup"><span data-stu-id="b6d4c-142">However, the z values of the markings and the road are the same.</span></span> <span data-ttu-id="b6d4c-143">Der Tiefenpuffer kann deshalb eventuell keine klare Trennung zwischen den beiden erzeugen.</span><span class="sxs-lookup"><span data-stu-id="b6d4c-143">Therefore, the depth buffer might not produce a clean separation between the two.</span></span> <span data-ttu-id="b6d4c-144">Einige Pixel im Hintergrund-Grundtyp werden möglicherweise auf dem Vordergrund-Grundtyp (und umgekehrt) gerendert.</span><span class="sxs-lookup"><span data-stu-id="b6d4c-144">Some pixels in the back primitive may be rendered on top of the front primitive and vice versa.</span></span> <span data-ttu-id="b6d4c-145">Das resultierende Bild scheint von Frame zu Frame zu schimmern.</span><span class="sxs-lookup"><span data-stu-id="b6d4c-145">The resulting image appears to shimmer from frame to frame.</span></span> <span data-ttu-id="b6d4c-146">Dieser Effekt wird „Z-Konflikt” oder „Flimmern” genannt.</span><span class="sxs-lookup"><span data-stu-id="b6d4c-146">This effect is called z-fighting or flimmering.</span></span>

<span data-ttu-id="b6d4c-147">Um dieses Problem zu beheben, verwenden Sie eine Schablone, mit der der Abschnitt des Hintergrund-Grundtyps maskiert wird, an dem die Rasterung angezeigt wird.</span><span class="sxs-lookup"><span data-stu-id="b6d4c-147">To solve this problem, use a stencil to mask the section of the back primitive where the decal will appear.</span></span> <span data-ttu-id="b6d4c-148">Deaktivieren Sie die Z-Pufferung und rendern Sie das Bild des im Vordergrund stehenden Grundtyps auf den maskierten Bereich der Renderzieloberfläche.</span><span class="sxs-lookup"><span data-stu-id="b6d4c-148">Turn off z-buffering and render the image of the front primitive into the masked-off area of the render-target surface.</span></span>

<span data-ttu-id="b6d4c-149">Mischen Sie unterschiedliche Texturen, um das Problem zu lösen.</span><span class="sxs-lookup"><span data-stu-id="b6d4c-149">Multiple texture blending can be used to solve this problem.</span></span>

### <a name="span-idoutlinesandsilhouettesspanspan-idoutlinesandsilhouettesspanspan-idoutlinesandsilhouettesspanspan-idoutlines-and-silhouettesoutlines-and-silhouettes"></a><span data-ttu-id="b6d4c-150"><span id="Outlines_and_Silhouettes"></span><span id="outlines_and_silhouettes"></span><span id="OUTLINES_AND_SILHOUETTES"></span><span id="outlines-and-silhouettes">Umrisse und Silhouetten</span><span class="sxs-lookup"><span data-stu-id="b6d4c-150"><span id="Outlines_and_Silhouettes"></span><span id="outlines_and_silhouettes"></span><span id="OUTLINES_AND_SILHOUETTES"></span><span id="outlines-and-silhouettes">Outlines and Silhouettes</span></span>

<span data-ttu-id="b6d4c-151">Sie können die Schablonenpuffer für abstraktere Effekte wie Skizzieren und das Erstellen von Silhouetten verwenden.</span><span class="sxs-lookup"><span data-stu-id="b6d4c-151">You can use the stencil buffer for more abstract effects, such as outlining and silhouetting.</span></span>

<span data-ttu-id="b6d4c-152">Wenn Ihre Anwendung zwei Render-Durchgänge durchführt – einen zum Erstellen der Schablonenmaske und den zweiten zum Anwenden der Schablonenmaske auf das Bild, wobei die Grundtypen beim zweiten Durchgang etwas kleiner sind - enthält das resultierende Bild nur den Umriss des Grundtyps.</span><span class="sxs-lookup"><span data-stu-id="b6d4c-152">If your application does two render passes - one to generate the stencil mask and second to apply the stencil mask to the image, but with the primitives slightly smaller on the second pass - the resulting image will contain only the primitive's outline.</span></span> <span data-ttu-id="b6d4c-153">Die Anwendung kann anschließend den von der Schablone maskierten Bereich des Bilds mit einer Volltonfarbe ausfüllen, um den Grundtyp mit Relief darzustellen.</span><span class="sxs-lookup"><span data-stu-id="b6d4c-153">The application can then fill the stencil-masked area of the image with a solid color, giving the primitive an embossed look.</span></span>

<span data-ttu-id="b6d4c-154">Wenn die Schablonenmaske die gleiche Größe und Form wie der Grundtyp hat, den Sie rendern, enthält das resultierende Bild an der Stelle eine Lücke, an der sich der Grundtyp befinden sollte.</span><span class="sxs-lookup"><span data-stu-id="b6d4c-154">If the stencil mask is the same size and shape as the primitive you are rendering, the resulting image contains a hole where the primitive should be.</span></span> <span data-ttu-id="b6d4c-155">Ihre Anwendung kann anschließend die Lücke mit Schwarz füllen, um eine Silhouette des Grundtyps zu erstellen.</span><span class="sxs-lookup"><span data-stu-id="b6d4c-155">Your application can then fill the hole with black to produce a silhouette of the primitive.</span></span>

### <a name="span-idtwosidedstencilspanspan-idtwosidedstencilspanspan-idtwosidedstencilspantwo-sided-stencil"></a><span data-ttu-id="b6d4c-156"><span id="Two_Sided_Stencil"></span><span id="two_sided_stencil"></span><span id="TWO_SIDED_STENCIL"></span>Zweiseitige Schablone</span><span class="sxs-lookup"><span data-stu-id="b6d4c-156"><span id="Two_Sided_Stencil"></span><span id="two_sided_stencil"></span><span id="TWO_SIDED_STENCIL"></span>Two-Sided Stencil</span></span>

<span data-ttu-id="b6d4c-157">Schattenvolumen dienen zum Zeichnen von Schatten mithilfe des Schablonenpuffers.</span><span class="sxs-lookup"><span data-stu-id="b6d4c-157">Shadow Volumes are used for drawing shadows with the stencil buffer.</span></span> <span data-ttu-id="b6d4c-158">Die Anwendung berechnet die Schattenvolumenumwandlung durch verdeckende Geometrie, indem die Ränder der Silhouette berechnet und aus dem Licht in eine Gruppe von 3D-Volumen extrudiert werden.</span><span class="sxs-lookup"><span data-stu-id="b6d4c-158">The application computes the shadow volumes cast by occluding geometry, by computing the silhouette edges and extruding them away from the light into a set of 3D volumes.</span></span> <span data-ttu-id="b6d4c-159">Diese Volumen werden dann zweimal in den Schablonenpuffer gerendert.</span><span class="sxs-lookup"><span data-stu-id="b6d4c-159">These volumes are then rendered twice into the stencil buffer.</span></span>

<span data-ttu-id="b6d4c-160">Beim ersten Rendern werden die nach vorne gerichteten Polygone gezeichnet und die Werte im Schablonenpuffer erhöht.</span><span class="sxs-lookup"><span data-stu-id="b6d4c-160">The first render draws forward-facing polygons, and increments the stencil-buffer values.</span></span> <span data-ttu-id="b6d4c-161">Beim zweiten Rendern werden die nach hinten gerichteten Polygone des Schattenvolumens gezeichnet und die Werte im Schablonenpuffer verringert.</span><span class="sxs-lookup"><span data-stu-id="b6d4c-161">The second render draws the back-facing polygons of the shadow volume, and decrements the stencil buffer values.</span></span>

<span data-ttu-id="b6d4c-162">In der Regel heben sich alle verringerten Werte gegenseitig. Allerdings wurde die Szene bereits mit normaler Geometrie, die für einige Pixel den Z-Puffer-Test Rendern des schattenvolumens nicht erfolgreich beim gerendert.</span><span class="sxs-lookup"><span data-stu-id="b6d4c-162">Normally, all incremented and decremented values cancel each other out. However, the scene was already rendered with normal geometry causing some pixels to fail the z-buffer test as the shadow volume is rendered.</span></span> <span data-ttu-id="b6d4c-163">Werte, die im Schablonenpuffer verblieben sind, entsprechen den Pixeln, die sich im Schatten befinden.</span><span class="sxs-lookup"><span data-stu-id="b6d4c-163">Values left in the stencil buffer correspond to pixels that are in the shadow.</span></span> <span data-ttu-id="b6d4c-164">Dieser verbliebene Inhalt des Schablonenpuffers wird als Maske verwendet, um ein großes, allumfassendes schwarzes Viereck in der Szene per Alpha-Überblendung zu überlagern.</span><span class="sxs-lookup"><span data-stu-id="b6d4c-164">These remaining stencil-buffer contents are used as a mask, to alpha-blend a large, all-encompassing black quad into the scene.</span></span> <span data-ttu-id="b6d4c-165">Das Ergebnis der Verwendung des Schablonenpuffers als Maske besteht darin, dass Pixel, die im Schatten liegen, dunkler werden.</span><span class="sxs-lookup"><span data-stu-id="b6d4c-165">With the stencil buffer acting as a mask, the result is to darken pixels that are in the shadows.</span></span>

<span data-ttu-id="b6d4c-166">Dies bedeutet, dass die Schattengeometrie zweimal pro Lichtquelle gezeichnet wird, und somit der Vertexdurchsatz der GPU stark belastet wird.</span><span class="sxs-lookup"><span data-stu-id="b6d4c-166">This means that the shadow geometry is drawn twice per light source, hence putting pressure on the vertex throughput of the GPU.</span></span> <span data-ttu-id="b6d4c-167">Das Feature „zweiseitige Schablone” wurde entwickelt, um diese Situation abzuschwächen.</span><span class="sxs-lookup"><span data-stu-id="b6d4c-167">The two-sided stencil feature has been designed to mitigate this situation.</span></span> <span data-ttu-id="b6d4c-168">In diesen Ansatz gibt es zwei Gruppen von Schablonenzuständen, einen für die nach vorne gerichteten Dreiecke und den anderen für die nach hinten gerichteten Dreiecke.</span><span class="sxs-lookup"><span data-stu-id="b6d4c-168">In this approach, there are two sets of stencil state (named below), one set each for the front-facing triangles and the other for the back-facing triangles.</span></span> <span data-ttu-id="b6d4c-169">Auf diese Weise wird nur ein einziger Durchlauf pro Schattenvolumen pro Lichtquelle gezeichnet.</span><span class="sxs-lookup"><span data-stu-id="b6d4c-169">This way, only a single pass is drawn per shadow volume, per light.</span></span>

### <a name="span-idreadingthedepth-stencilbufferasatexturespanspan-idreadingthedepth-stencilbufferasatexturespanspan-idreadingthedepth-stencilbufferasatexturespanspan-idreading-the-depth-stencil-buffer-as-a-texturespanreading-the-depth-stencil-buffer-as-a-texture"></a><span data-ttu-id="b6d4c-170"><span id="Reading_the_Depth-Stencil_Buffer_as_a_Texture"></span><span id="reading_the_depth-stencil_buffer_as_a_texture"></span><span id="READING_THE_DEPTH-STENCIL_BUFFER_AS_A_TEXTURE"></span><span id="reading-the-depth-stencil-buffer-as-a-texture"></span>Den Tiefenschablonenpuffers als Textur lesen</span><span class="sxs-lookup"><span data-stu-id="b6d4c-170"><span id="Reading_the_Depth-Stencil_Buffer_as_a_Texture"></span><span id="reading_the_depth-stencil_buffer_as_a_texture"></span><span id="READING_THE_DEPTH-STENCIL_BUFFER_AS_A_TEXTURE"></span><span id="reading-the-depth-stencil-buffer-as-a-texture"></span>Reading the Depth-Stencil Buffer as a Texture</span></span>

<span data-ttu-id="b6d4c-171">Ein inaktiver Tiefenschablonenpuffer kann von einem Shader als Textur gelesen werden.</span><span class="sxs-lookup"><span data-stu-id="b6d4c-171">An inactive depth-stencil buffer can be read by a shader as a texture.</span></span> <span data-ttu-id="b6d4c-172">Eine Anwendung, die einen Tiefenschablonenpuffer als Textur liest, rendert in zwei Durchgängen. Der erste Durchgang schreibt in den Tiefenschablonenpuffer und der zweite Durchgang liest aus dem Puffer.</span><span class="sxs-lookup"><span data-stu-id="b6d4c-172">An application that reads a depth-stencil buffer as a texture renders in two passes, the first pass writes to the depth-stencil buffer and the second pass reads from the buffer.</span></span> <span data-ttu-id="b6d4c-173">Dadurch kann der Shader die vorher in den Puffer geschriebenen Tiefen- oder Schablonenwerte mit dem aktuell gerenderten Pixelwert vergleichen.</span><span class="sxs-lookup"><span data-stu-id="b6d4c-173">This allows a shader to compare depth or stencil values previously written to the buffer against the value for the pixel currrently being rendered.</span></span> <span data-ttu-id="b6d4c-174">Das Ergebnis des Vergleichs kann zur Erstellung von Effekten wie Schattenabbildungen oder weichen Partikeln in einem bestimmten System verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="b6d4c-174">The result of the comparison can be used to create effects such as shadow mapping or soft particles in a particle system.</span></span>

## <a name="span-idrelated-topicsspanrelated-topics"></a><span data-ttu-id="b6d4c-175"><span id="related-topics"></span>Verwandte Themen</span><span class="sxs-lookup"><span data-stu-id="b6d4c-175"><span id="related-topics"></span>Related topics</span></span>


[<span data-ttu-id="b6d4c-176">Ausgabezusammenführungsphase (OM)</span><span class="sxs-lookup"><span data-stu-id="b6d4c-176">Output Merger (OM) stage</span></span>](output-merger-stage--om-.md)

[<span data-ttu-id="b6d4c-177">Grafikpipeline</span><span class="sxs-lookup"><span data-stu-id="b6d4c-177">Graphics pipeline</span></span>](graphics-pipeline.md)

[<span data-ttu-id="b6d4c-178">Ausgabezusammenführungsphase</span><span class="sxs-lookup"><span data-stu-id="b6d4c-178">Output-Merger Stage</span></span>](https://msdn.microsoft.com/library/windows/desktop/bb205120)
