---
author: normesta
Description: This article provides a deeper dive on how the Desktop Bridge works under the covers.
title: Hintergrundinformationen zur Desktop-Brücke
ms.author: normesta
ms.date: 05/25/2017
ms.topic: article
keywords: windows10, UWP
ms.assetid: a399fae9-122c-46c4-a1dc-a1a241e5547a
ms.localizationpriority: medium
ms.openlocfilehash: 2ff5cd40cad43a73a8ba51a25710e2f2cbaf2a7b
ms.sourcegitcommit: 144f5f127fc4fbd852f2f6780ef26054192d68fc
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 11/02/2018
ms.locfileid: "5991343"
---
# <a name="behind-the-scenes-of-your-packaged-desktop-application"></a><span data-ttu-id="927ac-103">Hinter den Kulissen der Ihre verpackte desktop-Anwendung</span><span class="sxs-lookup"><span data-stu-id="927ac-103">Behind the scenes of your packaged desktop application</span></span>

<span data-ttu-id="927ac-104">Dieser Artikel beschäftigt sich eingehender damit auf was mit Dateien und Registrierungseinträge, geschieht Wenn Sie ein Windows-app-Paket für Ihre desktop-Anwendung erstellen.</span><span class="sxs-lookup"><span data-stu-id="927ac-104">This article provides a deeper dive on what happens to files and registry entries when you create a Windows app package for your desktop application.</span></span>

<span data-ttu-id="927ac-105">Ein wichtiges Ziel der ein modernes Paket ist, Anwendungszustand vom Systemzustand bei gleichzeitiger Gewährleistung der Kompatibilität mit anderen apps so weit wie möglich zu trennen.</span><span class="sxs-lookup"><span data-stu-id="927ac-105">A key goal of a modern package is to separate application state from system state as much as possible while maintaining compatibility with other apps.</span></span> <span data-ttu-id="927ac-106">Die Brücke erreicht dies, indem sie die Anwendung in einem Paket für die universelle Windows-Plattform (UWP) platziert und anschließend einige zur Laufzeit am Dateisystem und an der Registrierung vorgenommene Änderungen ermittelt und umleitet.</span><span class="sxs-lookup"><span data-stu-id="927ac-106">The bridge accomplishes this by placing the application inside a Universal Windows Platform (UWP) package, and then detecting and redirecting some changes  it makes to the file system and registry at runtime.</span></span>

<span data-ttu-id="927ac-107">Pakete, die Sie für Ihre desktop-Anwendung erstellen, sind nur Desktop vertrauenswürdigen Anwendungen und sind nicht virtualisierten oder Sandbox.</span><span class="sxs-lookup"><span data-stu-id="927ac-107">Packages that you create for your desktop application are desktop-only, full-trust applications and are not virtualized or sandboxed.</span></span> <span data-ttu-id="927ac-108">Dies ermöglicht es ihnen, auf die gleiche Weise mit anderen Apps zu interagieren wie klassische Desktop-Anwendungen.</span><span class="sxs-lookup"><span data-stu-id="927ac-108">This allows them to interact with other apps the same way classic desktop applications do.</span></span>

## <a name="installation"></a><span data-ttu-id="927ac-109">Installation</span><span class="sxs-lookup"><span data-stu-id="927ac-109">Installation</span></span>

<span data-ttu-id="927ac-110">App-Pakete werden mit der ausführbaren Datei *app_name.exe* unter *C:\Programme\WindowsApps\package_name* installiert.</span><span class="sxs-lookup"><span data-stu-id="927ac-110">App packages are installed under *C:\Program Files\WindowsApps\package_name*, with the executable titled *app_name.exe*.</span></span> <span data-ttu-id="927ac-111">Jeder Paketordner enthält ein Manifest (AppxManifest.xml), das einen speziellen XML-Namespace für verpackte Apps enthält.</span><span class="sxs-lookup"><span data-stu-id="927ac-111">Each package folder contains a manifest (named AppxManifest.xml) that contains a special XML namespace for packaged apps.</span></span> <span data-ttu-id="927ac-112">In der Manifestdatei ist ein ```<EntryPoint>```-Element enthalten, das auf die vertrauenswürdige App verweist.</span><span class="sxs-lookup"><span data-stu-id="927ac-112">Inside that manifest file is an ```<EntryPoint>``` element, which references the full-trust app.</span></span> <span data-ttu-id="927ac-113">Wenn die Anwendung gestartet wird, wird es nicht im app-Container ausgeführt, jedoch stattdessen ausgeführt als des Benutzers wie gewohnt.</span><span class="sxs-lookup"><span data-stu-id="927ac-113">When that application is launched, it does not run inside an app container, but instead it runs as the user as it normally would.</span></span>

<span data-ttu-id="927ac-114">Nach der Bereitstellung werden Paketdateien als schreibgeschützt markiert und vom Betriebssystem gesperrt.</span><span class="sxs-lookup"><span data-stu-id="927ac-114">After deployment, package files are marked read-only and heavily locked down by the operating system.</span></span> <span data-ttu-id="927ac-115">Windows verhindert, dass Apps gestartet werden, wenn diese Dateien manipuliert werden.</span><span class="sxs-lookup"><span data-stu-id="927ac-115">Windows prevents apps from launching if these files are tampered with.</span></span>

## <a name="file-system"></a><span data-ttu-id="927ac-116">Dateisystem</span><span class="sxs-lookup"><span data-stu-id="927ac-116">File system</span></span>

<span data-ttu-id="927ac-117">Die Anwendung "appdata" vorgenommenen Änderungen werden erfasst, um app-Zustands.</span><span class="sxs-lookup"><span data-stu-id="927ac-117">In order to contain app state, changes that the application makes to AppData are captured.</span></span> <span data-ttu-id="927ac-118">Alle Schreibvorgänge in den AppData-Ordner des Benutzers (z.B. *C:\Benutzer\Benutzername\AppData*), einschließlich Erstellungs-, Lösch- und Aktualisierungsvorgänge, werden direkt an einen privaten Speicherort pro Benutzer und App kopiert.</span><span class="sxs-lookup"><span data-stu-id="927ac-118">All write to the user's AppData folder (e.g., *C:\Users\user_name\AppData*), including create, delete, and update, are copied on write to a private per-user, per-app location.</span></span> <span data-ttu-id="927ac-119">Dadurch entsteht den Eindruck, dass die verpackte Anwendung die tatsächliche AppData bearbeiten ist eigentlich eine private Kopie geändert wird.</span><span class="sxs-lookup"><span data-stu-id="927ac-119">This creates the illusion that the packaged application is editing the real AppData when it is actually modifying a private copy.</span></span> <span data-ttu-id="927ac-120">Durch eine derartige Umleitung von Schreibvorgängen kann das System alle von der App vorgenommenen Dateiänderungen nachverfolgen.</span><span class="sxs-lookup"><span data-stu-id="927ac-120">By redirecting writes this way, the system can track all file modifications made by the app.</span></span> <span data-ttu-id="927ac-121">Dadurch kann das System diese Dateien bereinigen, wenn die Anwendung deinstalliert wird, daher System "Running" reduzieren und eine bessere Anwendung deinstallationsmöglichkeiten bereitstellen für den Benutzer.</span><span class="sxs-lookup"><span data-stu-id="927ac-121">This allows the system to clean up those files when the application is uninstalled, thus reducing system "rot" and providing a better application removal experience for the user.</span></span>

<span data-ttu-id="927ac-122">Zusätzlich zur Umleitung von "appdata", werden bekannte Windows-Ordner ("System32", Programmdateien (x86) usw.) dynamisch mit den entsprechenden Verzeichnissen im app-Paket zusammengeführt.</span><span class="sxs-lookup"><span data-stu-id="927ac-122">In addition to redirecting AppData, Windows' well-known folders (System32, Program Files (x86), etc) are dynamically merged with corresponding directories in the app package.</span></span> <span data-ttu-id="927ac-123">Jedes verpackte Paket enthält im Stammverzeichnis einen Ordner mit dem Namen „VFS“.</span><span class="sxs-lookup"><span data-stu-id="927ac-123">Each package contains a folder named "VFS" at its root.</span></span> <span data-ttu-id="927ac-124">Alle Lesevorgänge für Verzeichnisse oder Dateien im VFS-Verzeichnis werden zur Laufzeit mit den jeweiligen nativen Entsprechungen zusammengeführt.</span><span class="sxs-lookup"><span data-stu-id="927ac-124">Any reads of directories or files in the VFS directory are merged at runtime with their respective native counterparts.</span></span> <span data-ttu-id="927ac-125">Z. B. eine Anwendung könnte *C:\Program Files\WindowsApps\package_name\VFS\SystemX86\vc10.dll* als Teil des app-Pakets enthalten, aber die Datei sähe auf *C:\Windows\System32\vc10.dll*installiert werden.</span><span class="sxs-lookup"><span data-stu-id="927ac-125">For example, an application could contain *C:\Program Files\WindowsApps\package_name\VFS\SystemX86\vc10.dll* as part of its app package, but the file would appear to be installed at *C:\Windows\System32\vc10.dll*.</span></span>  <span data-ttu-id="927ac-126">Dies gewährleistet die Kompatibilität mit Desktopanwendungen, die davon ausgehen, dass sich Dateien an Speicherorten ohne Pakete befinden.</span><span class="sxs-lookup"><span data-stu-id="927ac-126">This maintains compatibility with desktop applications that may expect files to live in non-package locations.</span></span>

<span data-ttu-id="927ac-127">Schreibvorgänge in Dateien/Ordner im verpackten App-Paket sind nicht zulässig.</span><span class="sxs-lookup"><span data-stu-id="927ac-127">Writes to files/folders in the app package are not allowed.</span></span> <span data-ttu-id="927ac-128">Schreibvorgänge in Dateien und Ordner, die nicht Teil des Pakets sind, werden von der Brücke ignoriert und sind nur zulässig, wenn der Benutzer über entsprechende Berechtigungen verfügt.</span><span class="sxs-lookup"><span data-stu-id="927ac-128">Writes to files and folders that are not part of the package are ignored by the bridge and are allowed as long as the user has permission.</span></span>

### <a name="common-operations"></a><span data-ttu-id="927ac-129">Allgemeine Vorgänge</span><span class="sxs-lookup"><span data-stu-id="927ac-129">Common operations</span></span>

<span data-ttu-id="927ac-130">Diese kurze Referenztabelle enthält allgemeine Dateisystemvorgänge und Informationen zur Verarbeitung durch die Brücke.</span><span class="sxs-lookup"><span data-stu-id="927ac-130">This short reference table shows common file system operations and how the bridge handles them.</span></span>

<span data-ttu-id="927ac-131">Vorgang</span><span class="sxs-lookup"><span data-stu-id="927ac-131">Operation</span></span> | <span data-ttu-id="927ac-132">Ergebnis</span><span class="sxs-lookup"><span data-stu-id="927ac-132">Result</span></span> | <span data-ttu-id="927ac-133">Beispiel</span><span class="sxs-lookup"><span data-stu-id="927ac-133">Example</span></span>
:--- | :--- | :---
<span data-ttu-id="927ac-134">Lesen oder Enumerieren einer bekannten Windows-Datei oder eines bekannten Windows-Ordners</span><span class="sxs-lookup"><span data-stu-id="927ac-134">Read or enumerate a well-known Windows file or folder</span></span> | <span data-ttu-id="927ac-135">Eine dynamische Zusammenführung von *C:\Programme\Paketname\VFS\bekannter Ordner* mit der lokalen Systementsprechung</span><span class="sxs-lookup"><span data-stu-id="927ac-135">A dynamic merge of *C:\Program Files\package_name\VFS\well_known_folder* with the local system counterpart.</span></span> | <span data-ttu-id="927ac-136">Der Lesevorgang für *C:\Windows\System32* gibt den Inhalt von *C:\Windows\System32* und den Inhalt von *C:\Programme\WindowsApps\Paketname\VFS\SystemX86* zurück.</span><span class="sxs-lookup"><span data-stu-id="927ac-136">Reading *C:\Windows\System32* returns the contents of *C:\Windows\System32* plus the contents of *C:\Program Files\WindowsApps\package_name\VFS\SystemX86*.</span></span>
<span data-ttu-id="927ac-137">Schreiben unter „AppData“</span><span class="sxs-lookup"><span data-stu-id="927ac-137">Write under AppData</span></span> | <span data-ttu-id="927ac-138">Kopie bei Schreibvorgang an einem Speicherort pro Benutzer und App</span><span class="sxs-lookup"><span data-stu-id="927ac-138">Copy-on-written to a per-user, per-app location.</span></span> | <span data-ttu-id="927ac-139">Für „AppData“ ist dies in der Regel *C:\Benutzer\Benutzername\AppData*.</span><span class="sxs-lookup"><span data-stu-id="927ac-139">AppData is typically *C:\Users\user_name\AppData*.</span></span>  
<span data-ttu-id="927ac-140">Schreibvorgänge im Paket</span><span class="sxs-lookup"><span data-stu-id="927ac-140">Write inside the package</span></span> | <span data-ttu-id="927ac-141">Nicht zulässig</span><span class="sxs-lookup"><span data-stu-id="927ac-141">Not allowed.</span></span> <span data-ttu-id="927ac-142">Das Paket ist schreibgeschützt.</span><span class="sxs-lookup"><span data-stu-id="927ac-142">The package is read-only.</span></span> | <span data-ttu-id="927ac-143">Schreibvorgänge unter *C:\Programme\WindowsApps\Paketname* sind nicht zulässig.</span><span class="sxs-lookup"><span data-stu-id="927ac-143">Writes under *C:\Program Files\WindowsApps\package_name* are not allowed.</span></span>
<span data-ttu-id="927ac-144">Schreibvorgänge außerhalb des Pakets</span><span class="sxs-lookup"><span data-stu-id="927ac-144">Writes outside the package</span></span> | <span data-ttu-id="927ac-145">Zulässig, wenn der Benutzer über entsprechende Berechtigungen verfügt.</span><span class="sxs-lookup"><span data-stu-id="927ac-145">Allowed if the user has permissions.</span></span> | <span data-ttu-id="927ac-146">Ein Schreibvorgang in *C:\Windows\System32\foo.dll* ist zulässig, wenn das Paket nicht *C:\Programme\WindowsApps\Paketname\VFS\SystemX86\foo.dll* enthält und der Benutzer über entsprechende Berechtigungen verfügt.</span><span class="sxs-lookup"><span data-stu-id="927ac-146">A write to *C:\Windows\System32\foo.dll* is allowed if the package does not contain *C:\Program Files\WindowsApps\package_name\VFS\SystemX86\foo.dll* and the user has permissions.</span></span>

### <a name="packaged-vfs-locations"></a><span data-ttu-id="927ac-147">Gepackte VFS-Speicherorte</span><span class="sxs-lookup"><span data-stu-id="927ac-147">Packaged VFS locations</span></span>

<span data-ttu-id="927ac-148">Der folgenden Tabelle können Sie entnehmen, wo Dateien, die zu Ihrem Paket gehören, für die App im System überlagert sind.</span><span class="sxs-lookup"><span data-stu-id="927ac-148">The following table shows where files shipping as part of your package are overlaid on the system for the app.</span></span> <span data-ttu-id="927ac-149">Ihre Anwendung wird, dass sich diese Dateien in den aufgeführten Speicherorten befinden, wenn sie tatsächlich an den umgeleiteten Speicherorten innerhalb *C:\Program Files\WindowsApps\package_name\VFS*sind.</span><span class="sxs-lookup"><span data-stu-id="927ac-149">Your application will perceive these files to be in the listed system locations, when in fact they are in the redirected locations inside *C:\Program Files\WindowsApps\package_name\VFS*.</span></span> <span data-ttu-id="927ac-150">Die FOLDERID-Speicherorte stammen von der [**KNOWNFOLDERID**](https://msdn.microsoft.com/library/windows/desktop/dd378457.aspx)-Konstante.</span><span class="sxs-lookup"><span data-stu-id="927ac-150">The FOLDERID locations are from the [**KNOWNFOLDERID**](https://msdn.microsoft.com/library/windows/desktop/dd378457.aspx) constants.</span></span>

<span data-ttu-id="927ac-151">Systemspeicherort</span><span class="sxs-lookup"><span data-stu-id="927ac-151">System Location</span></span> | <span data-ttu-id="927ac-152">Umgeleiteter Speicherort (unter [Paketstammverzeichnis]\VFS\)</span><span class="sxs-lookup"><span data-stu-id="927ac-152">Redirected Location (Under [PackageRoot]\VFS\)</span></span> | <span data-ttu-id="927ac-153">Gültig für Architekturen</span><span class="sxs-lookup"><span data-stu-id="927ac-153">Valid on architectures</span></span>
 :--- | :--- | :---
<span data-ttu-id="927ac-154">FOLDERID_SystemX86</span><span class="sxs-lookup"><span data-stu-id="927ac-154">FOLDERID_SystemX86</span></span> | <span data-ttu-id="927ac-155">SystemX86</span><span class="sxs-lookup"><span data-stu-id="927ac-155">SystemX86</span></span> | <span data-ttu-id="927ac-156">x86, amd64</span><span class="sxs-lookup"><span data-stu-id="927ac-156">x86, amd64</span></span>
<span data-ttu-id="927ac-157">FOLDERID_System</span><span class="sxs-lookup"><span data-stu-id="927ac-157">FOLDERID_System</span></span> | <span data-ttu-id="927ac-158">SystemX64</span><span class="sxs-lookup"><span data-stu-id="927ac-158">SystemX64</span></span> | <span data-ttu-id="927ac-159">amd64</span><span class="sxs-lookup"><span data-stu-id="927ac-159">amd64</span></span>
<span data-ttu-id="927ac-160">FOLDERID_ProgramFilesX86</span><span class="sxs-lookup"><span data-stu-id="927ac-160">FOLDERID_ProgramFilesX86</span></span> | <span data-ttu-id="927ac-161">ProgramFilesX86</span><span class="sxs-lookup"><span data-stu-id="927ac-161">ProgramFilesX86</span></span> | <span data-ttu-id="927ac-162">x86, amd6</span><span class="sxs-lookup"><span data-stu-id="927ac-162">x86, amd6</span></span>
<span data-ttu-id="927ac-163">FOLDERID_ProgramFilesX64</span><span class="sxs-lookup"><span data-stu-id="927ac-163">FOLDERID_ProgramFilesX64</span></span> | <span data-ttu-id="927ac-164">ProgramFilesX64</span><span class="sxs-lookup"><span data-stu-id="927ac-164">ProgramFilesX64</span></span> | <span data-ttu-id="927ac-165">amd64</span><span class="sxs-lookup"><span data-stu-id="927ac-165">amd64</span></span>
<span data-ttu-id="927ac-166">FOLDERID_ProgramFilesCommonX86</span><span class="sxs-lookup"><span data-stu-id="927ac-166">FOLDERID_ProgramFilesCommonX86</span></span> | <span data-ttu-id="927ac-167">ProgramFilesCommonX86</span><span class="sxs-lookup"><span data-stu-id="927ac-167">ProgramFilesCommonX86</span></span> | <span data-ttu-id="927ac-168">x86, amd64</span><span class="sxs-lookup"><span data-stu-id="927ac-168">x86, amd64</span></span>
<span data-ttu-id="927ac-169">FOLDERID_ProgramFilesCommonX64</span><span class="sxs-lookup"><span data-stu-id="927ac-169">FOLDERID_ProgramFilesCommonX64</span></span> | <span data-ttu-id="927ac-170">ProgramFilesCommonX64</span><span class="sxs-lookup"><span data-stu-id="927ac-170">ProgramFilesCommonX64</span></span> | <span data-ttu-id="927ac-171">amd64</span><span class="sxs-lookup"><span data-stu-id="927ac-171">amd64</span></span>
<span data-ttu-id="927ac-172">FOLDERID_Windows</span><span class="sxs-lookup"><span data-stu-id="927ac-172">FOLDERID_Windows</span></span> | <span data-ttu-id="927ac-173">Windows</span><span class="sxs-lookup"><span data-stu-id="927ac-173">Windows</span></span> | <span data-ttu-id="927ac-174">x86, amd64</span><span class="sxs-lookup"><span data-stu-id="927ac-174">x86, amd64</span></span>
<span data-ttu-id="927ac-175">FOLDERID_ProgramData</span><span class="sxs-lookup"><span data-stu-id="927ac-175">FOLDERID_ProgramData</span></span> | <span data-ttu-id="927ac-176">Gemeinsamer AppData-Ordner</span><span class="sxs-lookup"><span data-stu-id="927ac-176">Common AppData</span></span> | <span data-ttu-id="927ac-177">x86, amd64</span><span class="sxs-lookup"><span data-stu-id="927ac-177">x86, amd64</span></span>
<span data-ttu-id="927ac-178">FOLDERID_System\catroot</span><span class="sxs-lookup"><span data-stu-id="927ac-178">FOLDERID_System\catroot</span></span> | <span data-ttu-id="927ac-179">AppVSystem32Catroot</span><span class="sxs-lookup"><span data-stu-id="927ac-179">AppVSystem32Catroot</span></span> | <span data-ttu-id="927ac-180">x86, amd64</span><span class="sxs-lookup"><span data-stu-id="927ac-180">x86, amd64</span></span>
<span data-ttu-id="927ac-181">FOLDERID_System\catroot2</span><span class="sxs-lookup"><span data-stu-id="927ac-181">FOLDERID_System\catroot2</span></span> | <span data-ttu-id="927ac-182">AppVSystem32Catroot2</span><span class="sxs-lookup"><span data-stu-id="927ac-182">AppVSystem32Catroot2</span></span> | <span data-ttu-id="927ac-183">x86, amd64</span><span class="sxs-lookup"><span data-stu-id="927ac-183">x86, amd64</span></span>
<span data-ttu-id="927ac-184">FOLDERID_System\drivers\etc</span><span class="sxs-lookup"><span data-stu-id="927ac-184">FOLDERID_System\drivers\etc</span></span> | <span data-ttu-id="927ac-185">AppVSystem32DriversEtc</span><span class="sxs-lookup"><span data-stu-id="927ac-185">AppVSystem32DriversEtc</span></span> | <span data-ttu-id="927ac-186">x86, amd64</span><span class="sxs-lookup"><span data-stu-id="927ac-186">x86, amd64</span></span>
<span data-ttu-id="927ac-187">FOLDERID_System\driverstore</span><span class="sxs-lookup"><span data-stu-id="927ac-187">FOLDERID_System\driverstore</span></span> | <span data-ttu-id="927ac-188">AppVSystem32Driverstore</span><span class="sxs-lookup"><span data-stu-id="927ac-188">AppVSystem32Driverstore</span></span> | <span data-ttu-id="927ac-189">x86, amd64</span><span class="sxs-lookup"><span data-stu-id="927ac-189">x86, amd64</span></span>
<span data-ttu-id="927ac-190">FOLDERID_System\logfiles</span><span class="sxs-lookup"><span data-stu-id="927ac-190">FOLDERID_System\logfiles</span></span> | <span data-ttu-id="927ac-191">AppVSystem32Logfiles</span><span class="sxs-lookup"><span data-stu-id="927ac-191">AppVSystem32Logfiles</span></span> | <span data-ttu-id="927ac-192">x86, amd64</span><span class="sxs-lookup"><span data-stu-id="927ac-192">x86, amd64</span></span>
<span data-ttu-id="927ac-193">FOLDERID_System\spool</span><span class="sxs-lookup"><span data-stu-id="927ac-193">FOLDERID_System\spool</span></span> | <span data-ttu-id="927ac-194">AppVSystem32Spool</span><span class="sxs-lookup"><span data-stu-id="927ac-194">AppVSystem32Spool</span></span> | <span data-ttu-id="927ac-195">x86, amd64</span><span class="sxs-lookup"><span data-stu-id="927ac-195">x86, amd64</span></span>

## <a name="registry"></a><span data-ttu-id="927ac-196">Registrierung</span><span class="sxs-lookup"><span data-stu-id="927ac-196">Registry</span></span>

<span data-ttu-id="927ac-197">App-Pakete enthalten eine Datei namens „registry.dat“, die als logische Entsprechung für *HKLM\Software* in der tatsächlichen Registrierung dient.</span><span class="sxs-lookup"><span data-stu-id="927ac-197">App packages contain a registry.dat file, which serves as the logical equivalent of *HKLM\Software* in the real registry.</span></span> <span data-ttu-id="927ac-198">Zur Laufzeit führt diese virtuelle Registrierung den Inhalt dieser Struktur in der nativen Systemstruktur zusammen, um beide Strukturen in einer Ansicht darzustellen.</span><span class="sxs-lookup"><span data-stu-id="927ac-198">At runtime, this virtual registry merges the contents of this hive into the native system hive to provide a singular view of both.</span></span> <span data-ttu-id="927ac-199">Wenn „registry.dat“ beispielsweise einen einzelnen Schlüssel namens „Foo“ enthält, enthält ein Lesevorgang für *HKLM\Software* zur Laufzeit scheinbar ebenfalls „Foo“ (zusätzlich zu allen nativen Systemschlüsseln).</span><span class="sxs-lookup"><span data-stu-id="927ac-199">For example, if registry.dat contains a single key "Foo", then a read of *HKLM\Software* at runtime will also appear to contain "Foo" (in addition to all the native system keys).</span></span>

<span data-ttu-id="927ac-200">Nur Schlüssel unter *HKLM\Software* sind Teil des Pakets. Schlüssel unter *HKCU* oder in anderen Registrierungsbereichen sind nicht Teil des Pakets.</span><span class="sxs-lookup"><span data-stu-id="927ac-200">Only keys under *HKLM\Software* are part of the package; keys under *HKCU* or other parts of the registry are not.</span></span> <span data-ttu-id="927ac-201">Schreibvorgänge für Schlüssel oder Werte im Paket sind nicht zulässig.</span><span class="sxs-lookup"><span data-stu-id="927ac-201">Writes to keys or values in the package are not allowed.</span></span> <span data-ttu-id="927ac-202">Schreibvorgänge für Schlüssel oder Werte nicht Teil des Pakets sind zulässig, solange der Benutzer über entsprechende Berechtigungen verfügt.</span><span class="sxs-lookup"><span data-stu-id="927ac-202">Writes to keys or values not part of the package are allowed as long as the user has permission.</span></span>

<span data-ttu-id="927ac-203">Alle Schreibvorgänge unter „HKCU“ entsprechen Kopie bei Schreibvorgang an einem privaten Speicherort pro Benutzer und App.</span><span class="sxs-lookup"><span data-stu-id="927ac-203">All writes under HKCU are copy-on-written to a private per-user, per-app location.</span></span> <span data-ttu-id="927ac-204">In der Regel können Deinstallationsprogramme *HKEY_CURRENT_USER* nicht bereinigen, da die Bereitstellung von Registrierungsdaten für abgemeldete Benutzer aufgehoben wird und die Daten daher nicht verfügbar sind.</span><span class="sxs-lookup"><span data-stu-id="927ac-204">Traditionally, uninstallers are unable to clean *HKEY_CURRENT_USER* because the registry data for logged out users is unmounted and unavailable.</span></span>

<span data-ttu-id="927ac-205">Alle Schreibvorgänge werden während des Upgrades Paket beibehalten und nur gelöscht, wenn die Anwendung vollständig entfernt wird.</span><span class="sxs-lookup"><span data-stu-id="927ac-205">All writes are kept during package upgrade and only deleted when the application is removed entirely.</span></span>

### <a name="common-operations"></a><span data-ttu-id="927ac-206">Allgemeine Vorgänge</span><span class="sxs-lookup"><span data-stu-id="927ac-206">Common operations</span></span>

<span data-ttu-id="927ac-207">Diese kurze Referenztabelle enthält allgemeine Registrierungsvorgänge und Informationen zur Verarbeitung durch die Brücke.</span><span class="sxs-lookup"><span data-stu-id="927ac-207">This short reference table shows common registry operations and how the bridge handles them.</span></span>

<span data-ttu-id="927ac-208">Vorgang</span><span class="sxs-lookup"><span data-stu-id="927ac-208">Operation</span></span> | <span data-ttu-id="927ac-209">Ergebnis</span><span class="sxs-lookup"><span data-stu-id="927ac-209">Result</span></span> | <span data-ttu-id="927ac-210">Beispiel</span><span class="sxs-lookup"><span data-stu-id="927ac-210">Example</span></span>
:--- | :--- | :---
<span data-ttu-id="927ac-211">Lesen oder Enumerieren von *HKLM\Software*</span><span class="sxs-lookup"><span data-stu-id="927ac-211">Read or enumerate *HKLM\Software*</span></span> | <span data-ttu-id="927ac-212">Eine dynamische Zusammenführung der Paketstruktur mit der lokalen Systementsprechung</span><span class="sxs-lookup"><span data-stu-id="927ac-212">A dynamic merge of the package hive with the local system counterpart.</span></span> | <span data-ttu-id="927ac-213">Wenn „registry.dat“ einen einzelnen Schlüssel namens „Foo“ enthält, zeigt ein Lesevorgang von *HKLM\Software* zur Laufzeit die Inhalte von *HKLM\Software* und *HKLM\Software\Foo* an.</span><span class="sxs-lookup"><span data-stu-id="927ac-213">If registry.dat contains a single key "Foo," at runtime a read of *HKLM\Software* will show the contents of both *HKLM\Software* plus *HKLM\Software\Foo*.</span></span>
<span data-ttu-id="927ac-214">Schreibvorgänge unter „HKCU“</span><span class="sxs-lookup"><span data-stu-id="927ac-214">Writes under HKCU</span></span> | <span data-ttu-id="927ac-215">Kopie bei Schreibvorgang an einem privaten Speicherort pro Benutzer und App</span><span class="sxs-lookup"><span data-stu-id="927ac-215">Copy-on-written to a per-user, per-app private location.</span></span> | <span data-ttu-id="927ac-216">Identisch mit „AppData“ für Dateien</span><span class="sxs-lookup"><span data-stu-id="927ac-216">The same as AppData for files.</span></span>
<span data-ttu-id="927ac-217">Schreibvorgänge im Paket</span><span class="sxs-lookup"><span data-stu-id="927ac-217">Writes inside the package.</span></span> | <span data-ttu-id="927ac-218">Nicht zulässig</span><span class="sxs-lookup"><span data-stu-id="927ac-218">Not allowed.</span></span> <span data-ttu-id="927ac-219">Das Paket ist schreibgeschützt.</span><span class="sxs-lookup"><span data-stu-id="927ac-219">The package is read-only.</span></span> | <span data-ttu-id="927ac-220">Schreibvorgänge unter *HKLM\Software* sind nicht zulässig, wenn ein entsprechender Schlüssel/Wert in der Paketstruktur vorhanden ist.</span><span class="sxs-lookup"><span data-stu-id="927ac-220">Writes under *HKLM\Software* are not allowed if a corresponding key/value exist in the package hive.</span></span>
<span data-ttu-id="927ac-221">Schreibvorgänge außerhalb des Pakets</span><span class="sxs-lookup"><span data-stu-id="927ac-221">Writes outside the package</span></span> | <span data-ttu-id="927ac-222">Von der Brücke ignoriert.</span><span class="sxs-lookup"><span data-stu-id="927ac-222">Ignored by the bridge.</span></span> <span data-ttu-id="927ac-223">Zulässig, wenn der Benutzer über entsprechende Berechtigungen verfügt.</span><span class="sxs-lookup"><span data-stu-id="927ac-223">Allowed if the user has permissions.</span></span> | <span data-ttu-id="927ac-224">Schreibvorgänge unter *HKLM\Software* sind zulässig, sofern kein entsprechender Schlüssel/Wert in der Paketstruktur vorhanden ist und der Benutzer über entsprechende Zugriffsberechtigungen verfügt.</span><span class="sxs-lookup"><span data-stu-id="927ac-224">Writes under *HKLM\Software* are allowed as long as a corresponding key/value does not exist in the package hive and the user has the correct access permissions.</span></span>

## <a name="uninstallation"></a><span data-ttu-id="927ac-225">Deinstallation</span><span class="sxs-lookup"><span data-stu-id="927ac-225">Uninstallation</span></span>

<span data-ttu-id="927ac-226">Wenn ein Paket vom Benutzer deinstalliert wird, werden alle Dateien und Ordner unter *C:\Programme Files\WindowsApps\package_name* sowie alle umgeleiteten Schreibvorgänge für "appdata" oder die Registrierung entfernt, die während des Verpackungsprozesses erfasst wurden.</span><span class="sxs-lookup"><span data-stu-id="927ac-226">When a package is uninstalled by the user, all files and folders located under *C:\Program Files\WindowsApps\package_name* are removed, as well as any redirected writes to AppData or the registry that were captured during the packaging process.</span></span>

## <a name="next-steps"></a><span data-ttu-id="927ac-227">Nächste Schritte</span><span class="sxs-lookup"><span data-stu-id="927ac-227">Next steps</span></span>

**<span data-ttu-id="927ac-228">Finden Sie Antworten auf Ihre Fragen</span><span class="sxs-lookup"><span data-stu-id="927ac-228">Find answers to your questions</span></span>**

<span data-ttu-id="927ac-229">Haben Sie Fragen?</span><span class="sxs-lookup"><span data-stu-id="927ac-229">Have questions?</span></span> <span data-ttu-id="927ac-230">Fragen Sie uns auf Stack Overflow.</span><span class="sxs-lookup"><span data-stu-id="927ac-230">Ask us on Stack Overflow.</span></span> <span data-ttu-id="927ac-231">Unser Team überwacht diese [Tags](http://stackoverflow.com/questions/tagged/project-centennial+or+desktop-bridge).</span><span class="sxs-lookup"><span data-stu-id="927ac-231">Our team monitors these [tags](http://stackoverflow.com/questions/tagged/project-centennial+or+desktop-bridge).</span></span> <span data-ttu-id="927ac-232">Fragen Sie uns [hier](https://social.msdn.microsoft.com/Forums/en-US/home?filter=alltypes&sort=relevancedesc&searchTerm=%5BDesktop%20Converter%5D).</span><span class="sxs-lookup"><span data-stu-id="927ac-232">You can also ask us [here](https://social.msdn.microsoft.com/Forums/en-US/home?filter=alltypes&sort=relevancedesc&searchTerm=%5BDesktop%20Converter%5D).</span></span>

**<span data-ttu-id="927ac-233">Geben Sie Feedback oder Verbesserungsvorschläge</span><span class="sxs-lookup"><span data-stu-id="927ac-233">Give feedback or make feature suggestions</span></span>**

<span data-ttu-id="927ac-234">Weitere Informationen finden Sie unter [UserVoice](https://wpdev.uservoice.com/forums/110705-universal-windows-platform/category/161895-desktop-bridge-centennial).</span><span class="sxs-lookup"><span data-stu-id="927ac-234">See [UserVoice](https://wpdev.uservoice.com/forums/110705-universal-windows-platform/category/161895-desktop-bridge-centennial).</span></span>
