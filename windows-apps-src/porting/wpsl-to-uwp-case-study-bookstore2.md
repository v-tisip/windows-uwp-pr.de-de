---
author: stevewhims
ms.assetid: 333f67f5-f012-4981-917f-c6fd271267c6
description: Diese Fallstudie baut auf den Informationen aus Bookstore, beginnt mit einer WindowsPhone Silverlight-app, die gruppierte Daten in einem LongListSelector.
title: WindowsPhone Silverlight zu UWP – Fallstudie, Bookstore2
ms.author: stwhi
ms.date: 02/08/2017
ms.topic: article
keywords: Windows10, UWP
ms.localizationpriority: medium
ms.openlocfilehash: 8e518439ddd4e131c2d045f4467670b42a392fca
ms.sourcegitcommit: 144f5f127fc4fbd852f2f6780ef26054192d68fc
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 11/02/2018
ms.locfileid: "5981787"
---
# <a name="windowsphone-silverlight-to-uwp-case-study-bookstore2"></a><span data-ttu-id="4f62d-104">WindowsPhone Silverlight zu UWP – Fallstudie: Bookstore2</span><span class="sxs-lookup"><span data-stu-id="4f62d-104">WindowsPhone Silverlight to UWP case study: Bookstore2</span></span>


<span data-ttu-id="4f62d-105">Diese Fallstudie – baut auf den Informationen in [Bookstore1](wpsl-to-uwp-case-study-bookstore1.md)– beginnt mit einer WindowsPhone Silverlight-app, die gruppierte Daten in einem **LongListSelector**.</span><span class="sxs-lookup"><span data-stu-id="4f62d-105">This case study—which builds on the info given in [Bookstore1](wpsl-to-uwp-case-study-bookstore1.md)—begins with a WindowsPhone Silverlight app that displays grouped data in a **LongListSelector**.</span></span> <span data-ttu-id="4f62d-106">Im Ansichtsmodell stellt jede Instanz der **Author**-Klasse die Gruppe der vom betreffenden Autor verfassten Titel dar. In **LongListSelector** können wir dann entweder die Bücherliste nach Autoren gruppiert anzeigen oder die Liste verkleinern, um eine Sprungliste der Autoren zu erhalten.</span><span class="sxs-lookup"><span data-stu-id="4f62d-106">In the view model, each instance of the class **Author** represents the group of the books written by that author, and in the **LongListSelector**, we can either view the list of books grouped by author or we can zoom out to see a jump list of authors.</span></span> <span data-ttu-id="4f62d-107">Die Sprungliste ermöglicht eine wesentlich schnellere Navigation im Vergleich zum Blättern in der Bücherliste.</span><span class="sxs-lookup"><span data-stu-id="4f62d-107">The jump list affords much quicker navigation than scrolling through the list of books.</span></span> <span data-ttu-id="4f62d-108">Wir gehen Sie durch die Schritte zum Portieren der app zu einer app Windows10Universal Windows-Plattform (UWP).</span><span class="sxs-lookup"><span data-stu-id="4f62d-108">We walk through the steps of porting the app to a Windows10Universal Windows Platform (UWP) app.</span></span>

<span data-ttu-id="4f62d-109">**Hinweis:**  Wenn beim Öffnen von Bookstore2Universal\_10 in Visual Studio die Meldung "Visual Studio-Update erforderlich", dann die Schritte zum Festlegen von Zielplattformversion in [TargetPlatformVersion](w8x-to-uwp-troubleshooting.md).</span><span class="sxs-lookup"><span data-stu-id="4f62d-109">**Note** When opening Bookstore2Universal\_10 in Visual Studio, if you see the message "Visual Studio update required", then follow the steps for setting Target Platform Version in [TargetPlatformVersion](w8x-to-uwp-troubleshooting.md).</span></span>

## <a name="downloads"></a><span data-ttu-id="4f62d-110">Downloads</span><span class="sxs-lookup"><span data-stu-id="4f62d-110">Downloads</span></span>

<span data-ttu-id="4f62d-111">[Download der Bookstore2WPSL8 WindowsPhone Silverlight-app](http://go.microsoft.com/fwlink/p/?linkid=522601).</span><span class="sxs-lookup"><span data-stu-id="4f62d-111">[Download the Bookstore2WPSL8 WindowsPhone Silverlight app](http://go.microsoft.com/fwlink/p/?linkid=522601).</span></span>

<span data-ttu-id="4f62d-112">[Laden der Bookstore2Universal\_10 Windows 10-app](http://go.microsoft.com/fwlink/?linkid=532952).</span><span class="sxs-lookup"><span data-stu-id="4f62d-112">[Download the Bookstore2Universal\_10 Windows10 app](http://go.microsoft.com/fwlink/?linkid=532952).</span></span>

##  <a name="the-windowsphone-silverlight-app"></a><span data-ttu-id="4f62d-113">Die WindowsPhone Silverlight-app</span><span class="sxs-lookup"><span data-stu-id="4f62d-113">The WindowsPhone Silverlight app</span></span>

<span data-ttu-id="4f62d-114">Die folgende Abbildung zeigt, wie die zu portierende App namens Bookstore2WPSL8 aussieht.</span><span class="sxs-lookup"><span data-stu-id="4f62d-114">The illustration below shows what Bookstore2WPSL8—the app that we're going to port—looks like.</span></span> <span data-ttu-id="4f62d-115">Es handelt sich um einen vertikal scrollbaren **LongListSelector** mit Buchtiteln, die nach Autor gruppiert sind.</span><span class="sxs-lookup"><span data-stu-id="4f62d-115">It's a vertically-scrolling **LongListSelector** of books grouped by author.</span></span> <span data-ttu-id="4f62d-116">Sie können die Liste auf die Sprungliste verkleinern und von dort aus wieder zurück zu einer beliebigen Gruppe navigieren.</span><span class="sxs-lookup"><span data-stu-id="4f62d-116">You can zoom out to the jump list, and from there, you can navigate back into any group.</span></span> <span data-ttu-id="4f62d-117">Die App besteht aus zwei Hauptteilen: dem Ansichtsmodell, das die gruppierte Datenquelle bereitstellt, und der Benutzeroberfläche, die an dieses Ansichtsmodell gebunden ist.</span><span class="sxs-lookup"><span data-stu-id="4f62d-117">There are two main pieces to this app: the view model that provides the grouped data source, and the user interface that binds to that view model.</span></span> <span data-ttu-id="4f62d-118">Wir werden feststellen, beide Teile portieren lassen problemlos von WindowsPhone Silverlight-Technologie für die universelle Windows Plattform (UWP).</span><span class="sxs-lookup"><span data-stu-id="4f62d-118">As we'll see, both of these pieces port easily from WindowsPhone Silverlight technology to the Universal Windows Platform (UWP).</span></span>

![Erscheinungsbild von „bookstore2wpsl8“](images/wpsl-to-uwp-case-studies/c02-01-wpsl-how-the-app-looks.png)

##  <a name="porting-to-a-windows10-project"></a><span data-ttu-id="4f62d-120">Portieren auf ein Windows 10-Projekt</span><span class="sxs-lookup"><span data-stu-id="4f62d-120">Porting to a Windows10 project</span></span>

<span data-ttu-id="4f62d-121">Das Erstellen eines neuen Projekts in Visual Studio geht schnell: Kopieren Sie Dateien aus Bookstore2WPSL8, und fügen Sie die kopierten Dateien in das neue Projekt ein.</span><span class="sxs-lookup"><span data-stu-id="4f62d-121">It's a quick task to create a new project in Visual Studio, copy files over to it from Bookstore2WPSL8, and include the copied files in the new project.</span></span> <span data-ttu-id="4f62d-122">Erstellen Sie zunächst ein neues Projekt vom Typ „Leere Anwendung“ (Windows Universal).</span><span class="sxs-lookup"><span data-stu-id="4f62d-122">Start by creating a new Blank Application (Windows Universal) project.</span></span> <span data-ttu-id="4f62d-123">Geben Sie ihm den Namen „Bookstore2Universal\_10“.</span><span class="sxs-lookup"><span data-stu-id="4f62d-123">Name it Bookstore2Universal\_10.</span></span> <span data-ttu-id="4f62d-124">Dies sind die Dateien, die von Bookstore2WPSL8 in Bookstore2Universal\_10 kopiert werden sollen.</span><span class="sxs-lookup"><span data-stu-id="4f62d-124">These are the files to copy over from Bookstore2WPSL8 to Bookstore2Universal\_10.</span></span>

-   <span data-ttu-id="4f62d-125">Kopieren Sie den Ordner mit den PNG-Dateien für das Bucheinbandbild (Ordner „\\Assets\\CoverImages“).</span><span class="sxs-lookup"><span data-stu-id="4f62d-125">Copy the folder containing the book cover image PNG files (the folder is \\Assets\\CoverImages).</span></span> <span data-ttu-id="4f62d-126">Vergewissern Sie sich nach dem Kopieren des Ordners im **Projektmappen-Explorer**, dass **Alle Dateien anzeigen** aktiviert ist.</span><span class="sxs-lookup"><span data-stu-id="4f62d-126">After copying the folder, in **Solution Explorer**, make sure **Show All Files** is toggled on.</span></span> <span data-ttu-id="4f62d-127">Klicken Sie mit der rechten Maustaste auf den kopierten Ordner, und klicken Sie dann auf **Zu Projekt hinzufügen**.</span><span class="sxs-lookup"><span data-stu-id="4f62d-127">Right-click the folder that you copied and click **Include In Project**.</span></span> <span data-ttu-id="4f62d-128">Mit „Einschließen“ von Dateien oder Ordnern in einem Projekt meinen wir diesen Befehl.</span><span class="sxs-lookup"><span data-stu-id="4f62d-128">That command is what we mean by "including" files or folders in a project.</span></span> <span data-ttu-id="4f62d-129">Klicken Sie jedes Mal, wenn Sie eine Datei oder einen Ordner kopieren, im **Projektmappen-Explorer** auf **Aktualisieren**, und schließen Sie dann die Datei oder den Ordner in das Projekt ein.</span><span class="sxs-lookup"><span data-stu-id="4f62d-129">Each time you copy a file or folder, click **Refresh** in **Solution Explorer** and then include the file or folder in the project.</span></span> <span data-ttu-id="4f62d-130">Dies ist nicht für Dateien erforderlich, die Sie am Ziel ersetzen.</span><span class="sxs-lookup"><span data-stu-id="4f62d-130">There's no need to do this for files that you're replacing in the destination.</span></span>
-   <span data-ttu-id="4f62d-131">Kopieren Sie den Ordner mit der Ansichtsmodell-Quelldatei (Ordner „\\ViewModel“).</span><span class="sxs-lookup"><span data-stu-id="4f62d-131">Copy the folder containing the view model source file (the folder is \\ViewModel).</span></span>
-   <span data-ttu-id="4f62d-132">Kopieren Sie „MainPage.xaml“, und ersetzen Sie die Datei am Ziel.</span><span class="sxs-lookup"><span data-stu-id="4f62d-132">Copy MainPage.xaml and replace the file in the destination.</span></span>

<span data-ttu-id="4f62d-133">Wir können die Datei "App.xaml" und "App.Xaml.cs", die Visual Studio für uns im Windows 10-Projekt generierten beibehalten.</span><span class="sxs-lookup"><span data-stu-id="4f62d-133">We can keep the App.xaml, and App.xaml.cs that Visual Studio generated for us in the Windows10 project.</span></span>

<span data-ttu-id="4f62d-134">Bearbeiten Sie den Quellcode und die Markupdateien, die Sie gerade kopiert haben, und ändern Sie alle Verweise auf den Namespace „Bookstore2WPSL8“ in „Bookstore2Universal\_10“.</span><span class="sxs-lookup"><span data-stu-id="4f62d-134">Edit the source code and markup files that you just copied and change any references to the Bookstore2WPSL8 namespace to Bookstore2Universal\_10.</span></span> <span data-ttu-id="4f62d-135">Eine schnelle Möglichkeit dafür ist die Verwendung des Features **In Dateien ersetzen**.</span><span class="sxs-lookup"><span data-stu-id="4f62d-135">A quick way to do that is to use the **Replace In Files** feature.</span></span> <span data-ttu-id="4f62d-136">Im imperativen Code in der Ansichtsmodell-Quelldatei sind die folgenden Portierungsänderungen erforderlich:</span><span class="sxs-lookup"><span data-stu-id="4f62d-136">In the imperative code in the view model source file, these porting changes are needed.</span></span>

-   <span data-ttu-id="4f62d-137">Ändern Sie `System.ComponentModel.DesignerProperties` in `DesignMode`, und wenden Sie dann den Befehl **Auflösen** darauf an.</span><span class="sxs-lookup"><span data-stu-id="4f62d-137">Change `System.ComponentModel.DesignerProperties` to `DesignMode` and then use the **Resolve** command on it.</span></span> <span data-ttu-id="4f62d-138">Löschen Sie die `IsInDesignTool`-Eigenschaft, und fügen Sie mithilfe von IntelliSense den richtigen Eigenschaftsnamen hinzu: `DesignModeEnabled`.</span><span class="sxs-lookup"><span data-stu-id="4f62d-138">Delete the `IsInDesignTool` property and use IntelliSense to add the correct property name: `DesignModeEnabled`.</span></span>
-   <span data-ttu-id="4f62d-139">Wenden Sie den Befehl **Auflösen** auf `ImageSource` an.</span><span class="sxs-lookup"><span data-stu-id="4f62d-139">Use the **Resolve** command on `ImageSource`.</span></span>
-   <span data-ttu-id="4f62d-140">Wenden Sie den Befehl **Auflösen** auf `BitmapImage` an.</span><span class="sxs-lookup"><span data-stu-id="4f62d-140">Use the **Resolve** command on `BitmapImage`.</span></span>
-   <span data-ttu-id="4f62d-141">Löschen Sie `using System.Windows.Media;` und `using System.Windows.Media.Imaging;`.</span><span class="sxs-lookup"><span data-stu-id="4f62d-141">Delete `using System.Windows.Media;` and `using System.Windows.Media.Imaging;`.</span></span>
-   <span data-ttu-id="4f62d-142">Ändern Sie den von der **Bookstore2Universal\_10.BookstoreViewModel.AppName**-Eigenschaft zurückgegebenen Wert von „BOOKSTORE2WPSL8“ in „BOOKSTORE2UNIVERSAL“.</span><span class="sxs-lookup"><span data-stu-id="4f62d-142">Change the value returned by the **Bookstore2Universal\_10.BookstoreViewModel.AppName** property from "BOOKSTORE2WPSL8" to "BOOKSTORE2UNIVERSAL".</span></span>
-   <span data-ttu-id="4f62d-143">Wie zuvor bei [Bookstore1](wpsl-to-uwp-case-study-bookstore1.md) aktualisieren Sie die Implementierung der **BookSku.CoverImage**-Eigenschaft (siehe [Binden eines Bilds an ein Ansichtsmodell](wpsl-to-uwp-case-study-bookstore1.md)).</span><span class="sxs-lookup"><span data-stu-id="4f62d-143">Just as we did for [Bookstore1](wpsl-to-uwp-case-study-bookstore1.md), update the implementation of the **BookSku.CoverImage** property (see [Binding an Image to a view model](wpsl-to-uwp-case-study-bookstore1.md)).</span></span>

<span data-ttu-id="4f62d-144">In „MainPage.xaml“ müssen Sie die folgenden anfänglichen Portierungsänderungen vornehmen:</span><span class="sxs-lookup"><span data-stu-id="4f62d-144">In MainPage.xaml, these initial porting changes are needed.</span></span>

-   <span data-ttu-id="4f62d-145">Ändern Sie `phone:PhoneApplicationPage` in `Page` (einschließlich der Vorkommen in der Eigenschaftselementsyntax).</span><span class="sxs-lookup"><span data-stu-id="4f62d-145">Change `phone:PhoneApplicationPage` to `Page` (including the occurrences in property element syntax).</span></span>
-   <span data-ttu-id="4f62d-146">Löschen Sie die Namespacepräfix-Deklarationen `phone` und `shell`.</span><span class="sxs-lookup"><span data-stu-id="4f62d-146">Delete the `phone` and `shell` namespace prefix declarations.</span></span>
-   <span data-ttu-id="4f62d-147">Ändern Sie „clr-namespace“ in der verbleibenden Namespacepräfix-Deklaration in „using“.</span><span class="sxs-lookup"><span data-stu-id="4f62d-147">Change "clr-namespace" to "using" in the remaining namespace prefix declaration.</span></span>
-   <span data-ttu-id="4f62d-148">Löschen Sie `SupportedOrientations="Portrait"`und `Orientation="Portrait"`, und konfigurieren Sie **Portrait** im App-Paketmanifest des neuen Projekts.</span><span class="sxs-lookup"><span data-stu-id="4f62d-148">Delete `SupportedOrientations="Portrait"`, and `Orientation="Portrait"`, and configure **Portrait** in the app package manifest in the new project.</span></span>
-   <span data-ttu-id="4f62d-149">Löschen Sie `shell:SystemTray.IsVisible="True"`.</span><span class="sxs-lookup"><span data-stu-id="4f62d-149">Delete `shell:SystemTray.IsVisible="True"`.</span></span>
-   <span data-ttu-id="4f62d-150">Die Konvertertypen für Sprunglistenelemente (die im Markup als Ressourcen enthalten sind) wurden in den [**Windows.UI.Xaml.Controls.Primitives**](https://msdn.microsoft.com/library/windows/apps/br209818)-Namespace verschoben.</span><span class="sxs-lookup"><span data-stu-id="4f62d-150">The types of the jump list item converters (which are present in the markup as resources) have moved to the [**Windows.UI.Xaml.Controls.Primitives**](https://msdn.microsoft.com/library/windows/apps/br209818) namespace.</span></span> <span data-ttu-id="4f62d-151">Fügen Sie also die Namespacepräfix-Deklaration „Windows\_UI\_Xaml\_Controls\_Primitives“ hinzu, und ordnen Sie sie **Windows.UI.Xaml.Controls.Primitives** zu.</span><span class="sxs-lookup"><span data-stu-id="4f62d-151">So, add the namespace prefix declaration Windows\_UI\_Xaml\_Controls\_Primitives and map it to **Windows.UI.Xaml.Controls.Primitives**.</span></span> <span data-ttu-id="4f62d-152">Ändern Sie das Präfix in den Konverterressourcen für Sprunglistenelemente von `phone:` in `Windows_UI_Xaml_Controls_Primitives:`.</span><span class="sxs-lookup"><span data-stu-id="4f62d-152">On the jump list item converter resources, change the prefix from `phone:` to `Windows_UI_Xaml_Controls_Primitives:`.</span></span>
-   <span data-ttu-id="4f62d-153">Ersetzen Sie wie zuvor bei [Bookstore1](wpsl-to-uwp-case-study-bookstore1.md) alle Verweise auf den `PhoneTextExtraLargeStyle` **TextBlock**-Stil durch einen Verweis auf `SubtitleTextBlockStyle`, und ersetzen Sie `PhoneTextSubtleStyle` durch `SubtitleTextBlockStyle`, `PhoneTextNormalStyle` durch `CaptionTextBlockStyle` und `PhoneTextTitle1Style` durch `HeaderTextBlockStyle`.</span><span class="sxs-lookup"><span data-stu-id="4f62d-153">Just as we did for [Bookstore1](wpsl-to-uwp-case-study-bookstore1.md), replace all references to the `PhoneTextExtraLargeStyle` **TextBlock** style with a reference to `SubtitleTextBlockStyle`, replace `PhoneTextSubtleStyle` with `SubtitleTextBlockStyle`, replace `PhoneTextNormalStyle` with `CaptionTextBlockStyle`, and replace `PhoneTextTitle1Style` with `HeaderTextBlockStyle`.</span></span>
-   <span data-ttu-id="4f62d-154">Einzige Ausnahme ist `BookTemplate`.</span><span class="sxs-lookup"><span data-stu-id="4f62d-154">There is one exception in `BookTemplate`.</span></span> <span data-ttu-id="4f62d-155">Der Stil des zweiten **TextBlock**-Elements sollte auf `CaptionTextBlockStyle` verweisen.</span><span class="sxs-lookup"><span data-stu-id="4f62d-155">The style of the second **TextBlock** should reference `CaptionTextBlockStyle`.</span></span>
-   <span data-ttu-id="4f62d-156">Entfernen Sie das FontFamily-Attribut aus **TextBlock** innerhalb von `AuthorGroupHeaderTemplate`, und legen Sie den Hintergrund von **Border** so fest, dass nicht auf `PhoneAccentBrush` verwiesen wird, sondern auf `SystemControlBackgroundAccentBrush`.</span><span class="sxs-lookup"><span data-stu-id="4f62d-156">Remove the FontFamily attribute from the **TextBlock** inside `AuthorGroupHeaderTemplate` and set the Background of the **Border** to reference `SystemControlBackgroundAccentBrush` instead of `PhoneAccentBrush`.</span></span>
-   <span data-ttu-id="4f62d-157">Überprüfen Sie aufgrund von [Änderungen im Zusammenhang mit Anzeigepixeln](wpsl-to-uwp-porting-xaml-and-ui.md) das Markup, und multiplizieren Sie alle Dimensionen mit fester Größe (Ränder, Breite, Höhe usw.) mit0,8.</span><span class="sxs-lookup"><span data-stu-id="4f62d-157">Because of [changes related to view pixels](wpsl-to-uwp-porting-xaml-and-ui.md), go through the markup and multiply any fixed size dimension (margins, width, height, etc) by 0.8.</span></span>

## <a name="replacing-the-longlistselector"></a><span data-ttu-id="4f62d-158">Ersetzen von „LongListSelector“</span><span class="sxs-lookup"><span data-stu-id="4f62d-158">Replacing the LongListSelector</span></span>


<span data-ttu-id="4f62d-159">Um **LongListSelector** durch ein [**SemanticZoom**](https://msdn.microsoft.com/library/windows/apps/hh702601)-Steuerelement zu ersetzen, sind mehrere Schritte erforderlich. Los geht’s.</span><span class="sxs-lookup"><span data-stu-id="4f62d-159">Replacing the **LongListSelector** with a [**SemanticZoom**](https://msdn.microsoft.com/library/windows/apps/hh702601) control will take several steps, so let's make a start on that.</span></span> <span data-ttu-id="4f62d-160">**LongListSelector** wird direkt an die gruppierte Datenquelle gebunden, während **SemanticZoom** [**ListView**](https://msdn.microsoft.com/library/windows/apps/br242878)- oder [**GridView**](https://msdn.microsoft.com/library/windows/apps/br242705)-Steuerelemente enthält, die über einen [**CollectionViewSource**](https://msdn.microsoft.com/library/windows/apps/br209833)-Adapter indirekt an die Daten gebunden werden.</span><span class="sxs-lookup"><span data-stu-id="4f62d-160">A **LongListSelector** binds directly to the grouped data source, but a **SemanticZoom** contains [**ListView**](https://msdn.microsoft.com/library/windows/apps/br242878) or [**GridView**](https://msdn.microsoft.com/library/windows/apps/br242705) controls, which bind indirectly to the data via a [**CollectionViewSource**](https://msdn.microsoft.com/library/windows/apps/br209833) adapter.</span></span> <span data-ttu-id="4f62d-161">**CollectionViewSource** muss als Ressource im Markup vorhanden sein. Deshalb fügen wir sie zunächst dem Markup in „MainPage.xaml“ innerhalb von `<Page.Resources>` hinzu.</span><span class="sxs-lookup"><span data-stu-id="4f62d-161">The **CollectionViewSource** needs to be present in the markup as a resource, so let's begin by adding that to the markup in MainPage.xaml inside `<Page.Resources>`.</span></span>

```xml
    <CollectionViewSource
        x:Name="AuthorHasACollectionOfBookSku"
        Source="{Binding Authors}"
        IsSourceGrouped="true"/>
```

<span data-ttu-id="4f62d-162">Beachten Sie, dass die Bindung an **LongListSelector.ItemsSource** zum Wert **CollectionViewSource.Source** und **LongListSelector.IsGroupingEnabled** zu **CollectionViewSource.IsSourceGrouped** wird.</span><span class="sxs-lookup"><span data-stu-id="4f62d-162">Note that the binding on **LongListSelector.ItemsSource** becomes the value of **CollectionViewSource.Source**, and **LongListSelector.IsGroupingEnabled** becomes **CollectionViewSource.IsSourceGrouped**.</span></span> <span data-ttu-id="4f62d-163">**CollectionViewSource** weist einen Namen (und nicht wie möglicherweise erwartet einen Schlüssel) auf, sodass wir eine Bindung daran vornehmen können.</span><span class="sxs-lookup"><span data-stu-id="4f62d-163">The **CollectionViewSource** has a name (note: not a key, as you might expect) so that we can bind to it.</span></span>

<span data-ttu-id="4f62d-164">Als Nächstes ersetzen Sie `phone:LongListSelector` durch das folgende Markup. Dadurch erhalten wir ein vorläufiges **SemanticZoom**-Element, mit dem wir arbeiten können.</span><span class="sxs-lookup"><span data-stu-id="4f62d-164">Next, replace the `phone:LongListSelector` with this markup, which will give us a preliminary **SemanticZoom** to work with.</span></span>

```xml
    <SemanticZoom>
        <SemanticZoom.ZoomedInView>
            <ListView
                ItemsSource="{Binding Source={StaticResource AuthorHasACollectionOfBookSku}}"
                ItemTemplate="{StaticResource BookTemplate}">
                <ListView.GroupStyle>
                    <GroupStyle
                        HeaderTemplate="{StaticResource AuthorGroupHeaderTemplate}"
                        HidesIfEmpty="True"/>
                </ListView.GroupStyle>
            </ListView>
        </SemanticZoom.ZoomedInView>
        <SemanticZoom.ZoomedOutView>
            <ListView
                ItemsSource="{Binding CollectionGroups, Source={StaticResource AuthorHasACollectionOfBookSku}}"
                ItemTemplate="{StaticResource ZoomedOutAuthorTemplate}"/>
        </SemanticZoom.ZoomedOutView>
    </SemanticZoom>
```

<span data-ttu-id="4f62d-165">Den flachen Listen und Sprunglisten von **LongListSelector** stehen die vergrößerten und verkleinerten Ansichten von **SemanticZoom** gegenüber.</span><span class="sxs-lookup"><span data-stu-id="4f62d-165">The **LongListSelector** notion of flat list and jump list modes is answered in the **SemanticZoom** notion of a zoomed-in and a zoomed-out view, respectively.</span></span> <span data-ttu-id="4f62d-166">Die vergrößerte Ansicht ist eine Eigenschaft, die Sie auf eine Instanz von **ListView** festlegen.</span><span class="sxs-lookup"><span data-stu-id="4f62d-166">The zoomed-in view is a property, and you set that property to an instance of a **ListView**.</span></span> <span data-ttu-id="4f62d-167">In diesem Fall ist die verkleinerte Ansicht auch auf **ListView** festgelegt, und beide **ListView**-Steuerelemente sind an **CollectionViewSource** gebunden.</span><span class="sxs-lookup"><span data-stu-id="4f62d-167">In this case, the zoomed-out view is also set to a **ListView**, and both **ListView** controls are bound to our **CollectionViewSource**.</span></span> <span data-ttu-id="4f62d-168">Die vergrößerte Ansicht verwendet die gleiche Elementvorlage, Gruppenkopfvorlage und **HideEmptyGroups**-Einstellung (dann allerdings mit dem Namen **HidesIfEmpty**) wie die flache Liste von **LongListSelector**.</span><span class="sxs-lookup"><span data-stu-id="4f62d-168">The zoomed-in view uses the same item template, group header template, and **HideEmptyGroups** setting (now named **HidesIfEmpty**) as the **LongListSelector**'s flat list does.</span></span> <span data-ttu-id="4f62d-169">Darüber hinaus verwendet die verkleinerte Ansicht eine Elementvorlage, die weitestgehend der Vorlage im Sprunglistenstil (`AuthorNameJumpListStyle`) von **LongListSelector** entspricht.</span><span class="sxs-lookup"><span data-stu-id="4f62d-169">And the zoomed-out view uses an item template very much like the one inside the **LongListSelector**'s jump list style (`AuthorNameJumpListStyle`).</span></span> <span data-ttu-id="4f62d-170">Beachten Sie auch, dass die verkleinerte Ansicht an eine bestimmte **CollectionViewSource**-Eigenschaft namens **CollectionGroups** gebunden wird. Dabei handelt es sich um eine Auflistung, die anstelle der Elemente Gruppen enthält.</span><span class="sxs-lookup"><span data-stu-id="4f62d-170">Also, note that the zoomed-out view binds to a special property of the **CollectionViewSource** named **CollectionGroups**, which is a collection containing the groups rather than the items.</span></span>

<span data-ttu-id="4f62d-171">`AuthorNameJumpListStyle` wird größtenteils nicht mehr benötigt.</span><span class="sxs-lookup"><span data-stu-id="4f62d-171">We no longer need `AuthorNameJumpListStyle`, at least not all of it.</span></span> <span data-ttu-id="4f62d-172">Wir benötigen nur die Datenvorlage für die Gruppen in der verkleinerten Ansicht (d.h. die Autoren in dieser App).</span><span class="sxs-lookup"><span data-stu-id="4f62d-172">We only need the data template for the groups (which are authors in this app) in the zoomed-out view.</span></span> <span data-ttu-id="4f62d-173">Hierzu löschen wir den `AuthorNameJumpListStyle`-Stil und ersetzen ihn durch die folgende Datenvorlage.</span><span class="sxs-lookup"><span data-stu-id="4f62d-173">So, we delete the `AuthorNameJumpListStyle` style and replace it with this data template.</span></span>

```xml
   <DataTemplate x:Key="ZoomedOutAuthorTemplate">
        <Border Margin="9.6,0.8" Background="{Binding Converter={StaticResource JumpListItemBackgroundConverter}}">
            <TextBlock Margin="9.6,0,9.6,4.8" Text="{Binding Group.Name}" Style="{StaticResource SubtitleTextBlockStyle}"
            Foreground="{Binding Converter={StaticResource JumpListItemForegroundConverter}}" VerticalAlignment="Bottom"/>
        </Border>
    </DataTemplate>
```

<span data-ttu-id="4f62d-174">Da der Datenkontext dieser Datenvorlage eine Gruppe und kein Element ist, binden wir ihn an eine spezielle Eigenschaft namens **Group**.</span><span class="sxs-lookup"><span data-stu-id="4f62d-174">Note that, since the data context of this data template is a group rather than an item, we bind to a special property named **Group**.</span></span>

<span data-ttu-id="4f62d-175">Sie können die App jetzt erstellen und ausführen.</span><span class="sxs-lookup"><span data-stu-id="4f62d-175">You can build and run the app now.</span></span> <span data-ttu-id="4f62d-176">Im Mobile-Emulator sieht sie wie hier dargestellt aus.</span><span class="sxs-lookup"><span data-stu-id="4f62d-176">Here's how it looks on the mobile emulator.</span></span>

![UWP-App auf dem Mobilgerät mit Änderungen am ursprünglichen Quellcode](images/wpsl-to-uwp-case-studies/c02-02-mob10-initial-source-code-changes.png)

<span data-ttu-id="4f62d-178">Das Ansichtsmodell und die vergrößerten sowie verkleinerten Ansichten arbeiten korrekt zusammen. Ein Problem ist aber, dass der Aufwand in Bezug auf die Formatierungen und Vorlagen etwas erhöht ist.</span><span class="sxs-lookup"><span data-stu-id="4f62d-178">The view model and the zoomed-in and zoomed-out views are working together correctly, although one issue is that we need to do a little more styling and templating work.</span></span> <span data-ttu-id="4f62d-179">Beispielsweise werden die richtigen Stile und Pinsel nicht noch nicht verwendet wird, damit der Text für die Gruppenköpfe nicht sichtbar ist, die Sie zum Verkleinern klicken können. Wenn Sie die app auf einem Desktopgerät ausführen, klicken Sie dann sehen ein weiteres Problem, Sie also, dass die app noch nicht, die Benutzeroberfläche anpasst, um die beste Erfahrung und Verwendung von Speicherplatz auf größere Geräte, in denen Windows potenziell sehr viel größer als der Bildschirm eines mobilen Geräts sein kann, zu verleihen.</span><span class="sxs-lookup"><span data-stu-id="4f62d-179">For example, the correct styles and brushes are not yet being used, so the text is invisible on the group headers that you can click to zoom out. If you run the app on a desktop device, then you'll see a second issue, which is that the app doesn't yet adapt its user-interface to give the best experience and use of space on larger devices where windows can be potentially much larger than the screen of a mobile device.</span></span> <span data-ttu-id="4f62d-180">In den nächsten Abschnitten ([Anfängliches Erstellen von Formatierungen und Vorlagen](#initial-styling-and-templating), [Adaptive UI](#adaptive-ui) und [Abschließende Formatierung](#final-styling)) beheben wir diese Probleme.</span><span class="sxs-lookup"><span data-stu-id="4f62d-180">So, in the next few sections ([Initial styling and templating](#initial-styling-and-templating), [Adaptive UI](#adaptive-ui), and [Final styling](#final-styling)), we'll remedy those issues.</span></span>

## <a name="initial-styling-and-templating"></a><span data-ttu-id="4f62d-181">Anfängliches Erstellen von Formatierungen und Vorlagen</span><span class="sxs-lookup"><span data-stu-id="4f62d-181">Initial styling and templating</span></span>

<span data-ttu-id="4f62d-182">Zum richtigen Festlegen der Abstände für die Gruppenköpfe bearbeiten Sie `AuthorGroupHeaderTemplate` und legen für **Margin** unter **Border** den Wert `"0,0,0,9.6"` fest.</span><span class="sxs-lookup"><span data-stu-id="4f62d-182">To space out the group headers nicely, edit `AuthorGroupHeaderTemplate` and set a **Margin** of `"0,0,0,9.6"` on the **Border**.</span></span>

<span data-ttu-id="4f62d-183">Zum richtigen Festlegen der Abstände für die Buchelemente bearbeiten Sie `BookTemplate` und legen **Margin** für beide **TextBlock**-Elemente auf den Wert `"9.6,0"` fest.</span><span class="sxs-lookup"><span data-stu-id="4f62d-183">To space out the book items nicely, Edit `BookTemplate` and set the **Margin** to `"9.6,0"` on both **TextBlock**s.</span></span>

<span data-ttu-id="4f62d-184">Um das Layout des App-Namens und des Seitentitels zu verbessern, entfernen Sie unter `TitlePanel` das **Margin**-Element für den oberen Rand im zweiten **TextBlock**, indem Sie den Wert auf `"7.2,0,0,0"` festlegen.</span><span class="sxs-lookup"><span data-stu-id="4f62d-184">To lay out the app name and the page title a little better, inside `TitlePanel`, remove the top **Margin** on the second **TextBlock** by setting the value to `"7.2,0,0,0"`.</span></span> <span data-ttu-id="4f62d-185">Für das `TitlePanel`-Element selbst legen Sie den Rand auf `0` (oder einen anderen gewünschten Wert) fest.</span><span class="sxs-lookup"><span data-stu-id="4f62d-185">And on `TitlePanel` itself, set the margin to `0` (or whatever value looks good to you)</span></span>

<span data-ttu-id="4f62d-186">Ändern Sie den Hintergrund von `LayoutRoot` in `"{ThemeResource ApplicationPageBackgroundThemeBrush}"`.</span><span class="sxs-lookup"><span data-stu-id="4f62d-186">Change `LayoutRoot`'s Background to `"{ThemeResource ApplicationPageBackgroundThemeBrush}"`.</span></span>

## <a name="adaptive-ui"></a><span data-ttu-id="4f62d-187">Adaptive UI</span><span class="sxs-lookup"><span data-stu-id="4f62d-187">Adaptive UI</span></span>

<span data-ttu-id="4f62d-188">Da wir mit einer Telefon-App begonnen haben, ist es nicht überraschend, dass das UI-Layout unserer portierten App zu diesem Zeitpunkt eigentlich nur für kleine Geräte und schmale Fenster sinnvoll ist.</span><span class="sxs-lookup"><span data-stu-id="4f62d-188">Because we started out with a phone app, it's no surprise that our ported app's UI layout really only makes sense for small devices and narrow windows at this stage in the process.</span></span> <span data-ttu-id="4f62d-189">Wir möchten aber erreichen, dass das UI-Layout sich selbst anpasst und den Platz besser nutzt, wenn die App in einem breiten Fenster ausgeführt wird (nur möglich auf einem Gerät mit großem Bildschirm). Außerdem soll die aktuelle UI nur verwendet werden, wenn das Fenster der App schmal ist (möglich auf einem kleinen Gerät und auch auf einem großen Gerät).</span><span class="sxs-lookup"><span data-stu-id="4f62d-189">But, we'd really like the UI layout to adapt itself and make better use of space when the app is running in a wide window (which is only possible on a device with a large screen), and for it only to use the UI that we have currently when the app's window is narrow (which happens on a small device, and can also happen on a large device).</span></span>

<span data-ttu-id="4f62d-190">Wir können dazu auch das adaptive Visual State-Manager-Feature verwenden.</span><span class="sxs-lookup"><span data-stu-id="4f62d-190">We can use the adaptive Visual State Manager feature to achieve this.</span></span> <span data-ttu-id="4f62d-191">Wir werden Eigenschaften für visuelle Elemente festlegen, damit für die Benutzeroberfläche mit den Vorlagen, die wir derzeit verwenden, standardmäßig der schmale Zustand genutzt wird.</span><span class="sxs-lookup"><span data-stu-id="4f62d-191">We'll set properties on visual elements so that, by default, the UI is laid out in the narrow state using the templates that we're using right now.</span></span> <span data-ttu-id="4f62d-192">Dann werden wir erkennen, wann das Fenster der App breiter als eine bestimmte Größe ist bzw. dieser entspricht (gemessen in der Einheit [effektive Pixel](wpsl-to-uwp-porting-xaml-and-ui.md)), und als Reaktion darauf die Eigenschaften der visuelle Elemente so ändern, dass wir ein größeres und breiteres Layout erhalten.</span><span class="sxs-lookup"><span data-stu-id="4f62d-192">Then, we'll detect when the app's window is wider-than-or-equal-to a specific size (measured in units of [effective pixels](wpsl-to-uwp-porting-xaml-and-ui.md)), and in response, we'll change the properties of visual elements so that we get a larger, and wider, layout.</span></span> <span data-ttu-id="4f62d-193">Wir versetzen diese Eigenschaftsänderungen in einen visuellen Zustand und verwenden einen adaptiven Auslöser, um fortlaufend zu überwachen und zu bestimmen, ob der visuelle Zustand abhängig von der Breite des Fensters in effektiven Pixeln angewendet werden soll.</span><span class="sxs-lookup"><span data-stu-id="4f62d-193">We'll put those property changes in a visual state, and we'll use an adaptive trigger to continuously monitor and determine whether to apply that visual state, or not, depending on the width of the window in effective pixels.</span></span> <span data-ttu-id="4f62d-194">Die Auslösung erfolgt hierbei anhand der Fensterbreite, aber sie kann auch anhand der Fensterhöhe erfolgen.</span><span class="sxs-lookup"><span data-stu-id="4f62d-194">We're triggering on window width in this case, but it's possible to trigger on window height, too.</span></span>

<span data-ttu-id="4f62d-195">Eine minimale Fensterbreite von 548Epx eignet sich in diesem Anwendungsfall, da dies der Größe des kleinsten Geräts entspricht, auf dem wir das breite Layout anzeigen können.</span><span class="sxs-lookup"><span data-stu-id="4f62d-195">A minimum window width of 548 epx is appropriate for this use case because that's the size of the smallest device we would want to show the wide layout on.</span></span> <span data-ttu-id="4f62d-196">Telefone sind in der Regel kleiner als 548Epx, sodass wir auf solch einem kleinen Gerät das schmale Layout erhalten würden.</span><span class="sxs-lookup"><span data-stu-id="4f62d-196">Phones are typically smaller than 548 epx, so on a small device like that, we'd remain in the default narrow layout.</span></span> <span data-ttu-id="4f62d-197">Auf einem PC wird das Fenster standardmäßig breit genug gestartet, um den Wechsel zum breiten Zustand auszulösen, in dem Elemente der Größe 250x250 angezeigt werden.</span><span class="sxs-lookup"><span data-stu-id="4f62d-197">On a PC, the window will launch by default wide enough to trigger the switch to the wide state, which will display 250x250-sized items.</span></span> <span data-ttu-id="4f62d-198">Dort können Sie das Fenster so schmal machen, dass mindestens zwei Spalten für Elemente der Größe 250x250 angezeigt werden können.</span><span class="sxs-lookup"><span data-stu-id="4f62d-198">From there, you'll be able to drag the window narrow enough to display a minimum of two columns of the 250x250 items.</span></span> <span data-ttu-id="4f62d-199">Ist es schmaler, wird der Auslöser deaktiviert, der breite Ansichtszustand wird gelöscht, und das schmale Standardlayout wird aktiviert.</span><span class="sxs-lookup"><span data-stu-id="4f62d-199">Any narrower than that and the trigger will deactivate, the wide visual state will be removed, and the default narrow layout will be in effect.</span></span>

<span data-ttu-id="4f62d-200">Bevor wir das Problem mit dem adaptiven Visual State-Manager angehen, müssen wir zuerst den breiten Zustand entwerfen. Dies bedeutet, dass wir unserem Markup einige neue visuelle Elemente und Vorlagen hinzufügen müssen.</span><span class="sxs-lookup"><span data-stu-id="4f62d-200">Before tackling the adaptive Visual State Manager piece, we first need to design the wide state and that means adding some new visual elements and templates to our markup.</span></span> <span data-ttu-id="4f62d-201">Die entsprechende Vorgehensweise wird in den folgenden Schritten beschrieben.</span><span class="sxs-lookup"><span data-stu-id="4f62d-201">These steps describe how to do that.</span></span> <span data-ttu-id="4f62d-202">Mit Benennungskonventionen für visuelle Elemente und Vorlagen fügen wir das Wort „wide“ (breit) in den Namen aller Elemente oder Vorlagen für den breiten Zustand ein.</span><span class="sxs-lookup"><span data-stu-id="4f62d-202">By way of naming conventions for visual elements and templates, we'll include the word "wide" in the name of any element or template that is for the wide state.</span></span> <span data-ttu-id="4f62d-203">Wenn ein Element oder eine Vorlage nicht das Wort „wide“ enthält, können Sie davon ausgehen, dass es für den schmalen Zustand bestimmt ist. Dies ist der Standardzustand, und die Eigenschaftswerte werden als lokale Werte der visuellen Elemente einer Seite festgelegt.</span><span class="sxs-lookup"><span data-stu-id="4f62d-203">If an element or template does not contain the word "wide", then you can assume that it is for the narrow state, which is the default state and whose property values are set as local values on visual elements in the page.</span></span> <span data-ttu-id="4f62d-204">Nur die Eigenschaftswerte für den breiten Zustand werden im Markup über einen tatsächlichen visuellen Zustand festgelegt.</span><span class="sxs-lookup"><span data-stu-id="4f62d-204">Only the property values for the wide state are set via an actual Visual State in the markup.</span></span>

-   <span data-ttu-id="4f62d-205">Erstellen Sie eine Kopie des [**SemanticZoom**](https://msdn.microsoft.com/library/windows/apps/hh702601)-Steuerelements im Markup, und legen Sie in der Kopie `x:Name="narrowSeZo"` fest.</span><span class="sxs-lookup"><span data-stu-id="4f62d-205">Make a copy of the [**SemanticZoom**](https://msdn.microsoft.com/library/windows/apps/hh702601) control in the markup and set `x:Name="narrowSeZo"` on the copy.</span></span> <span data-ttu-id="4f62d-206">Legen Sie im Original `x:Name="wideSeZo"` und `Visibility="Collapsed"` so fest, dass der breite Zustand standardmäßig nicht sichtbar ist.</span><span class="sxs-lookup"><span data-stu-id="4f62d-206">On the original, set `x:Name="wideSeZo"` and also set `Visibility="Collapsed"` so that the wide one is not visible by default.</span></span>
-   <span data-ttu-id="4f62d-207">Ändern Sie in `wideSeZo` die **ListView**-Elemente in **GridView**-Elemente sowohl für die vergrößerte als auch für die verkleinerte Ansicht.</span><span class="sxs-lookup"><span data-stu-id="4f62d-207">In `wideSeZo`, change the **ListView**s to **GridView**s in both the zoomed-in view and the zoomed-out view.</span></span>
-   <span data-ttu-id="4f62d-208">Erstellen Sie eine Kopie der drei Ressourcen `AuthorGroupHeaderTemplate`, `ZoomedOutAuthorTemplate` und `BookTemplate`, und fügen Sie das Wort `Wide` an die Schlüssel der Kopien an.</span><span class="sxs-lookup"><span data-stu-id="4f62d-208">Make a copy of these three resources `AuthorGroupHeaderTemplate`, `ZoomedOutAuthorTemplate`, and `BookTemplate` and append the word `Wide` to the keys of the copies.</span></span> <span data-ttu-id="4f62d-209">Aktualisieren Sie außerdem `wideSeZo`, damit darin auf die Schlüssel dieser neuen Ressourcen verwiesen wird.</span><span class="sxs-lookup"><span data-stu-id="4f62d-209">Also, update `wideSeZo` so that it references the keys of these new resources.</span></span>
-   <span data-ttu-id="4f62d-210">Ersetzen Sie den Inhalt von `AuthorGroupHeaderTemplateWide` durch `<TextBlock Style="{StaticResource SubheaderTextBlockStyle}" Text="{Binding Name}"/>`.</span><span class="sxs-lookup"><span data-stu-id="4f62d-210">Replace the contents of `AuthorGroupHeaderTemplateWide` with `<TextBlock Style="{StaticResource SubheaderTextBlockStyle}" Text="{Binding Name}"/>`.</span></span>
-   <span data-ttu-id="4f62d-211">Ersetzen Sie den Inhalt von `ZoomedOutAuthorTemplateWide` durch:</span><span class="sxs-lookup"><span data-stu-id="4f62d-211">Replace the contents of `ZoomedOutAuthorTemplateWide` with:</span></span>

```xml
    <Grid HorizontalAlignment="Left" Width="250" Height="250" >
        <Border Background="{StaticResource ListViewItemPlaceholderBackgroundThemeBrush}"/>
        <StackPanel VerticalAlignment="Bottom" Background="{StaticResource ListViewItemOverlayBackgroundThemeBrush}">
          <TextBlock Foreground="{StaticResource ListViewItemOverlayForegroundThemeBrush}"
              Style="{StaticResource SubtitleTextBlockStyle}"
            Height="80" Margin="15,0" Text="{Binding Group.Name}"/>
        </StackPanel>
    </Grid>
```

-   <span data-ttu-id="4f62d-212">Ersetzen Sie den Inhalt von `BookTemplateWide` durch Folgendes:</span><span class="sxs-lookup"><span data-stu-id="4f62d-212">Replace the contents of `BookTemplateWide` with:</span></span>

```xml
    <Grid HorizontalAlignment="Left" Width="250" Height="250">
        <Border Background="{StaticResource ListViewItemPlaceholderBackgroundThemeBrush}"/>
        <Image Source="{Binding CoverImage}" Stretch="UniformToFill"/>
        <StackPanel VerticalAlignment="Bottom" Background="{StaticResource ListViewItemOverlayBackgroundThemeBrush}">
            <TextBlock Style="{StaticResource SubtitleTextBlockStyle}"
                Foreground="{StaticResource ListViewItemOverlaySecondaryForegroundThemeBrush}"
                TextWrapping="NoWrap" TextTrimming="CharacterEllipsis"
                Margin="12,0,24,0" Text="{Binding Title}"/>
            <TextBlock Style="{StaticResource CaptionTextBlockStyle}" Text="{Binding Author.Name}"
                Foreground="{StaticResource ListViewItemOverlaySecondaryForegroundThemeBrush}" TextWrapping="NoWrap"
                TextTrimming="CharacterEllipsis" Margin="12,0,12,12"/>
        </StackPanel>
    </Grid>
```

-   <span data-ttu-id="4f62d-213">Für den breiten Zustand benötigen die Gruppen in der vergrößerten Ansicht mehr vertikalen Platz.</span><span class="sxs-lookup"><span data-stu-id="4f62d-213">For the wide state, the groups in the zoomed-in view will need more vertical breathing space around them.</span></span> <span data-ttu-id="4f62d-214">Wir erhalten die gewünschten Ergebnisse, indem wir eine ItemsPanel-Vorlage erstellen und darauf verweisen.</span><span class="sxs-lookup"><span data-stu-id="4f62d-214">Creating and referencing an items panel template will give us the results we want.</span></span> <span data-ttu-id="4f62d-215">Das Markup sieht wie folgt aus:</span><span class="sxs-lookup"><span data-stu-id="4f62d-215">Here's how the markup looks.</span></span>

```xml
   <ItemsPanelTemplate x:Key="ZoomedInItemsPanelTemplate">
        <ItemsWrapGrid Orientation="Horizontal" GroupPadding="0,0,0,20"/>
    </ItemsPanelTemplate>
    ...

    <SemanticZoom x:Name="wideSeZo" ... >
        <SemanticZoom.ZoomedInView>
            <GridView
            ...
            ItemsPanel="{StaticResource ZoomedInItemsPanelTemplate}">
            ...
```

-   <span data-ttu-id="4f62d-216">Fügen Sie zuletzt das richtige Visual State Manager-Markup als erstes untergeordnetes Element von `LayoutRoot` hinzu.</span><span class="sxs-lookup"><span data-stu-id="4f62d-216">Finally, add the appropriate Visual State Manager markup as the first child of `LayoutRoot`.</span></span>

```xml
    <Grid x:Name="LayoutRoot" ... >
        <VisualStateManager.VisualStateGroups>
            <VisualStateGroup>
                <VisualState x:Name="WideState">
                    <VisualState.StateTriggers>
                        <AdaptiveTrigger MinWindowWidth="548"/>
                    </VisualState.StateTriggers>
                    <VisualState.Setters>
                        <Setter Target="wideSeZo.Visibility" Value="Visible"/>
                        <Setter Target="narrowSeZo.Visibility" Value="Collapsed"/>
                    </VisualState.Setters>
                </VisualState>
            </VisualStateGroup>
        </VisualStateManager.VisualStateGroups>

    ...
```

## <a name="final-styling"></a><span data-ttu-id="4f62d-217">Abschließende Formatierung</span><span class="sxs-lookup"><span data-stu-id="4f62d-217">Final styling</span></span>

<span data-ttu-id="4f62d-218">Nun müssen wir nur noch einige abschließende Formatierungsoptimierungen vornehmen.</span><span class="sxs-lookup"><span data-stu-id="4f62d-218">All that remains are some final styling tweaks.</span></span>

-   <span data-ttu-id="4f62d-219">Legen Sie unter `AuthorGroupHeaderTemplate` das `Foreground="White"`-Element für **TextBlock** so fest, dass sich bei der Ausführung für die Familie der Mobilgeräte die richtige Darstellung ergibt.</span><span class="sxs-lookup"><span data-stu-id="4f62d-219">In `AuthorGroupHeaderTemplate`, set `Foreground="White"` on the **TextBlock** so that it looks correct when running on the mobile device family.</span></span>
-   <span data-ttu-id="4f62d-220">Fügen Sie `FontWeight="SemiBold"` sowohl in `AuthorGroupHeaderTemplate` als auch in `ZoomedOutAuthorTemplate` dem **TextBlock**-Element hinzu.</span><span class="sxs-lookup"><span data-stu-id="4f62d-220">Add `FontWeight="SemiBold"` to the **TextBlock** in both `AuthorGroupHeaderTemplate` and `ZoomedOutAuthorTemplate`.</span></span>
-   <span data-ttu-id="4f62d-221">In `narrowSeZo`sind die Gruppenköpfe und die Autoren in der verkleinerten Ansicht nicht gestreckt, sondern linksbündig ausgerichtet. Dies müssen wir also ändern.</span><span class="sxs-lookup"><span data-stu-id="4f62d-221">In `narrowSeZo`, the group headers and the authors in the zoomed-out view are left-aligned instead of stretched, so let's work on that.</span></span> <span data-ttu-id="4f62d-222">Wir erstellen [**HeaderContainerStyle**](https://msdn.microsoft.com/library/windows/apps/dn251841) für die vergrößerte Ansicht, wobei [**HorizontalContentAlignment**](https://msdn.microsoft.com/library/windows/apps/br209417) auf `Stretch` festgelegt ist.</span><span class="sxs-lookup"><span data-stu-id="4f62d-222">We'll create a [**HeaderContainerStyle**](https://msdn.microsoft.com/library/windows/apps/dn251841) for the zoomed-in view with [**HorizontalContentAlignment**](https://msdn.microsoft.com/library/windows/apps/br209417) set to `Stretch`.</span></span> <span data-ttu-id="4f62d-223">Anschließend erstellen wir [**ItemContainerStyle**](https://msdn.microsoft.com/library/windows/apps/br242817) für die verkleinerte Ansicht, die denselben [**Setter**](https://msdn.microsoft.com/library/windows/apps/br208817) enthält.</span><span class="sxs-lookup"><span data-stu-id="4f62d-223">And we'll create an [**ItemContainerStyle**](https://msdn.microsoft.com/library/windows/apps/br242817) for the zoomed-out view containing that same [**Setter**](https://msdn.microsoft.com/library/windows/apps/br208817).</span></span> <span data-ttu-id="4f62d-224">Dies sieht wie folgt aus:</span><span class="sxs-lookup"><span data-stu-id="4f62d-224">Here's what that looks like.</span></span>

```xml
   <Style x:Key="AuthorGroupHeaderContainerStyle" TargetType="ListViewHeaderItem">
        <Setter Property="HorizontalContentAlignment" Value="Stretch"/>
    </Style>

    <Style x:Key="ZoomedOutAuthorItemContainerStyle" TargetType="ListViewItem">
        <Setter Property="HorizontalContentAlignment" Value="Stretch"/>
    </Style>

    ...

    <SemanticZoom x:Name="narrowSeZo" ... >
        <SemanticZoom.ZoomedInView>
            <ListView
            ...
                <ListView.GroupStyle>
                    <GroupStyle
                    ...
                    HeaderContainerStyle="{StaticResource AuthorGroupHeaderContainerStyle}"
                    ...
        <SemanticZoom.ZoomedOutView>
            <ListView
                ...
                ItemContainerStyle="{StaticResource ZoomedOutAuthorItemContainerStyle}"
                ...
```

<span data-ttu-id="4f62d-225">Nach den letzten Formatierungsvorgängen sieht die App folgendermaßen aus.</span><span class="sxs-lookup"><span data-stu-id="4f62d-225">That last sequence of styling operations leaves the app looking like this.</span></span>

![Die portierte Windows10-App auf einem Desktopgerät, vergrößerte Ansicht, zwei Fenstergrößen](images/w8x-to-uwp-case-studies/c02-07-desk10-zi-ported.png)

<span data-ttu-id="4f62d-227">Die portierte Windows 10-app auf einem Desktopgerät, vergrößerte Ansicht, zwei Fenstergrößen  
![die portierte Windows 10-app auf einem Desktopgerät, verkleinerte Ansicht, zwei Fenstergrößen</span><span class="sxs-lookup"><span data-stu-id="4f62d-227">The ported Windows10 app running on a Desktop device, zoomed-in view, two sizes of window  
![the ported windows 10 app running on a desktop device, zoomed-out view, two sizes of window</span></span>](images/w8x-to-uwp-case-studies/c02-08-desk10-zo-ported.png)

<span data-ttu-id="4f62d-228">Die portierte Windows 10-app auf einem Desktopgerät, verkleinerte Ansicht, zwei Fenstergrößen</span><span class="sxs-lookup"><span data-stu-id="4f62d-228">The ported Windows10 app running on a Desktop device, zoomed-out view, two sizes of window</span></span>

![Die portierte Windows 10-App auf einem mobilen Gerät, vergrößerte Ansicht](images/w8x-to-uwp-case-studies/c02-09-mob10-zi-ported.png)

<span data-ttu-id="4f62d-230">Die portierte Windows 10-app auf einem mobilen Gerät, vergrößerte Ansicht</span><span class="sxs-lookup"><span data-stu-id="4f62d-230">The ported Windows10 app running on a Mobile device, zoomed-in view</span></span>

![Die portierte Windows 10-App auf einem mobilen Gerät, verkleinerte Ansicht](images/w8x-to-uwp-case-studies/c02-10-mob10-zo-ported.png)

<span data-ttu-id="4f62d-232">Die portierte Windows 10-app auf einem mobilen Gerät, verkleinerte Ansicht</span><span class="sxs-lookup"><span data-stu-id="4f62d-232">The ported Windows10 app running on a Mobile device, zoomed-out view</span></span>

## <a name="making-the-view-model-more-flexible"></a><span data-ttu-id="4f62d-233">Entwickeln eines flexibleren Ansichtsmodells</span><span class="sxs-lookup"><span data-stu-id="4f62d-233">Making the view model more flexible</span></span>

<span data-ttu-id="4f62d-234">In diesem Abschnitt wird demonstriert, welche Möglichkeiten sich durch das Verschieben unserer App und die Verwendung der UWP ergeben.</span><span class="sxs-lookup"><span data-stu-id="4f62d-234">This section contains an example of facilities that open up to us by virtue of having moved our app to use the UWP.</span></span> <span data-ttu-id="4f62d-235">Hier erläutern wir optionale Schritte, mit denen Sie Ihr Ansichtsmodell flexibler gestalten können, wenn über **CollectionViewSource** darauf zugegriffen wird.</span><span class="sxs-lookup"><span data-stu-id="4f62d-235">Here, we explain optional steps that you can follow to make your view model more flexible when accessed via a **CollectionViewSource**.</span></span> <span data-ttu-id="4f62d-236">Das Ansichtsmodell (die Quelldatei ist in ViewModel\\BookstoreViewModel.cs), das wir aus dem WindowsPhone Silverlight-app Bookstore2WPSL8 portiert haben, enthält eine Klasse namens "author" abgeleitet von **Liste&lt;T&gt;**, wobei **T** BookSku ist.</span><span class="sxs-lookup"><span data-stu-id="4f62d-236">The view model (the source file is in ViewModel\\BookstoreViewModel.cs) that we ported from the WindowsPhone Silverlight app Bookstore2WPSL8 contains a class named Author, which derives from **List&lt;T&gt;**, where **T** is BookSku.</span></span> <span data-ttu-id="4f62d-237">Dies bedeutet, dass die Author-Klasse einer Gruppe von BookSku-Objekten *entspricht*.</span><span class="sxs-lookup"><span data-stu-id="4f62d-237">That means that the Author class *is a* group of BookSku.</span></span>

<span data-ttu-id="4f62d-238">Wenn wir **CollectionViewSource.Source** an „Authors“ binden, zeigen wir dadurch lediglich an, dass jeder Autor in „Authors“ eine Gruppe von *etwas* ist.</span><span class="sxs-lookup"><span data-stu-id="4f62d-238">When we bind **CollectionViewSource.Source** to Authors, the only thing we're communicating is that each Author in Authors is a group of *something*.</span></span> <span data-ttu-id="4f62d-239">Wir überlassen es **CollectionViewSource** zu bestimmen, dass „Author“ in diesem Fall eine BookSku-Gruppe ist.</span><span class="sxs-lookup"><span data-stu-id="4f62d-239">We leave it to the **CollectionViewSource** to determine that Author is, in this case, a group of BookSku.</span></span> <span data-ttu-id="4f62d-240">Diese Lösung funktioniert zwar, ist jedoch nicht sehr flexibel.</span><span class="sxs-lookup"><span data-stu-id="4f62d-240">That works: but it's not flexible.</span></span> <span data-ttu-id="4f62d-241">Was wäre, wenn „Author“ *beides* sein soll, eine Gruppe von BookSku-Objekten *und* eine Gruppe der Adressen, unter denen der Autor gewohnt hat?</span><span class="sxs-lookup"><span data-stu-id="4f62d-241">What if we want Author to be *both* a group of BookSku *and* a group of the addresses where the author has lived?</span></span> <span data-ttu-id="4f62d-242">„Author“ kann *nicht* beide dieser Gruppen darstellen.</span><span class="sxs-lookup"><span data-stu-id="4f62d-242">Author can't *be* both of those groups.</span></span> <span data-ttu-id="4f62d-243">„Author“ *kann* jedoch eine beliebige Anzahl von Gruppen enthalten.</span><span class="sxs-lookup"><span data-stu-id="4f62d-243">But, Author can *have* any number of groups.</span></span> <span data-ttu-id="4f62d-244">Unsere Lösung sieht also wie folgt aus: Verwenden Sie das *has-a-group*-Muster anstelle oder zusätzlich zum aktuell verwendeten *is-a-group*-Muster.</span><span class="sxs-lookup"><span data-stu-id="4f62d-244">And that's the solution: use the *has-a-group* pattern instead of, or in addition to, the *is-a-group* pattern that we're using currently.</span></span> <span data-ttu-id="4f62d-245">Gehen Sie wie folgt vor:</span><span class="sxs-lookup"><span data-stu-id="4f62d-245">Here's how:</span></span>

-   <span data-ttu-id="4f62d-246">Ändern Sie „Author“, sodass das Element nicht mehr von **List&lt;T&gt;** abgeleitet wird.</span><span class="sxs-lookup"><span data-stu-id="4f62d-246">Change Author so that it no longer derives from **List&lt;T&gt;**.</span></span>
-   <span data-ttu-id="4f62d-247">Fügen Sie „Author“ das folgende Feld hinzu: `private ObservableCollection<BookSku> bookSkus = new ObservableCollection<BookSku>();`.</span><span class="sxs-lookup"><span data-stu-id="4f62d-247">Add this field to Author: `private ObservableCollection<BookSku> bookSkus = new ObservableCollection<BookSku>();`.</span></span>
-   <span data-ttu-id="4f62d-248">Fügen Sie „Author“ die folgende Eigenschaft hinzu: `public ObservableCollection<BookSku> BookSkus { get { return this.bookSkus; } }`.</span><span class="sxs-lookup"><span data-stu-id="4f62d-248">Add this property to Author: `public ObservableCollection<BookSku> BookSkus { get { return this.bookSkus; } }`.</span></span>
-   <span data-ttu-id="4f62d-249">Selbstverständlich können wir die beiden vorangehenden Schritte auch wiederholen, um „Author“ so viele Gruppen wie nötig hinzuzufügen.</span><span class="sxs-lookup"><span data-stu-id="4f62d-249">And of course we can repeat the above two steps to add as many groups to Author as we need.</span></span>
-   <span data-ttu-id="4f62d-250">Ändern Sie die Implementierung der AddBookSku-Methode in `this.BookSkus.Add(bookSku);`.</span><span class="sxs-lookup"><span data-stu-id="4f62d-250">Change the implementation of the AddBookSku method to `this.BookSkus.Add(bookSku);`.</span></span>
-   <span data-ttu-id="4f62d-251">Nachdem „Author“ jetzt über mindestens eine Gruppe *verfügt*, müssen wir **CollectionViewSource** mitteilen, welche dieser Gruppen verwendet werden soll.</span><span class="sxs-lookup"><span data-stu-id="4f62d-251">Now that Author *has* at least one group, we need to communicate to the **CollectionViewSource** which of those groups it should use.</span></span> <span data-ttu-id="4f62d-252">Fügen Sie diese Eigenschaft hierzu **CollectionViewSource** hinzu:</span><span class="sxs-lookup"><span data-stu-id="4f62d-252">To do that, add this property to the **CollectionViewSource**:</span></span> `ItemsPath="BookSkus"`

<span data-ttu-id="4f62d-253">Die Funktionalität dieser App wird durch diese Änderungen nicht verändert, aber Sie wissen jetzt, wie Sie „Author“ und **CollectionViewSource** im Bedarfsfall erweitern können.</span><span class="sxs-lookup"><span data-stu-id="4f62d-253">Those changes leave this app functionally unchanged, but you now know how you could extend Author, and the **CollectionViewSource**, should you need to.</span></span> <span data-ttu-id="4f62d-254">Wir nehmen nun eine letzte Änderung an „Author“ vor, damit eine Standardgruppe unserer Wahl verwendet wird, wenn wir „Author“ *ohne* Angabe von **CollectionViewSource.ItemsPath** verwenden:</span><span class="sxs-lookup"><span data-stu-id="4f62d-254">Let's make one last change to Author so that, if we use it *without* specifying **CollectionViewSource.ItemsPath**, a default group of our choosing will be used:</span></span>

```csharp
    public class Author : IEnumerable<BookSku>
    {
        ...

        public IEnumerator<BookSku> GetEnumerator()
        {
            return this.BookSkus.GetEnumerator();
        }
        System.Collections.IEnumerator System.Collections.IEnumerable.GetEnumerator()
        {
            return this.BookSkus.GetEnumerator();
        }
    }
```

<span data-ttu-id="4f62d-255">Jetzt können wir `ItemsPath="BookSkus"` entfernen, ohne dass sich das Verhalten der App ändert.</span><span class="sxs-lookup"><span data-stu-id="4f62d-255">And now we can choose to remove `ItemsPath="BookSkus"` if we like and the app will still behave the same way.</span></span>

## <a name="conclusion"></a><span data-ttu-id="4f62d-256">Fazit</span><span class="sxs-lookup"><span data-stu-id="4f62d-256">Conclusion</span></span>

<span data-ttu-id="4f62d-257">In dieser Fallstudie haben wir es mit einer aufwändigeren Benutzeroberfläche als im vorherigen Beispiel zu tun.</span><span class="sxs-lookup"><span data-stu-id="4f62d-257">This case study involved a more ambitious user interface than the previous one.</span></span> <span data-ttu-id="4f62d-258">Alle Funktionen und Konzepte für die WindowsPhone Silverlight **LongListSelector**– und vieles mehr – für eine UWP-app in Form von **"semanticzoom"**, **ListView**, **GridView**und **CollectionViewSource**verfügbar sein gefunden wurden.</span><span class="sxs-lookup"><span data-stu-id="4f62d-258">All of the facilities and concepts of the WindowsPhone Silverlight **LongListSelector**—and more—were found to be available to a UWP app in the form of **SemanticZoom**, **ListView**, **GridView**, and **CollectionViewSource**.</span></span> <span data-ttu-id="4f62d-259">Sie haben erfahren, wie Sie sowohl imperativen Code als auch Markup in einer UWP-App wiederverwenden oder kopieren und bearbeiten, um Funktionen, Benutzeroberflächenelemente und Interaktionen speziell für die schmalsten und breitesten Formfaktoren von Windows-Geräten und alle Größen dazwischen umzusetzen.</span><span class="sxs-lookup"><span data-stu-id="4f62d-259">We showed how to re-use, or copy-and-edit, both imperative code and markup in a UWP app to achieve functionality, UI, and interactions tailored to suit the narrowest and widest Windows device form factors and all sizes in-between.</span></span>
