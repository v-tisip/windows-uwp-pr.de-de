---
description: Sie beginnen den portierungsprozess durch Erstellen eines neuen Windows 10-Projekts in Visual Studio und Ihre Dateien in diese kopiert.
title: Portieren von WindowsPhone Silverlight-Projekten zu UWP-Projekte
ms.assetid: d86c99c5-eb13-4e37-b000-6a657543d8f4
ms.date: 02/08/2017
ms.topic: article
keywords: Windows10, UWP
ms.localizationpriority: medium
ms.openlocfilehash: 55c4347b85d94d183d44599f7d34bc750d34d181
ms.sourcegitcommit: b11f305dbf7649c4b68550b666487c77ea30d98f
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 11/28/2018
ms.locfileid: "7844472"
---
# <a name="porting-windowsphone-silverlight-projects-to-uwp-projects"></a><span data-ttu-id="d0f33-104">Portieren von WindowsPhone Silverlight-Projekten zu UWP-Projekte</span><span class="sxs-lookup"><span data-stu-id="d0f33-104">Porting WindowsPhone Silverlight projects to UWP projects</span></span>


<span data-ttu-id="d0f33-105">Das vorherige Thema war [Namespace- und Klassenzuordnungen](wpsl-to-uwp-namespace-and-class-mappings.md).</span><span class="sxs-lookup"><span data-stu-id="d0f33-105">The previous topic was [Namespace and class mappings](wpsl-to-uwp-namespace-and-class-mappings.md).</span></span>

<span data-ttu-id="d0f33-106">Sie beginnen den portierungsprozess durch Erstellen eines neuen Windows 10-Projekts in Visual Studio und Ihre Dateien in diese kopiert.</span><span class="sxs-lookup"><span data-stu-id="d0f33-106">You begin the porting process by creating a new Windows10 project in Visual Studio and copying your files into it.</span></span>

## <a name="create-the-project-and-copy-files-to-it"></a><span data-ttu-id="d0f33-107">Erstellen des Projekts und Kopieren der Dateien</span><span class="sxs-lookup"><span data-stu-id="d0f33-107">Create the project and copy files to it</span></span>

1.  <span data-ttu-id="d0f33-108">Starten Sie Microsoft Visual Studio2015 und erstellen Sie ein neues Projekt leere Anwendung (Windows Universal).</span><span class="sxs-lookup"><span data-stu-id="d0f33-108">Launch Microsoft Visual Studio2015 and create a new Blank Application (Windows Universal) project.</span></span> <span data-ttu-id="d0f33-109">Weitere Informationen finden Sie unter [Schnelleinstieg in die Entwicklung einer Windows-Runtime 8.x-app mithilfe von Vorlagen (c#, C++, Visual Basic)](https://msdn.microsoft.com/library/windows/apps/hh768232).</span><span class="sxs-lookup"><span data-stu-id="d0f33-109">For more info, see [Jumpstart your Windows Runtime 8.x app using templates (C#, C++, Visual Basic)](https://msdn.microsoft.com/library/windows/apps/hh768232).</span></span> <span data-ttu-id="d0f33-110">Für das neue Projekt wird ein App-Paket (APPX-Datei) erstellt, das auf allen Gerätefamilien ausgeführt werden kann.</span><span class="sxs-lookup"><span data-stu-id="d0f33-110">Your new project builds an app package (an appx file) that will run on all device families.</span></span>
2.  <span data-ttu-id="d0f33-111">Identifizieren Sie in Ihrem WindowsPhone Silverlight-app-Projekt alle Quellcodedateien und visuellen Ressourcendateien an, die Sie wiederverwenden möchten.</span><span class="sxs-lookup"><span data-stu-id="d0f33-111">In your WindowsPhone Silverlight app project, identify all the source code files and visual asset files that you want to reuse.</span></span> <span data-ttu-id="d0f33-112">Kopieren Sie mithilfe des Explorers die Datenmodelle, Ansichtsmodelle, visuellen Ressourcen, Ressourcenverzeichnisse sowie die Ordnerstruktur und alles andere, was Sie wiederverwenden möchten, in das neue Projekt.</span><span class="sxs-lookup"><span data-stu-id="d0f33-112">Using File Explorer, copy data models, view models, visual assets, Resource Dictionaries, folder structure, and anything else that you wish to re-use, to your new project.</span></span> <span data-ttu-id="d0f33-113">Kopieren oder erstellen Sie bei Bedarf Unterordner auf dem Datenträger.</span><span class="sxs-lookup"><span data-stu-id="d0f33-113">Copy or create sub-folders on disk as necessary.</span></span>
3.  <span data-ttu-id="d0f33-114">Kopieren Sie auch Ansichten (z.B. „MainPage.xaml“ und „MainPage.xaml.cs“) in den neuen Projektknoten.</span><span class="sxs-lookup"><span data-stu-id="d0f33-114">Copy views (for example, MainPage.xaml and MainPage.xaml.cs) into the new project node, too.</span></span> <span data-ttu-id="d0f33-115">Erstellen Sie bei Bedarf auch hier neue Unterordner, und entfernen Sie die vorhandenen Ansichten aus dem Projekt.</span><span class="sxs-lookup"><span data-stu-id="d0f33-115">Again, create new sub-folders as necessary, and remove the existing views from the project.</span></span> <span data-ttu-id="d0f33-116">Erstellen Sie vor dem Überschreiben oder Entfernen einer von Visual Studio generierten Ansicht jedoch eine Kopie, um später darauf zurückgreifen zu können.</span><span class="sxs-lookup"><span data-stu-id="d0f33-116">But, before you over-write or remove a view that Visual Studio generated, keep a copy because it may be useful to refer to it later.</span></span> <span data-ttu-id="d0f33-117">Die erste Phase für das Portieren einer WindowsPhone Silverlight-app konzentriert sich auf aussieht gute und funktioniert gut auf einer Gerätefamilie abrufen.</span><span class="sxs-lookup"><span data-stu-id="d0f33-117">The first phase of porting a WindowsPhone Silverlight app focuses on getting it to look good and work well on one device family.</span></span> <span data-ttu-id="d0f33-118">Später können Sie sich dann auf eine einwandfreie Anpassung der Ansichten an alle Formfaktoren konzentrieren und bei Bedarf adaptiven Code für die optimale Nutzung einer bestimmten Gerätefamilie hinzufügen.</span><span class="sxs-lookup"><span data-stu-id="d0f33-118">Later, you'll turn your attention to making sure the views adapt themselves well to all form factors, and optionally to adding any adaptive code to get the most from a particular device family.</span></span>
4.  <span data-ttu-id="d0f33-119">Vergewissern Sie sich im **Projektmappen-Explorer**, dass **Alle Dateien anzeigen** aktiviert ist.</span><span class="sxs-lookup"><span data-stu-id="d0f33-119">In **Solution Explorer**, make sure **Show All Files** is toggled on.</span></span> <span data-ttu-id="d0f33-120">Wählen Sie die kopierten Dateien aus, klicken Sie mit der rechten Maustaste darauf, und klicken Sie dann auf **Zu Projekt hinzufügen**.</span><span class="sxs-lookup"><span data-stu-id="d0f33-120">Select the files that you copied, right-click them, and click **Include In Project**.</span></span> <span data-ttu-id="d0f33-121">Dadurch werden die zugehörigen Ordner automatisch hinzugefügt.</span><span class="sxs-lookup"><span data-stu-id="d0f33-121">This will automatically include their containing folders.</span></span> <span data-ttu-id="d0f33-122">Sie können **Alle Dateien anzeigen** jetzt ggf. deaktivieren.</span><span class="sxs-lookup"><span data-stu-id="d0f33-122">You can then toggle **Show All Files** off if you like.</span></span> <span data-ttu-id="d0f33-123">Eine alternative Vorgehensweise ist die Verwendung des Befehls **Vorhandenes Element hinzufügen**, wenn Sie alle erforderlichen Unterordner im **Projektmappen-Explorer** von Visual Studio erstellt haben.</span><span class="sxs-lookup"><span data-stu-id="d0f33-123">An alternative workflow, if you prefer, is to use the **Add Existing Item** command, having created any necessary sub-folders in the Visual Studio **Solution Explorer**.</span></span> <span data-ttu-id="d0f33-124">Stellen Sie sicher, dass für Ihre visuellen Ressourcen **Buildvorgang** auf **Inhalt** und **In Ausgabeverzeichnis kopieren** auf **Nicht kopieren** festgelegt ist.</span><span class="sxs-lookup"><span data-stu-id="d0f33-124">Double-check that your visual assets have **Build Action** set to **Content** and **Copy to Output Directory** set to **Do not copy**.</span></span>
5.  <span data-ttu-id="d0f33-125">In dieser Phase werden wegen der Unterschiede bei den Namespace- und Klassennamen viele Buildfehler generiert.</span><span class="sxs-lookup"><span data-stu-id="d0f33-125">The differences in namespace and class names will generate lots of build errors at this stage.</span></span> <span data-ttu-id="d0f33-126">Wenn Sie die von Visual Studio generierten Ansichten öffnen, sehen Sie beispielsweise, dass sie vom Typ [**Page**](https://msdn.microsoft.com/library/windows/apps/br227503) sind und nicht **PhoneApplicationPage**.</span><span class="sxs-lookup"><span data-stu-id="d0f33-126">For example, if you open the views that Visual Studio generated, you'll see that they are of type [**Page**](https://msdn.microsoft.com/library/windows/apps/br227503), and not **PhoneApplicationPage**.</span></span> <span data-ttu-id="d0f33-127">Es gibt viele Unterschiede beim XAML-Markup und imperativen Code, die in den folgenden Themen dieses Handbuchs für das Portieren detailliert beschrieben werden.</span><span class="sxs-lookup"><span data-stu-id="d0f33-127">There are lots of XAML markup and imperative code differences that the following topics in this porting guide cover in detail.</span></span> <span data-ttu-id="d0f33-128">Wenn Sie die folgenden allgemeinen Schritte befolgen, werden Sie jedoch schnell Fortschritte machen: Ändern Sie in Ihren Namespacepräfixdeklarationen im XAML-Markup „clr-namespace“ in „using“. Nehmen Sie entsprechend den Angaben im Thema [Namespace- und Klassenzuordnungen](wpsl-to-uwp-namespace-and-class-mappings.md) mit dem Visual Studio-Befehl **Suchen und ersetzen** Massenänderungen an Ihrem Quellcode vor (ersetzen Sie z.B. „System.Windows“ durch „Windows.UI.Xaml“). Verwenden Sie im Editor für imperativen Code von Visual Studio die Befehle **Auflösen** und **using-Direktiven organisieren** im Kontextmenü, um gezieltere Änderungen vorzunehmen.</span><span class="sxs-lookup"><span data-stu-id="d0f33-128">But, you'll make fast progress just following these general steps: change "clr-namespace" to "using" in your namespace prefix declarations in XAML markup; use the [Namespace and class mappings](wpsl-to-uwp-namespace-and-class-mappings.md) topic and Visual Studio's **Find and Replace** command to make bulk changes to your source code (for example, replace "System.Windows" with "Windows.UI.Xaml"); and in the imperative code editor in Visual Studio use the **Resolve** and **Organize Usings** commands on the context menu for more targeted changes.</span></span>

## <a name="extension-sdks"></a><span data-ttu-id="d0f33-129">Erweiterungs-SDKs</span><span class="sxs-lookup"><span data-stu-id="d0f33-129">Extension SDKs</span></span>

<span data-ttu-id="d0f33-130">Die meisten UWP (Universelle Windows-Plattform)-APIs, die von Ihrer portierten App aufgerufen werden, sind in der Gruppe der APIs implementiert, die als Familie der universellen Geräte bezeichnet wird.</span><span class="sxs-lookup"><span data-stu-id="d0f33-130">Most of the Universal Windows Platform (UWP) APIs your ported app will call are implemented in the set of APIs known as the universal device family.</span></span> <span data-ttu-id="d0f33-131">Einige sind jedoch in Erweiterungs-SDKs implementiert, und Visual Studio erkennt nur APIs, die von der Zielgerätefamilie Ihrer App oder von einem Erweiterungs-SDK implementiert werden, auf das Sie verwiesen haben.</span><span class="sxs-lookup"><span data-stu-id="d0f33-131">But, some are implemented in extension SDKs, and Visual Studio only recognizes APIs that are implemented by your app's target device family or by any extension SDKs that you have referenced.</span></span>

<span data-ttu-id="d0f33-132">Im Fall von Kompilierungsfehlern, die auf nicht gefundene Namespaces, Typen oder Member zurückzuführen sind, ist dies wahrscheinlich die Ursache.</span><span class="sxs-lookup"><span data-stu-id="d0f33-132">If you get compile errors about namespaces or types or members that could not be found, then this is likely to be the cause.</span></span> <span data-ttu-id="d0f33-133">Öffnen Sie in der API-Referenzdokumentation das entsprechende API-Thema, und navigieren Sie zum Abschnitt mit den Anforderungen. Hier erfahren Sie, von welcher Gerätefamilie die API implementiert wird.</span><span class="sxs-lookup"><span data-stu-id="d0f33-133">Open the API's topic in the API reference documentation and navigate to the Requirements section: that will tell you what the implementing device family is.</span></span> <span data-ttu-id="d0f33-134">Handelt es sich dabei nicht um Ihre Zielgerätefamilie, benötigen Sie einen Verweis auf das Erweiterungs-SDK für diese Gerätefamilie, um die API für Ihr Projekt verfügbar zu machen.</span><span class="sxs-lookup"><span data-stu-id="d0f33-134">If that's not your target device family, then to make the API available to your project, you will need a reference to the extension SDK for that device family.</span></span>

<span data-ttu-id="d0f33-135">Klicken Sie auf **Projekt** &gt; **Verweis hinzufügen** &gt; **Windows Universal** &gt; **Erweiterungen**, und wählen Sie das entsprechende Erweiterungs-SDK aus.</span><span class="sxs-lookup"><span data-stu-id="d0f33-135">Click **Project** &gt; **Add Reference** &gt; **Windows Universal** &gt; **Extensions** and select the appropriate extension SDK.</span></span> <span data-ttu-id="d0f33-136">Wenn die gewünschten APIs also beispielsweise nur in der Familie für mobile Geräte verfügbar sind und in Version 10.0.x.y eingeführt wurden, wählen Sie **Windows Mobile-Erweiterungen für die UWP** aus.</span><span class="sxs-lookup"><span data-stu-id="d0f33-136">For example, if the APIs you want to call are available only in the mobile device family, and they were introduced in version 10.0.x.y, then select **Windows Mobile Extensions for the UWP**.</span></span>

<span data-ttu-id="d0f33-137">Dadurch wird Ihrer Projektdatei folgender Verweis hinzugefügt:</span><span class="sxs-lookup"><span data-stu-id="d0f33-137">That will add the following reference to your project file:</span></span>

```XML
<ItemGroup>
    <SDKReference Include="WindowsMobile, Version=10.0.x.y">
        <Name>Windows Mobile Extensions for the UWP</Name>
    </SDKReference>
</ItemGroup>
```

<span data-ttu-id="d0f33-138">Name und Versionsnummer entsprechen den Ordnern am Installationsort Ihres SDKs.</span><span class="sxs-lookup"><span data-stu-id="d0f33-138">The name and version number match the folders in the installed location of your SDK.</span></span> <span data-ttu-id="d0f33-139">Die oben angegebenen Informationen entsprechen beispielsweise dem folgenden Ordnernamen:</span><span class="sxs-lookup"><span data-stu-id="d0f33-139">For example, the above information matches this folder name:</span></span>

`\Program Files (x86)\Windows Kits\10\Extension SDKs\WindowsMobile\10.0.x.y`

<span data-ttu-id="d0f33-140">Falls Ihre App nicht auf die Gerätefamilie ausgerichtet ist, die die API implementiert, müssen Sie vor dem Aufrufen der API mithilfe der [**ApiInformation**](https://msdn.microsoft.com/library/windows/apps/dn949001)-Klasse ermitteln, ob die API vorhanden ist. (Dies wird als adaptiver Code bezeichnet.)</span><span class="sxs-lookup"><span data-stu-id="d0f33-140">Unless your app targets the device family that implements the API, you'll need to use the [**ApiInformation**](https://msdn.microsoft.com/library/windows/apps/dn949001) class to test for the presence of the API before you call it (this is called adaptive code).</span></span> <span data-ttu-id="d0f33-141">Diese Bedingung wird unabhängig davon ausgewertet, wo Ihre App ausgeführt wird. Das Ergebnis ist aber nur dann „True“, wenn sie auf Geräten ausgeführt wird, bei denen die API vorhanden ist und aufgerufen werden kann.</span><span class="sxs-lookup"><span data-stu-id="d0f33-141">This condition will then be evaluated wherever your app runs, but it will only evaluate to true on devices where the API is present and therefore available to call.</span></span> <span data-ttu-id="d0f33-142">Verwenden Sie Erweiterungs-SDKs und adaptiven Code erst, nachdem Sie geprüft haben, ob eine universelle API vorhanden ist.</span><span class="sxs-lookup"><span data-stu-id="d0f33-142">Only use extension SDKs and adaptive code after first checking whether a universal API exists.</span></span> <span data-ttu-id="d0f33-143">Beispiele finden Sie im nächsten Abschnitt.</span><span class="sxs-lookup"><span data-stu-id="d0f33-143">Some examples are given in the section below.</span></span>

<span data-ttu-id="d0f33-144">Weitere Informationen finden Sie auch unter [App-Paketmanifest](#the-app-package-manifest).</span><span class="sxs-lookup"><span data-stu-id="d0f33-144">Also, see [App package manifest](#the-app-package-manifest).</span></span>

## <a name="maximizing-markup-and-code-reuse"></a><span data-ttu-id="d0f33-145">Maximieren der Wiederverwendung von Markup und Code</span><span class="sxs-lookup"><span data-stu-id="d0f33-145">Maximizing markup and code reuse</span></span>

<span data-ttu-id="d0f33-146">Sie werden feststellen, dass Sie durch kleinere Umgestaltungsmaßnahmen und/oder zusätzlichen adaptiven Code (siehe Erläuterung weiter unten) das Markup und den Code für alle Gerätefamilien maximieren können.</span><span class="sxs-lookup"><span data-stu-id="d0f33-146">You will find that refactoring a little, and/or adding adaptive code (which is explained below), will allow you to maximize the markup and code that works across all device families.</span></span> <span data-ttu-id="d0f33-147">Weitere Details:</span><span class="sxs-lookup"><span data-stu-id="d0f33-147">Here are more details.</span></span>

-   <span data-ttu-id="d0f33-148">Dateien, die für alle Gerätefamilien verwendet werden, bedürfen keiner besonderen Beachtung.</span><span class="sxs-lookup"><span data-stu-id="d0f33-148">Files that are common to all device families need no special consideration.</span></span> <span data-ttu-id="d0f33-149">Diese Dateien werden von der App für alle Gerätefamilien verwendet, mit denen sie ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="d0f33-149">Those files will be used by the app on all the device families that it runs on.</span></span> <span data-ttu-id="d0f33-150">Dazu zählen XAML-Markupdateien, imperative Quellcodedateien und Ressourcendateien.</span><span class="sxs-lookup"><span data-stu-id="d0f33-150">This includes XAML markup files, imperative source code files, and asset files.</span></span>
-   <span data-ttu-id="d0f33-151">Ihre App kann die Gerätefamilie erkennen, mit der sie ausgeführt wird, und eine Ansicht verwenden, die speziell für diese Gerätefamilie gestaltet wurde.</span><span class="sxs-lookup"><span data-stu-id="d0f33-151">It is possible for your app to detect the device family that it is running on and navigate to a view that has been designed specifically for that device family.</span></span> <span data-ttu-id="d0f33-152">Weitere Informationen finden Sie unter [Erkennen der Plattform, auf der Ihre App ausgeführt wird](wpsl-to-uwp-input-and-sensors.md).</span><span class="sxs-lookup"><span data-stu-id="d0f33-152">For more details, see [Detecting the platform your app is running on](wpsl-to-uwp-input-and-sensors.md).</span></span>
-   <span data-ttu-id="d0f33-153">Steht keine Alternative zur Verfügung, ist unter Umständen folgende ähnliche Methode hilfreich: Versehen Sie eine Markupdatei oder eine **ResourceDictionary**-Datei (oder den Ordner, der die Datei enthält) mit einem speziellen Namen, sodass sie automatisch zur Laufzeit nur geladen wird, wenn Ihre App mit einer bestimmten Gerätefamilie ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="d0f33-153">A similar technique that you may find useful if there is no alternative is to give a markup file or **ResourceDictionary** file (or the folder that contains the file) a special name such that it is automatically loaded at runtime only when your app runs on a particular device family.</span></span> <span data-ttu-id="d0f33-154">Diese Methode wird in der Fallstudie [Bookstore1](wpsl-to-uwp-case-study-bookstore1.md) veranschaulicht.</span><span class="sxs-lookup"><span data-stu-id="d0f33-154">This technique is illustrated in the [Bookstore1](wpsl-to-uwp-case-study-bookstore1.md) case study.</span></span>
-   <span data-ttu-id="d0f33-155">Für Features, die nicht bei allen Gerätefamilien zur Verfügung stehen (wie etwa Drucker, Scanner oder die Kamerataste), können Sie adaptiven Code schreiben.</span><span class="sxs-lookup"><span data-stu-id="d0f33-155">To use features that are not available on all device families (for example, printers, scanners, or the camera button) you can write adaptive code.</span></span> <span data-ttu-id="d0f33-156">Weitere Informationen finden Sie im dritten Beispiel dieses Themas unter [Bedingte Kompilierung und adaptiver Code](#conditional-compilation-and-adaptive-code).</span><span class="sxs-lookup"><span data-stu-id="d0f33-156">See the third example in [Conditional compilation and adaptive code](#conditional-compilation-and-adaptive-code) in this topic.</span></span>
-   <span data-ttu-id="d0f33-157">Wenn Sie sowohl WindowsPhone Silverlight als auch Windows 10 unterstützen möchten, können dann Sie Quellcodedateien projektübergreifend freigeben können.</span><span class="sxs-lookup"><span data-stu-id="d0f33-157">If you want to support both WindowsPhone Silverlight and Windows10, then you may be able to share source code files between projects.</span></span> <span data-ttu-id="d0f33-158">Klicken Sie dazu in VisualStudio im **Projektmappen-Explorer** mit der rechten Maustaste auf das Projekt, wählen Sie **Vorhandenes Element hinzufügen** und dann die freizugebenden Dateien aus, und klicken Sie auf **Als Link hinzufügen**.</span><span class="sxs-lookup"><span data-stu-id="d0f33-158">Here's how: in Visual Studio, right-click the project in **Solution Explorer**, select **Add Existing Item**, select the files to share, and then click **Add As Link**.</span></span> <span data-ttu-id="d0f33-159">Speichern Sie die Quellcodedateien in einem gemeinsamen Ordner im Dateisystem, in dem sie für verknüpfte Projekte sichtbar sind, und vergessen Sie nicht, sie der Quellcodeverwaltung hinzuzufügen.</span><span class="sxs-lookup"><span data-stu-id="d0f33-159">Store your source code files in a common folder on the file system where the projects that link to them can see them, and don't forget to add them to source control.</span></span> <span data-ttu-id="d0f33-160">Wenn Sie Ihren imperativen Quellcode so unterteilen können, dass der Großteil einer Datei oder die ganze Datei auf beiden Plattformen funktioniert, benötigen Sie nicht zwei Kopien.</span><span class="sxs-lookup"><span data-stu-id="d0f33-160">If you can factor your imperative source code so that most, if not all, of a file will work on both platforms, then you don't need to have two copies of it.</span></span> <span data-ttu-id="d0f33-161">Sie können plattformspezifische Logik in der Datei bei Bedarf mit bedingten Kompilierungsdirektiven oder Laufzeitbedingungen umschließen.</span><span class="sxs-lookup"><span data-stu-id="d0f33-161">You can wrap any platform-specific logic in the file inside conditional compilation directives where possible, or run-time conditions where necessary.</span></span> <span data-ttu-id="d0f33-162">Weitere Informationen finden Sie im nächsten Abschnitt [C#-Präprozessordirektiven](http://msdn.microsoft.com/library/ed8yd1ha.aspx).</span><span class="sxs-lookup"><span data-stu-id="d0f33-162">See the next section below, and [C# Preprocessor Directives](http://msdn.microsoft.com/library/ed8yd1ha.aspx).</span></span>
-   <span data-ttu-id="d0f33-163">Für die Wiederverwendung auf der binären Ebene, anstatt der Quellcodeebene gibt es portierbare Klassenbibliotheken, die die Teilmenge der .NET-APIs, die in WindowsPhone Silverlight verfügbar sind, und die Teilmenge für Windows 10-apps (.NET Core) unterstützen.</span><span class="sxs-lookup"><span data-stu-id="d0f33-163">For reuse at the binary level, rather than the source code level, there are Portable Class Libraries, which support the subset of .NET APIs that are available in WindowsPhone Silverlight as well as the subset for Windows10 apps (.NET Core).</span></span> <span data-ttu-id="d0f33-164">Portable Klassenbibliothekassemblys sind mit allen diesen .NET-Plattformen sowie weiteren Plattformen binärkompatibel.</span><span class="sxs-lookup"><span data-stu-id="d0f33-164">Portable Class Library assemblies are binary compatible with these .NET platforms and more.</span></span> <span data-ttu-id="d0f33-165">Erstellen Sie mit Visual Studio ein Projekt für eine portable Klassenbibliothek.</span><span class="sxs-lookup"><span data-stu-id="d0f33-165">Use Visual Studio to create a project that targets a Portable Class Library.</span></span> <span data-ttu-id="d0f33-166">Weitere Informationen finden Sie unter [Plattformübergreifende Entwicklung mit der portablen Klassenbibliothek](http://msdn.microsoft.com/library/gg597391.aspx).</span><span class="sxs-lookup"><span data-stu-id="d0f33-166">See [Cross-Platform Development with the Portable Class Library](http://msdn.microsoft.com/library/gg597391.aspx).</span></span>

## <a name="conditional-compilation-and-adaptive-code"></a><span data-ttu-id="d0f33-167">Bedingte Kompilierung und adaptiver Code</span><span class="sxs-lookup"><span data-stu-id="d0f33-167">Conditional compilation and adaptive code</span></span>

<span data-ttu-id="d0f33-168">Wenn Sie sowohl WindowsPhone Silverlight als auch Windows 10 in einer einzelnen Codedatei unterstützen möchten können Sie dies tun.</span><span class="sxs-lookup"><span data-stu-id="d0f33-168">If you want to support both WindowsPhone Silverlight and Windows10 in a single code file then you can do that.</span></span> <span data-ttu-id="d0f33-169">Wenn Sie in Ihrem Windows 10-Projekt auf die Projekt-Eigenschaftenseiten betrachten, sehen Sie sich, dass das Projekt "windows\_uap" als Symbol für die bedingte Kompilierung definiert.</span><span class="sxs-lookup"><span data-stu-id="d0f33-169">If you look in your Windows10 project at the project properties pages, you'll see that the project defines WINDOWS\_UAP as a conditional compilation symbol.</span></span> <span data-ttu-id="d0f33-170">Im Allgemeinen können Sie zum Durchführen der bedingten Kompilierung die folgende Logik verwenden.</span><span class="sxs-lookup"><span data-stu-id="d0f33-170">In general, you can use the following logic to perform conditional compilation.</span></span>

```csharp
#if WINDOWS_UAP
    // Code that you want to compile into the Windows 10 app.
#else
    // Code that you want to compile into the Windows Phone Silverlight app.
#endif // WINDOWS_UAP
```

<span data-ttu-id="d0f33-171">Wenn Sie über Code, die Sie eine WindowsPhone Silverlight-app und einer Windows-Runtime 8.x-app gemeinsam nutzen verfügen, haben, können Sie bereits Quellcode mit Logik der folgenden verfügen:</span><span class="sxs-lookup"><span data-stu-id="d0f33-171">If you have code that you've been sharing between a WindowsPhone Silverlight app and a Windows Runtime 8.x app, then you may already have source code with logic like this:</span></span>

```csharp
#if NETFX_CORE
    // Code that you want to compile into the Windows Runtime 8.x app.
#else
    // Code that you want to compile into the Windows Phone Silverlight app.
#endif // NETFX_CORE
```

<span data-ttu-id="d0f33-172">Wenn dies der Fall ist und Sie außerdem Windows 10 unterstützen möchten, können Sie, dass zu tun.</span><span class="sxs-lookup"><span data-stu-id="d0f33-172">If so, and if you now want to support Windows10 in addition, then you can do that, too.</span></span>

```csharp
#if WINDOWS_UAP
    // Code that you want to compile into the Windows 10 app.
#else
#if NETFX_CORE
    // Code that you want to compile into the Windows Runtime 8.x app.
#else
    // Code that you want to compile into the Windows Phone Silverlight app.
#endif // NETFX_CORE
#endif // WINDOWS_UAP
```

<span data-ttu-id="d0f33-173">Unter Umständen haben Sie die bedingte Kompilierung verwendet, um die Behandlung der Hardwaretaste „Zurück“ auf Windows Phone zu begrenzen.</span><span class="sxs-lookup"><span data-stu-id="d0f33-173">You may have used conditional compilation to limit handling of the hardware back button to Windows Phone.</span></span> <span data-ttu-id="d0f33-174">In Windows 10 ist das Ereignis der Schaltfläche "zurück" ein universelles Konzept.</span><span class="sxs-lookup"><span data-stu-id="d0f33-174">In Windows10, the back button event is a universal concept.</span></span> <span data-ttu-id="d0f33-175">In die Hardware oder Software implementierte „Zurück“-Schaltflächen lösen das [**BackRequested**](https://msdn.microsoft.com/library/windows/apps/dn893596)-Ereignis aus. Daher müssen wir dieses Ereignis behandeln.</span><span class="sxs-lookup"><span data-stu-id="d0f33-175">Back buttons implemented in hardware or in software will all raise the [**BackRequested**](https://msdn.microsoft.com/library/windows/apps/dn893596) event, so that's the one to handle.</span></span>

```csharp
       Windows.UI.Core.SystemNavigationManager.GetForCurrentView().BackRequested +=
            this.ViewModelLocator_BackRequested;

...

    private void ViewModelLocator_BackRequested(object sender, Windows.UI.Core.BackRequestedEventArgs e)
    {
        // Handle the event.
    }

```

<span data-ttu-id="d0f33-176">Unter Umständen haben Sie die bedingte Kompilierung verwendet, um die Behandlung der Hardwaretaste „Kamera“ auf Windows Phone zu begrenzen.</span><span class="sxs-lookup"><span data-stu-id="d0f33-176">You may have used conditional compilation to limit handling of the hardware camera button to Windows Phone.</span></span> <span data-ttu-id="d0f33-177">In Windows 10 ist die Hardwaretaste "Kamera" ein spezielles Konzept für die Familie der Mobilgeräte.</span><span class="sxs-lookup"><span data-stu-id="d0f33-177">In Windows10, the hardware camera button is a concept particular to the mobile device family.</span></span> <span data-ttu-id="d0f33-178">Da auf allen Geräten ein einzelnes App-Paket ausgeführt wird, ändern wir unsere Kompilierzeitbedingung mithilfe von so genanntem adaptivem Code in eine Laufzeitbedingung.</span><span class="sxs-lookup"><span data-stu-id="d0f33-178">Because one app package will be running on all devices, we change our compile-time condition into a run-time condition using what is known as adaptive code.</span></span> <span data-ttu-id="d0f33-179">Hierzu fragen wir zur Laufzeit mithilfe der [**ApiInformation**](https://msdn.microsoft.com/library/windows/apps/dn949001)-Klasse ab, ob die [**HardwareButtons**](https://msdn.microsoft.com/library/windows/apps/jj207557)-Klasse vorhanden ist.</span><span class="sxs-lookup"><span data-stu-id="d0f33-179">To do that, we use the [**ApiInformation**](https://msdn.microsoft.com/library/windows/apps/dn949001) class to query at run-time for the presence of the [**HardwareButtons**](https://msdn.microsoft.com/library/windows/apps/jj207557) class.</span></span> <span data-ttu-id="d0f33-180">**HardwareButtons** ist im SDK für mobile Erweiterungen definiert. Daher müssen wir unserem Projekt einen Verweis auf dieses SDK hinzufügen, um den Code kompilieren zu können.</span><span class="sxs-lookup"><span data-stu-id="d0f33-180">**HardwareButtons** is defined in the mobile extension SDK, so we'll need to add a reference to that SDK to our project for this code to compile.</span></span> <span data-ttu-id="d0f33-181">Beachten Sie jedoch, dass der Handler nur auf einem Gerät ausgeführt wird, das die im mobilen Erweiterungs-SDK definierten Typen implementiert und somit der Familie mobiler Geräte angehört.</span><span class="sxs-lookup"><span data-stu-id="d0f33-181">Note, though, that the handler will only be executed on a device that implements the types defined in the mobile extension SDK, and that's the mobile device family.</span></span> <span data-ttu-id="d0f33-182">Im folgenden Code wird also sorgfältig darauf geachtet, dass nur die vorhandenen Features verwendet werden, auch wenn dies auf andere Art als bei der bedingten Kompilierung erreicht wird.</span><span class="sxs-lookup"><span data-stu-id="d0f33-182">So, the following code is careful only to use features that are present, although it achieves it in a different way from conditional compilation.</span></span>

```csharp
       // Note: Cache the value instead of querying it more than once.
        bool isHardwareButtonsAPIPresent = Windows.Foundation.Metadata.ApiInformation.IsTypePresent
            ("Windows.Phone.UI.Input.HardwareButtons");

        if (isHardwareButtonsAPIPresent)
        {
            Windows.Phone.UI.Input.HardwareButtons.CameraPressed +=
                this.HardwareButtons_CameraPressed;
        }

    ...

    private void HardwareButtons_CameraPressed(object sender, Windows.Phone.UI.Input.CameraEventArgs e)
    {
        // Handle the event.
    }
```

<span data-ttu-id="d0f33-183">Weitere Informationen finden Sie unter [Erkennen der Plattform, auf der Ihre App ausgeführt wird](wpsl-to-uwp-input-and-sensors.md).</span><span class="sxs-lookup"><span data-stu-id="d0f33-183">Also, see [Detecting the platform your app is running on](wpsl-to-uwp-input-and-sensors.md).</span></span>

## <a name="the-app-package-manifest"></a><span data-ttu-id="d0f33-184">Das App-Paketmanifest</span><span class="sxs-lookup"><span data-stu-id="d0f33-184">The app package manifest</span></span>

<span data-ttu-id="d0f33-185">Mit den Einstellungen in Ihrem Projekt (einschließlich der Verweise auf Erweiterungs-SDKs) wird der API-Oberflächenbereich bestimmt, der von Ihrer App aufgerufen werden kann.</span><span class="sxs-lookup"><span data-stu-id="d0f33-185">The settings in your project (including any extension SDKs references) determine the API surface area that your app can call.</span></span> <span data-ttu-id="d0f33-186">Aber anhand Ihres App-Paketmanifests wird die eigentliche Gruppe der Geräte bestimmt, auf denen Kunden Ihre App aus dem Store installieren können.</span><span class="sxs-lookup"><span data-stu-id="d0f33-186">But, your app package manifest is what determines the actual set of devices that your customers can install your app onto from the Store.</span></span> <span data-ttu-id="d0f33-187">Weitere Informationen finden Sie unter „Beispiele“ in [**TargetDeviceFamily**](https://msdn.microsoft.com/library/windows/apps/dn986903).</span><span class="sxs-lookup"><span data-stu-id="d0f33-187">For more info, see Examples in [**TargetDeviceFamily**](https://msdn.microsoft.com/library/windows/apps/dn986903).</span></span>

<span data-ttu-id="d0f33-188">Kenntnisse in der Bearbeitung des App-Paketmanifests sind von Vorteil, da es in den folgenden Themen um seine Verwendung für verschiedene Deklarationen, Funktionen und andere Einstellungen geht, die für einige Features erforderlich sind.</span><span class="sxs-lookup"><span data-stu-id="d0f33-188">It's worth knowing how to edit the app package manifest, because the topics that follow talk about using it for various declarations, capabilities, and other settings that some features need.</span></span> <span data-ttu-id="d0f33-189">Sie können das Manifest mit dem App-Paketmanifest-Editor von Visual Studio bearbeiten.</span><span class="sxs-lookup"><span data-stu-id="d0f33-189">You can use the Visual Studio app package manifest editor to edit it.</span></span> <span data-ttu-id="d0f33-190">Falls der **Projektmappen-Explorer** nicht angezeigt wird, wählen Sie ihn im Menü **Ansicht** aus.</span><span class="sxs-lookup"><span data-stu-id="d0f33-190">If the **Solution Explorer** is not shown, choose it from the **View** menu.</span></span> <span data-ttu-id="d0f33-191">Doppelklicken Sie auf **Package.appxmanifest**.</span><span class="sxs-lookup"><span data-stu-id="d0f33-191">Double-click **Package.appxmanifest**.</span></span> <span data-ttu-id="d0f33-192">Dadurch wird das Fenster des Manifest-Editors geöffnet.</span><span class="sxs-lookup"><span data-stu-id="d0f33-192">This opens the manifest editor window.</span></span> <span data-ttu-id="d0f33-193">Wählen Sie die geeignete Registerkarte aus, nehmen Sie Änderungen vor, und speichern Sie sie.</span><span class="sxs-lookup"><span data-stu-id="d0f33-193">Select the appropriate tab to make changes and then save the changes.</span></span> <span data-ttu-id="d0f33-194">Es empfiehlt sich sicherzustellen, dass das **pm:PhoneIdentity**-Element im portierten App-Manifest dem Element im Manifest der App entspricht, die Sie portieren (ausführliche Informationen finden Sie im Thema [**pm:PhoneIdentity**](https://msdn.microsoft.com/library/windows/apps/dn934763)).</span><span class="sxs-lookup"><span data-stu-id="d0f33-194">You may want to ensure that the **pm:PhoneIdentity** element in the ported app manifest matches what is in the app manifest of the app you're porting (for full details, see the [**pm:PhoneIdentity**](https://msdn.microsoft.com/library/windows/apps/dn934763) topic).</span></span>

<span data-ttu-id="d0f33-195">Finden Sie unter [Package manifest Schemareferenz für Windows 10](https://msdn.microsoft.com/library/windows/apps/dn934820).</span><span class="sxs-lookup"><span data-stu-id="d0f33-195">See [Package manifest schema reference for Windows10](https://msdn.microsoft.com/library/windows/apps/dn934820).</span></span>

<span data-ttu-id="d0f33-196">Das nächste Thema ist [Problembehandlung](wpsl-to-uwp-troubleshooting.md).</span><span class="sxs-lookup"><span data-stu-id="d0f33-196">The next topic is [Troubleshooting](wpsl-to-uwp-troubleshooting.md).</span></span>

