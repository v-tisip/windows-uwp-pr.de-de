---
author: mcleblanc
title: Windows Runtime 8.x zu UWP – Fallstudie, Bookstore1
ms.assetid: e4582717-afb5-4cde-86bb-31fb1c5fc8f3
description: Dieses Thema enthält eine Fallstudie für das Portieren einer sehr einfachen universellen8.1-App zu einer UWP (Universelle Windows-Plattform)-App für Windows 10.
ms.author: markl
ms.date: 02/08/2017
ms.topic: article
ms.prod: windows
ms.technology: uwp
keywords: Windows 10, UWP
ms.openlocfilehash: a1c39852e6521d2dc20711471196781aad7770d7
ms.sourcegitcommit: 909d859a0f11981a8d1beac0da35f779786a6889
ms.translationtype: MT
ms.contentlocale: de-DE
ms.locfileid: "235359"
---
# <a name="windows-runtime-8x-to-uwp-case-study-bookstore1"></a><span data-ttu-id="73308-104">Windows Runtime 8.x zu UWP – Fallstudie, Bookstore1</span><span class="sxs-lookup"><span data-stu-id="73308-104">Windows Runtime 8.x to UWP case study: Bookstore1</span></span>

<span data-ttu-id="73308-105">\[ Aktualisiert für UWP-Apps unter Windows10.</span><span class="sxs-lookup"><span data-stu-id="73308-105">\[ Updated for UWP apps on Windows 10.</span></span> <span data-ttu-id="73308-106">Artikel zu Windows8.x finden Sie im [Archiv](http://go.microsoft.com/fwlink/p/?linkid=619132). \]</span><span class="sxs-lookup"><span data-stu-id="73308-106">For Windows 8.x articles, see the [archive](http://go.microsoft.com/fwlink/p/?linkid=619132) \]</span></span>

<span data-ttu-id="73308-107">Dieses Thema enthält eine Fallstudie für das Portieren einer sehr einfachen universellen8.1-App zu einer UWP (Universelle Windows-Plattform)-App für Windows 10.</span><span class="sxs-lookup"><span data-stu-id="73308-107">This topic presents a case study of porting a very simple Universal 8.1 app to a Windows 10 Universal Windows Platform (UWP) app.</span></span> <span data-ttu-id="73308-108">Bei einer universellen 8.1-App wird ein App-Paket für Windows 8.1 und ein anderes App-Paket für Windows Phone 8.1 erstellt.</span><span class="sxs-lookup"><span data-stu-id="73308-108">A Universal 8.1 app is one that builds one app package for Windows 8.1, and a different app package for Windows Phone 8.1.</span></span> <span data-ttu-id="73308-109">Mit Windows 10 können Sie ein einzelnes App-Paket erstellen, das Ihre Kunden auf einer Vielzahl von Geräten installieren können – und genau das werden wir in dieser Fallstudie tun.</span><span class="sxs-lookup"><span data-stu-id="73308-109">With Windows 10, you can create a single app package that your customers can install onto a wide range of devices, and that's what we'll do in this case study.</span></span> <span data-ttu-id="73308-110">Weitere Informationen finden Sie unter [Anleitung für UWP-Apps](https://msdn.microsoft.com/library/windows/apps/dn894631).</span><span class="sxs-lookup"><span data-stu-id="73308-110">See [Guide to UWP apps](https://msdn.microsoft.com/library/windows/apps/dn894631).</span></span>

<span data-ttu-id="73308-111">Die portierte App besteht aus einem **ListBox**-Element, das an ein Ansichtsmodell gebunden ist.</span><span class="sxs-lookup"><span data-stu-id="73308-111">The app we'll port consists of a **ListBox** bound to a view model.</span></span> <span data-ttu-id="73308-112">Das Ansichtsmodell verfügt über eine Liste mit Büchern, für die Titel, Autor und Bucheinband angezeigt werden.</span><span class="sxs-lookup"><span data-stu-id="73308-112">The view model has a list of books that shows title, author, and book cover.</span></span> <span data-ttu-id="73308-113">Für die Bucheinbandbilder ist **Buildvorgang** auf **Inhalt** und **In Ausgabeverzeichnis kopieren** auf **Nicht kopieren** festgelegt.</span><span class="sxs-lookup"><span data-stu-id="73308-113">The book cover images have **Build Action** set to **Content** and **Copy to Output Directory** set to **Do not copy**.</span></span>

<span data-ttu-id="73308-114">Die vorherigen Themen in diesem Abschnitt beschreiben die Unterschiede zwischen den Plattformen und bieten umfassende Informationen und Anleitungen zum Portierungsprozess für verschiedene Aspekte einer App, vom XAML-Markup über die Bindung an ein Ansichtsmodell bis hin zum Zugreifen auf Daten.</span><span class="sxs-lookup"><span data-stu-id="73308-114">The previous topics in this section describe the differences between the platforms, and they give details and guidance on the porting process for various aspects of an app from XAML markup, through binding to a view model, down to accessing data.</span></span> <span data-ttu-id="73308-115">Dieser Leitfaden soll anhand einer Fallstudie ergänzt werden, indem ein praktisches Beispiel vorgestellt wird.</span><span class="sxs-lookup"><span data-stu-id="73308-115">A case study aims to complement that guidance by showing it in action in a real example.</span></span> <span data-ttu-id="73308-116">Bei den Fallstudien wird davon ausgegangen, dass Sie die Anleitung gelesen haben. Sie wird nicht wiederholt.</span><span class="sxs-lookup"><span data-stu-id="73308-116">The case studies assume you've read the guidance, which they do not repeat.</span></span>

<span data-ttu-id="73308-117">**Hinweis**   Wenn beim Öffnen von Bookstore1Universal\_10 in Visual Studio die Meldung „Visual Studio-Update erforderlich“ angezeigt wird, führen Sie die Schritte unter [TargetPlatformVersion](w8x-to-uwp-troubleshooting.md) aus.</span><span class="sxs-lookup"><span data-stu-id="73308-117">**Note**   When opening Bookstore1Universal\_10 in Visual Studio, if you see the message "Visual Studio update required", then follow the steps in [TargetPlatformVersion](w8x-to-uwp-troubleshooting.md).</span></span>

## <a name="downloads"></a><span data-ttu-id="73308-118">Downloads</span><span class="sxs-lookup"><span data-stu-id="73308-118">Downloads</span></span>

<span data-ttu-id="73308-119">[Laden Sie die universelle8.1-App „Bookstore1\_81“ herunter](http://go.microsoft.com/fwlink/?linkid=532946).</span><span class="sxs-lookup"><span data-stu-id="73308-119">[Download the Bookstore1\_81 Universal 8.1 app](http://go.microsoft.com/fwlink/?linkid=532946).</span></span>

<span data-ttu-id="73308-120">[Laden Sie die Windows 10-App „Bookstore1Universal\_10“ herunter](http://go.microsoft.com/fwlink/?linkid=532950).</span><span class="sxs-lookup"><span data-stu-id="73308-120">[Download the Bookstore1Universal\_10 Windows 10 app](http://go.microsoft.com/fwlink/?linkid=532950).</span></span>

## <a name="the-universal-81-app"></a><span data-ttu-id="73308-121">Die universelle8.1-App</span><span class="sxs-lookup"><span data-stu-id="73308-121">The Universal 8.1 app</span></span>

<span data-ttu-id="73308-122">So sieht „Bookstore1\_81“ aus, die App, die wir portieren werden.</span><span class="sxs-lookup"><span data-stu-id="73308-122">Here’s what Bookstore1\_81—the app that we're going to port—looks like.</span></span> <span data-ttu-id="73308-123">Es handelt sich dabei einfach um ein Listenfeld mit Büchern mit vertikalem Bildlauf unter der Überschrift des App-Namens und dem Seitentitel.</span><span class="sxs-lookup"><span data-stu-id="73308-123">It's just a vertically-scrolling list box of books beneath the heading of the app's name and page title.</span></span>

![Darstellung von „bookstore1\-81“ unter Windows](images/w8x-to-uwp-case-studies/c01-01-win81-how-the-app-looks.png)

<span data-ttu-id="73308-125">„Bookstore1\_81“ unter Windows</span><span class="sxs-lookup"><span data-stu-id="73308-125">Bookstore1\_81 on Windows</span></span>

![Darstellung von „bookstore1\-81“ unter WindowsPhone](images/w8x-to-uwp-case-studies/c01-02-wp81-how-the-app-looks.png)

<span data-ttu-id="73308-127">„Bookstore1\_81“ unter Windows Phone</span><span class="sxs-lookup"><span data-stu-id="73308-127">Bookstore1\_81 on Windows Phone</span></span>

##  <a name="porting-to-a-windows-10-project"></a><span data-ttu-id="73308-128">Portieren auf ein Windows 10-Projekt</span><span class="sxs-lookup"><span data-stu-id="73308-128">Porting to a Windows 10 project</span></span>

<span data-ttu-id="73308-129">Die Bookstore1\_81-Projektmappe ist ein universelles 8.1-App-Projekt und enthält diese Projekte.</span><span class="sxs-lookup"><span data-stu-id="73308-129">The Bookstore1\_81 solution is an 8.1 Universal App project, and it contains these projects.</span></span>

-   <span data-ttu-id="73308-130">Bookstore1\_81.Windows.</span><span class="sxs-lookup"><span data-stu-id="73308-130">Bookstore1\_81.Windows.</span></span> <span data-ttu-id="73308-131">Dies ist das Projekt, das das App-Paket für Windows 8.1 erstellt.</span><span class="sxs-lookup"><span data-stu-id="73308-131">This is the project that builds the app package for Windows 8.1.</span></span>
-   <span data-ttu-id="73308-132">Bookstore1\_81.WindowsPhone.</span><span class="sxs-lookup"><span data-stu-id="73308-132">Bookstore1\_81.WindowsPhone.</span></span> <span data-ttu-id="73308-133">Dies ist das Projekt, das das App-Paket für Windows Phone 8.1 erstellt.</span><span class="sxs-lookup"><span data-stu-id="73308-133">This is the project that builds the app package for Windows Phone 8.1.</span></span>
-   <span data-ttu-id="73308-134">Bookstore1\_81.Shared.</span><span class="sxs-lookup"><span data-stu-id="73308-134">Bookstore1\_81.Shared.</span></span> <span data-ttu-id="73308-135">Dies ist das Projekt, das den Quellcode, die Markupdateien und andere Assets und Ressourcen enthält, die von den beiden anderen Projekten verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="73308-135">This is the project that contains source code, markup files, and other assets and resources, that are used by both of the other two projects.</span></span>

<span data-ttu-id="73308-136">Für diese Fallstudie verwenden wir die üblichen Optionen, die unter [Bei einer Universal8.1-App](w8x-to-uwp-root.md) in Bezug auf die zu unterstützenden Geräte beschrieben sind.</span><span class="sxs-lookup"><span data-stu-id="73308-136">For this case study, we have the usual options described in [If you have a Universal 8.1 app](w8x-to-uwp-root.md) with respect to what devices to support.</span></span> <span data-ttu-id="73308-137">Die Entscheidung hier ist ganz einfach: Diese App bietet die gleichen Features und verwendet dafür meist denselben Code in Windows 8.1- und Windows Phone 8.1-Formularen.</span><span class="sxs-lookup"><span data-stu-id="73308-137">The decision here is a simple one: this app has the same features, and does so mostly with the same code, in both its Windows 8.1 and Windows Phone 8.1 forms.</span></span> <span data-ttu-id="73308-138">Daher müssen wir den Inhalt des freigegebenen Projekts (und sonstiger Elemente, die wir aus den anderen Projekten benötigen) zu einem Windows10-Projekt portieren, das auf die universelle Gerätefamilie ausgerichtet ist (eine App, die Sie auf der breitestmöglichen Palette an Geräten installieren können).</span><span class="sxs-lookup"><span data-stu-id="73308-138">So, we'll port the contents of the Shared project (and anything else we need from the other projects) to a Windows 10 that targets the Universal device family (one that you can install onto the widest range of devices).</span></span>

<span data-ttu-id="73308-139">Das Erstellen eines neuen Projekts in Visual Studio ist sehr schnell: Kopieren Sie Dateien aus Bookstore1\_81, und fügen Sie die kopierten Dateien in das neue Projekt ein.</span><span class="sxs-lookup"><span data-stu-id="73308-139">It's a very quick task to create a new project in Visual Studio, copy files over to it from Bookstore1\_81, and include the copied files in the new project.</span></span> <span data-ttu-id="73308-140">Erstellen Sie zunächst ein neues Projekt vom Typ „Leere Anwendung“ (Windows Universal).</span><span class="sxs-lookup"><span data-stu-id="73308-140">Start by creating a new Blank Application (Windows Universal) project.</span></span> <span data-ttu-id="73308-141">Geben Sie ihm den Namen „Bookstore1Universal\_10“.</span><span class="sxs-lookup"><span data-stu-id="73308-141">Name it Bookstore1Universal\_10.</span></span> <span data-ttu-id="73308-142">Dies sind die Dateien, die von „Bookstore1\_81“ nach „Bookstore1Universal\_10“ kopiert werden sollen.</span><span class="sxs-lookup"><span data-stu-id="73308-142">These are the files to copy over from Bookstore1\_81 to Bookstore1Universal\_10.</span></span>

**<span data-ttu-id="73308-143">Aus dem freigegebenen Projekt</span><span class="sxs-lookup"><span data-stu-id="73308-143">From the Shared project</span></span>**

-   <span data-ttu-id="73308-144">Kopieren Sie den Ordner mit den PNG-Dateien für das Bucheinbandbild (Ordner „\\Assets\\CoverImages“).</span><span class="sxs-lookup"><span data-stu-id="73308-144">Copy the folder containing the book cover image PNG files (the folder is \\Assets\\CoverImages).</span></span> <span data-ttu-id="73308-145">Vergewissern Sie sich nach dem Kopieren des Ordners im **Projektmappen-Explorer**, dass **Alle Dateien anzeigen** aktiviert ist.</span><span class="sxs-lookup"><span data-stu-id="73308-145">After copying the folder, in **Solution Explorer**, make sure **Show All Files** is toggled on.</span></span> <span data-ttu-id="73308-146">Klicken Sie mit der rechten Maustaste auf den kopierten Ordner, und klicken Sie dann auf **Zu Projekt hinzufügen**.</span><span class="sxs-lookup"><span data-stu-id="73308-146">Right-click the folder that you copied and click **Include In Project**.</span></span> <span data-ttu-id="73308-147">Mit "Einschließen" von Dateien oder Ordnern in einem Projekt meinen wir diesen Befehl.</span><span class="sxs-lookup"><span data-stu-id="73308-147">That command is what we mean by "including" files or folders in a project.</span></span> <span data-ttu-id="73308-148">Klicken Sie jedes Mal, wenn Sie eine Datei oder einen Ordner kopieren, für jede Kopie im **Projektmappen-Explorer** auf **Aktualisieren**, und schließen Sie dann die Datei oder den Ordner in das Projekt ein.</span><span class="sxs-lookup"><span data-stu-id="73308-148">Each time you copy a file or folder, each copy, click **Refresh** in **Solution Explorer** and then include the file or folder in the project.</span></span> <span data-ttu-id="73308-149">Dies ist nicht für Dateien erforderlich, die Sie am Ziel ersetzen.</span><span class="sxs-lookup"><span data-stu-id="73308-149">There's no need to do this for files that you're replacing in the destination.</span></span>
-   <span data-ttu-id="73308-150">Kopieren Sie den Ordner mit der Ansichtsmodell-Quelldatei (Ordner „\\ViewModel“).</span><span class="sxs-lookup"><span data-stu-id="73308-150">Copy the folder containing the view model source file (the folder is \\ViewModel).</span></span>
-   <span data-ttu-id="73308-151">Kopieren Sie „MainPage.xaml“, und ersetzen Sie die Datei am Ziel.</span><span class="sxs-lookup"><span data-stu-id="73308-151">Copy MainPage.xaml and replace the file in the destination.</span></span>

**<span data-ttu-id="73308-152">Aus dem Windows-Projekt</span><span class="sxs-lookup"><span data-stu-id="73308-152">From the Windows project</span></span>**

-   <span data-ttu-id="73308-153">Kopieren Sie „BookstoreStyles.xaml“.</span><span class="sxs-lookup"><span data-stu-id="73308-153">Copy BookstoreStyles.xaml.</span></span> <span data-ttu-id="73308-154">Wir verwenden diese Datei als Ausgangspunkt, da alle Ressourcenschlüssel in dieser Datei in eine Windows10-App aufgelöst werden können (einige in der entsprechenden WindowsPhone-Datei werden nicht aufgelöst).</span><span class="sxs-lookup"><span data-stu-id="73308-154">We'll use this one as a good starting-point because all the resource keys in this file will resolve in a Windows 10 app; some of those in the equivalent WindowsPhone file will not.</span></span>

<span data-ttu-id="73308-155">Bearbeiten Sie den Quellcode und die Markupdateien, die Sie gerade kopiert haben, und ändern Sie alle Verweise auf den Namespace „Bookstore1\_81“ in „Bookstore1Universal\_10“.</span><span class="sxs-lookup"><span data-stu-id="73308-155">Edit the source code and markup files that you just copied and change any references to the Bookstore1\_81 namespace to Bookstore1Universal\_10.</span></span> <span data-ttu-id="73308-156">Eine schnelle Möglichkeit dafür ist die Verwendung des Features **In Dateien ersetzen**.</span><span class="sxs-lookup"><span data-stu-id="73308-156">A quick way to do that is to use the **Replace In Files** feature.</span></span> <span data-ttu-id="73308-157">Weder im Ansichtsmodell, noch in einem anderen imperativen Code sind Codeänderungen erforderlich.</span><span class="sxs-lookup"><span data-stu-id="73308-157">No code changes are needed in the view model, nor in any other imperative code.</span></span> <span data-ttu-id="73308-158">Um leichter erkennen zu können, welche App-Version ausgeführt wird, sollten Sie jedoch den von der **Bookstore1Universal\_10.BookstoreViewModel.AppName**-Eigenschaft zurückgegebenen Wert „BOOKSTORE1\_81“ in „BOOKSTORE1UNIVERSAL\_10“ ändern.</span><span class="sxs-lookup"><span data-stu-id="73308-158">But, just to make it easier to see which version of the app is running, change the value returned by the **Bookstore1Universal\_10.BookstoreViewModel.AppName** property from "BOOKSTORE1\_81" to "BOOKSTORE1UNIVERSAL\_10".</span></span>

<span data-ttu-id="73308-159">Jetzt können Sie mit der Erstellung und Ausführung beginnen.</span><span class="sxs-lookup"><span data-stu-id="73308-159">Right now, you can build and run.</span></span> <span data-ttu-id="73308-160">Hier ist eine Darstellung der neuen UWP-App, die nahezu ohne Arbeit und Mühe zu Windows 10 portiert wurde.</span><span class="sxs-lookup"><span data-stu-id="73308-160">Here's how our new UWP app looks after having done no explicit work yet to port it to Windows 10.</span></span>

![Die Windows10-App mit Änderungen am ursprünglichen Quellcode](images/w8x-to-uwp-case-studies/c01-03-desk10-initial-source-code-changes.png)

<span data-ttu-id="73308-162">Die Windows 10-App mit Änderungen am ursprünglichen Quellcode auf einem Desktopgerät</span><span class="sxs-lookup"><span data-stu-id="73308-162">The Windows 10 app with initial source code changes running on a Desktop device</span></span>

![Die Windows10-App mit Änderungen am ursprünglichen Quellcode](images/w8x-to-uwp-case-studies/c01-04-mob10-initial-source-code-changes.png)

<span data-ttu-id="73308-164">Die Windows 10-App mit Änderungen am ursprünglichen Quellcode auf einem mobilen Gerät</span><span class="sxs-lookup"><span data-stu-id="73308-164">The Windows 10 app with initial source code changes running on a Mobile device</span></span>

<span data-ttu-id="73308-165">Die Ansicht und das Ansichtsmodell arbeiten ordnungsgemäß zusammen, und das **ListBox**-Element funktioniert.</span><span class="sxs-lookup"><span data-stu-id="73308-165">The view and the view model are working together correctly, and the **ListBox** is functioning.</span></span> <span data-ttu-id="73308-166">Wir müssen lediglich die Formatierung ändern.</span><span class="sxs-lookup"><span data-stu-id="73308-166">We just need to fix the styling.</span></span> <span data-ttu-id="73308-167">Auf einem mobilen Gerät mit hellem Design können wir den Rahmen des Listenfelds sehen, der sich jedoch einfach ausblenden lässt.</span><span class="sxs-lookup"><span data-stu-id="73308-167">On a Mobile device, in light theme, we can see the border of the list box, but that will be easy to hide.</span></span> <span data-ttu-id="73308-168">Und die Schrift ist zu groß, sodass wir die verwendeten Stile ändern.</span><span class="sxs-lookup"><span data-stu-id="73308-168">And, the typography is too big, so we'll change the styles we're using.</span></span> <span data-ttu-id="73308-169">Darüber hinaus sollte die App helle Farben verwenden, wenn sie auf einem Desktopgerät ausgeführt wird, damit sie standardmäßig aussieht.</span><span class="sxs-lookup"><span data-stu-id="73308-169">Also, the app should be light in color when running on a Desktop device if we want it to look like the default.</span></span> <span data-ttu-id="73308-170">Wir werden dies also ändern.</span><span class="sxs-lookup"><span data-stu-id="73308-170">So, we'll change that.</span></span>

## <a name="universal-styling"></a><span data-ttu-id="73308-171">Universelle Formatierung</span><span class="sxs-lookup"><span data-stu-id="73308-171">Universal styling</span></span>

<span data-ttu-id="73308-172">Die Bookstore1\_81-App verwendet zwei unterschiedliche Ressourcenwörterbücher („BookstoreStyles.xaml“), mit denen die Stile an die Betriebssysteme Windows 8.1 und Windows Phone 8.1 angepasst werden können.</span><span class="sxs-lookup"><span data-stu-id="73308-172">The Bookstore1\_81 app used two different resource dictionaries (BookstoreStyles.xaml) to tailor its styles to the Windows 8.1 and Windows Phone 8.1 operating systems.</span></span> <span data-ttu-id="73308-173">Keine dieser beiden BookstoreStyles.xaml-Dateien enthält genau die Stile, die wir für unsere Windows10-App benötigen.</span><span class="sxs-lookup"><span data-stu-id="73308-173">Neither of those two BookstoreStyles.xaml files contains exactly the styles we need for our Windows 10 app.</span></span> <span data-ttu-id="73308-174">Die gute Nachricht ist jedoch, dass unsere Vorstellungen tatsächlich sehr viel einfacher sind als diese beiden.</span><span class="sxs-lookup"><span data-stu-id="73308-174">But, the good news is that what we want is actually much simpler than either of them.</span></span> <span data-ttu-id="73308-175">In den nächsten Schritten werden wir daher hauptsächlich unsere Projektdateien und das Markup entfernen und vereinfachen.</span><span class="sxs-lookup"><span data-stu-id="73308-175">So, the next steps will mostly involve removing and simplifying our project files and markup.</span></span> <span data-ttu-id="73308-176">Die Schritte finden Sie nachfolgend:</span><span class="sxs-lookup"><span data-stu-id="73308-176">The steps are below.</span></span> <span data-ttu-id="73308-177">Sie können die Links oben in diesem Thema verwenden, um die Projekte herunterzuladen und die Ergebnisse dieser Änderungen zwischen diesem Punkt und dem Ende der Fallstudie anzuzeigen.</span><span class="sxs-lookup"><span data-stu-id="73308-177">And you can use the links at the top of this topic to download the projects and see the results of all the changes between here and the end of the case study.</span></span>

-   <span data-ttu-id="73308-178">Um den Abstand zwischen den Elementen zu verkleinern, suchen Sie die `BookTemplate`-Datenvorlage in „MainPage.xaml“, und löschen Sie `Margin="0,0,0,8"` aus dem Stamm-**Grid**.</span><span class="sxs-lookup"><span data-stu-id="73308-178">To tighten up the spacing between items, find the `BookTemplate` data template in MainPage.xaml and delete the `Margin="0,0,0,8"` from the root **Grid**.</span></span>
-   <span data-ttu-id="73308-179">Auch in `BookTemplate`gibt es Verweise auf `BookTemplateTitleTextBlockStyle` und `BookTemplateAuthorTextBlockStyle`.</span><span class="sxs-lookup"><span data-stu-id="73308-179">Also, in `BookTemplate`, there are references to `BookTemplateTitleTextBlockStyle` and `BookTemplateAuthorTextBlockStyle`.</span></span> <span data-ttu-id="73308-180">Bookstore1\_81 verwendete diese Schlüssel als eine Dereferenzierung, sodass ein einzelner Schlüssel unterschiedliche Implementierungen in den beiden Apps aufwies.</span><span class="sxs-lookup"><span data-stu-id="73308-180">Bookstore1\_81 used those keys as an indirection so that a single key had different implementations in the two apps.</span></span> <span data-ttu-id="73308-181">Diese Dereferenzierung wird nicht mehr benötigt; wir können direkt auf die Systemstile verweisen.</span><span class="sxs-lookup"><span data-stu-id="73308-181">We don't need that indirection any more; we can just reference system styles directly.</span></span> <span data-ttu-id="73308-182">Ersetzen Sie daher diese Verweise durch `TitleTextBlockStyle` bzw. `SubtitleTextBlockStyle`.</span><span class="sxs-lookup"><span data-stu-id="73308-182">So, replace those references with `TitleTextBlockStyle` and `SubtitleTextBlockStyle`, respectively.</span></span>
-   <span data-ttu-id="73308-183">Jetzt müssen wir den Hintergrund von `LayoutRoot` auf den richtigen Standardwert festlegen, damit die App unabhängig vom Design bei der Ausführung auf allen Geräten entsprechend gut aussieht.</span><span class="sxs-lookup"><span data-stu-id="73308-183">Now, we need to set `LayoutRoot`'s Background to the correct default value so that the app looks appropriate when running on all devices no matter what the theme is.</span></span> <span data-ttu-id="73308-184">Ändern Sie den Wert von `"Transparent"` in `"{ThemeResource ApplicationPageBackgroundThemeBrush}"`.</span><span class="sxs-lookup"><span data-stu-id="73308-184">Change it from `"Transparent"` to `"{ThemeResource ApplicationPageBackgroundThemeBrush}"`.</span></span>
-   <span data-ttu-id="73308-185">Ändern Sie in `TitlePanel` den Verweis auf `TitleTextBlockStyle` (was nun ein wenig zu groß ist) in einen Verweis auf `CaptionTextBlockStyle`.</span><span class="sxs-lookup"><span data-stu-id="73308-185">In `TitlePanel`, change the reference to `TitleTextBlockStyle` (which is now a little too big) to a reference to `CaptionTextBlockStyle`.</span></span> `PageTitleTextBlockStyle` <span data-ttu-id="73308-186">ist eine andere Bookstore1\_81-Dereferenzierung, die wir nicht mehr benötigen.</span><span class="sxs-lookup"><span data-stu-id="73308-186">is another Bookstore1\_81 indirection that we don't need any longer.</span></span> <span data-ttu-id="73308-187">Ändern Sie dies, sodass stattdessen auf `HeaderTextBlockStyle` verwiesen wird.</span><span class="sxs-lookup"><span data-stu-id="73308-187">Change that to reference `HeaderTextBlockStyle` instead.</span></span>
-   <span data-ttu-id="73308-188">Für **ListBox** müssen keine speziellen Background-, Style- oder ItemContainerStyle-Werte mehr festgelegt werden. Löschen Sie daher diese drei Attribute und deren Werte aus dem Markup.</span><span class="sxs-lookup"><span data-stu-id="73308-188">We no longer need to set any special Background, Style, nor ItemContainerStyle on the **ListBox**, so just delete those three attributes and their values from the markup.</span></span> <span data-ttu-id="73308-189">Wir möchten den Rand von **ListBox** ausblenden und fügen daher `BorderBrush="{x:Null}"` hinzu.</span><span class="sxs-lookup"><span data-stu-id="73308-189">We do want to hide the border of the **ListBox**, though, so add `BorderBrush="{x:Null}"` to it.</span></span>
-   <span data-ttu-id="73308-190">Wir verweisen nicht mehr auf eine Ressource in der **ResourceDictionary**-Datei namens „BookstoreStyles.xaml“.</span><span class="sxs-lookup"><span data-stu-id="73308-190">We're not referencing any of the resources in the BookstoreStyles.xaml **ResourceDictionary** file any longer.</span></span> <span data-ttu-id="73308-191">Sie können alle diese Ressourcen löschen.</span><span class="sxs-lookup"><span data-stu-id="73308-191">You can delete all of those resources.</span></span> <span data-ttu-id="73308-192">Löschen Sie jedoch nicht die Datei „BookstoreStyles.xaml“ selbst. Diese können wir noch ein letztes Mal verwenden, wie Sie im nächsten Abschnitt sehen werden.</span><span class="sxs-lookup"><span data-stu-id="73308-192">But, don't delete the BookstoreStyles.xaml file itself: we still have one last use for it, as you'll see in the next section.</span></span>

<span data-ttu-id="73308-193">Nach den letzten Formatierungsvorgängen sieht die App folgendermaßen aus.</span><span class="sxs-lookup"><span data-stu-id="73308-193">That last sequence of styling operations leaves the app looking like this.</span></span>

![Die fast portierte Windows10-App](images/w8x-to-uwp-case-studies/c01-05-desk10-almost-ported.png)

<span data-ttu-id="73308-195">Die fast portierte Windows 10-App auf einem Desktopgerät</span><span class="sxs-lookup"><span data-stu-id="73308-195">The almost-ported Windows 10 app running on a Desktop device</span></span>

![Die fast portierte Windows10-App](images/w8x-to-uwp-case-studies/c01-06-mob10-almost-ported.png)

<span data-ttu-id="73308-197">Die fast portierte Windows 10-App auf einem mobilen Gerät</span><span class="sxs-lookup"><span data-stu-id="73308-197">The almost-ported Windows 10 app running on a Mobile device</span></span>

## <a name="an-optional-adjustment-to-the-list-box-for-mobile-devices"></a><span data-ttu-id="73308-198">Eine optionale Anpassung des Listenfelds für Mobilgeräte</span><span class="sxs-lookup"><span data-stu-id="73308-198">An optional adjustment to the list box for Mobile devices</span></span>

<span data-ttu-id="73308-199">Wenn die App auf einem Mobilgerät ausgeführt wird, ist der Hintergrund eines Listenfelds standardmäßig in beiden Designs hell.</span><span class="sxs-lookup"><span data-stu-id="73308-199">When the app is running on a Mobile device, the background of a list box is light by default in both themes.</span></span> <span data-ttu-id="73308-200">Dies ist möglicherweise genau der Stil, den Sie bevorzugen, sodass Sie in diesem Fall nichts weiter unternehmen müssen als aufzuräumen: Löschen Sie dazu die Ressourcenwörterbuchdatei „BookstoreStyles.xaml“ aus dem Projekt, und entfernen Sie das Markup, das sie in „MainPage.xaml“ zusammenführt.</span><span class="sxs-lookup"><span data-stu-id="73308-200">That may be the style that you prefer and, if so, then there's nothing more to do except to tidy up: delete the BookstoreStyles.xaml resource dictionary file from your project, and remove the markup that merges it into MainPage.xaml.</span></span>

<span data-ttu-id="73308-201">Aber die Steuerelemente sind so konzipiert, dass Sie das Aussehen anpassen können, ohne ihr Verhalten zu ändern.</span><span class="sxs-lookup"><span data-stu-id="73308-201">But, controls are designed so that you can customize their look while leaving their behavior unaffected.</span></span> <span data-ttu-id="73308-202">Wenn das Listenfeld durch das dunkle Design dunkel gestaltet werden soll– so wie in der ursprünglichen App vorgesehen– dann finden Sie in diesem Abschnitt eine Beschreibung dafür.</span><span class="sxs-lookup"><span data-stu-id="73308-202">So, if you want the list box to be dark in the dark theme—the way the original app looked—then this section describes a way to do that.</span></span>

<span data-ttu-id="73308-203">Die Änderung, die wir vornehmen, muss sich nur dann auf die App auswirken, wenn sie auf mobilen Geräten ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="73308-203">The change we make only needs to affect the app when it's running on Mobile devices.</span></span> <span data-ttu-id="73308-204">Daher verwenden wir einen leicht angepassten Listenfeldstil, wenn die App auf der Mobilgerätefamilie ausgeführt wird, für alle anderen Geräte verwenden wir weiterhin den Standardstil.</span><span class="sxs-lookup"><span data-stu-id="73308-204">So, we'll use a very slightly customized list box style when we're running on the Mobile device family, and we'll continue to use the default style when we're running everywhere else.</span></span> <span data-ttu-id="73308-205">Dazu erstellen wir eine Kopie von „BookstoreStyles.xaml“ und geben ihr einen speziellen MRT-qualifizierten Namen, sodass die Kopie nur auf mobilen Geräten geladen wird.</span><span class="sxs-lookup"><span data-stu-id="73308-205">To do that, we'll make a copy of BookstoreStyles.xaml and we'll give it a special MRT-qualified name, which will cause it to be loaded only on Mobile devices.</span></span>

<span data-ttu-id="73308-206">Fügen Sie ein neues **ResourceDictionary**-Projektelement hinzu, und geben Sie ihm den Namen „BookstoreStyles.DeviceFamily Mobile.xaml“.</span><span class="sxs-lookup"><span data-stu-id="73308-206">Add a new **ResourceDictionary** project item and name it BookstoreStyles.DeviceFamily-Mobile.xaml.</span></span> <span data-ttu-id="73308-207">Sie haben jetzt zwei Dateien, die beide den logischen Namen "BookstoreStyles.xaml" haben. (Dies ist der Name, den Sie in Ihrem Markup und Code verwenden.)</span><span class="sxs-lookup"><span data-stu-id="73308-207">You now have two files both of whose logical name is BookstoreStyles.xaml (and that's the name you use in your markup and code).</span></span> <span data-ttu-id="73308-208">Die Dateien haben jedoch unterschiedliche physische Namen, sodass sie verschiedene Markups enthalten können.</span><span class="sxs-lookup"><span data-stu-id="73308-208">The files have different physical names, though, so they can contain different markup.</span></span> <span data-ttu-id="73308-209">Sie können dieses MRT-qualifizierte Benennungsschema für jede XAML-Datei verwenden. Beachten Sie jedoch, dass sich alle XAML-Dateien mit demselben logischen Namen eine einzelne CodeBehind-Datei („xaml.cs“) teilen, sofern vorhanden.</span><span class="sxs-lookup"><span data-stu-id="73308-209">You can use this MRT-qualified naming scheme with any xaml file, but be aware that all xaml files with the same logical name share a single xaml.cs code-behind file (where one is applicable).</span></span>

<span data-ttu-id="73308-210">Bearbeiten Sie eine Kopie der Steuerelementvorlage für das Listenfeld, und speichern Sie sie mit dem Schlüssel von `BookstoreListBoxStyle` im neuen Ressourcenwörterbuch „BookstoreStyles.DeviceFamily-Mobile.xaml“.</span><span class="sxs-lookup"><span data-stu-id="73308-210">Edit a copy of the control template for the list box and store that with the key of `BookstoreListBoxStyle` in the new resource dictionary, BookstoreStyles.DeviceFamily-Mobile.xaml.</span></span> <span data-ttu-id="73308-211">Jetzt nehmen wir einfache Änderungen an drei der Setter vor.</span><span class="sxs-lookup"><span data-stu-id="73308-211">Now, we'll make simple changes to three of the setters.</span></span>

-   <span data-ttu-id="73308-212">Ändern Sie im Vordergrundsetter den Wert in `"{x:Null}"`.</span><span class="sxs-lookup"><span data-stu-id="73308-212">In the Foreground setter, change the value to `"{x:Null}"`.</span></span> <span data-ttu-id="73308-213">Beachten Sie, dass das direkte Festlegen einer Eigenschaft auf `"{x:Null}"` für ein Element identisch mit der Einstellung `null` im Code ist.</span><span class="sxs-lookup"><span data-stu-id="73308-213">Note that setting a property to `"{x:Null}"` directly on an element is the same as setting it to `null` in code.</span></span> <span data-ttu-id="73308-214">Der Wert `"{x:Null}"` in einem Setter hat jedoch einen einzigartigen Effekt: Der Setter im Standardstil (für dieselbe Eigenschaft) wird überschrieben, und der Standardwert der Eigenschaft wird für das Zielelement wiederhergestellt.</span><span class="sxs-lookup"><span data-stu-id="73308-214">But, using a value of `"{x:Null}"` in a setter has a unique effect: it overrides the setter in the default style (for the same property) and restores the default value of the property on the target element.</span></span>
-   <span data-ttu-id="73308-215">Ändern Sie im Hintergrundsetter den Wert in `"Transparent"`, um den hellen Hintergrund zu entfernen.</span><span class="sxs-lookup"><span data-stu-id="73308-215">In the Background setter, change the value to `"Transparent"` to remove that light background.</span></span>
-   <span data-ttu-id="73308-216">Suchen Sie im Vorlagensetter den visuellen Zustand mit dem Namen `Focused`, und löschen Sie das Storyboard, damit sie ein leeres Tag erhalten.</span><span class="sxs-lookup"><span data-stu-id="73308-216">In the Template setter, find the visual state named `Focused` and delete its Storyboard, making it into an empty tag.</span></span>
-   <span data-ttu-id="73308-217">Löschen Sie alle anderen Setter aus dem Markup.</span><span class="sxs-lookup"><span data-stu-id="73308-217">Delete all the other setters from the markup.</span></span>

<span data-ttu-id="73308-218">Kopieren Sie schließlich `BookstoreListBoxStyle` in „BookstoreStyles.xaml“, und löschen Sie die drei Setter, damit sie ein leeres Tag erhalten.</span><span class="sxs-lookup"><span data-stu-id="73308-218">Finally, copy `BookstoreListBoxStyle` into BookstoreStyles.xaml and delete its three setters, making it into an empty tag.</span></span> <span data-ttu-id="73308-219">Dies führen wir auf anderen Geräten als mobilen Geräten durch, sodass der Verweis auf „BookstoreStyles.xaml“ und `BookstoreListBoxStyle` weiterhin aufgelöst wird, aber keine Auswirkungen hat.</span><span class="sxs-lookup"><span data-stu-id="73308-219">We do this so that on devices other than Mobile ones, our reference to BookstoreStyles.xaml and to `BookstoreListBoxStyle` will resolve, but will have no effect.</span></span>

![Die portierte Windows10-App](images/w8x-to-uwp-case-studies/c01-07-mob10-ported.png)

<span data-ttu-id="73308-221">Die portierte Windows 10-App auf einem mobilen Gerät</span><span class="sxs-lookup"><span data-stu-id="73308-221">The ported Windows 10 app running on a Mobile device</span></span>

## <a name="conclusion"></a><span data-ttu-id="73308-222">Fazit</span><span class="sxs-lookup"><span data-stu-id="73308-222">Conclusion</span></span>

<span data-ttu-id="73308-223">In dieser Fallstudie wurde der Prozess zum Portieren einer einfachen App veranschaulicht– einer zugegebenermaßen unrealistisch einfachen App.</span><span class="sxs-lookup"><span data-stu-id="73308-223">This case study showed the process of porting a very simple app—arguably an unrealistically simple one.</span></span> <span data-ttu-id="73308-224">Beispielsweise kann ein Listenfeld für die Auswahl oder die Herstellung eines Navigationskontexts verwendet werden; die App navigiert zu einer Seite mit weiteren Details zum ausgewählten Element.</span><span class="sxs-lookup"><span data-stu-id="73308-224">For instance, a list box can be used for selection or for establishing a context for navigation; the app navigates to a page with more details about the item that was tapped.</span></span> <span data-ttu-id="73308-225">Diese bestimmte App führt keine Aktionen mit der Auswahl des Benutzers aus und verfügt nicht über Navigation.</span><span class="sxs-lookup"><span data-stu-id="73308-225">This particular app does nothing with the user's selection, and it has no navigation.</span></span> <span data-ttu-id="73308-226">Dennoch diente die Fallstudie dazu, den Portierungsprozess vorzustellen und wichtige Techniken zu veranschaulichen, die Sie in echten UWP-Apps verwenden können.</span><span class="sxs-lookup"><span data-stu-id="73308-226">Even so, the case study served to break the ice, to introduce the porting process, and to demonstrate important techniques that you can use in real UWP apps.</span></span>

<span data-ttu-id="73308-227">Wir konnten uns auch davon überzeugen, dass das Portieren von Ansichtsmodellen in der Regel ein reibungsloser Prozess ist.</span><span class="sxs-lookup"><span data-stu-id="73308-227">We also saw evidence that porting view models is generally a smooth process.</span></span> <span data-ttu-id="73308-228">Die Benutzeroberfläche und die Formfaktorunterstützung sind Aspekte, die beim Portieren mit höherer Wahrscheinlichkeit unsere Aufmerksamkeit erfordern.</span><span class="sxs-lookup"><span data-stu-id="73308-228">User interface, and form factor support, are aspects that are more likely to require our attention when porting.</span></span>

<span data-ttu-id="73308-229">Die nächsten Fallstudie ist [Bookstore2](w8x-to-uwp-case-study-bookstore2.md), in der wir den Zugriff auf und die Anzeige von gruppierten Daten behandeln.</span><span class="sxs-lookup"><span data-stu-id="73308-229">The next case study is [Bookstore2](w8x-to-uwp-case-study-bookstore2.md), in which we look at accessing and displaying grouped data.</span></span>
