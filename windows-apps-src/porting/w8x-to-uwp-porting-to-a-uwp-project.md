---
author: stevewhims
description: Sie haben zwei Möglichkeiten, wenn Sie mit dem Portierungsprozess beginnen.
title: Portieren eines Windows-Runtime 8.x-Projekts zu einem UWP-Projekt
ms.assetid: 2dee149f-d81e-45e0-99a4-209a178d415a
ms.author: stwhi
ms.date: 02/08/2017
ms.topic: article
keywords: Windows 10, UWP
ms.localizationpriority: medium
ms.openlocfilehash: a4e0ff78f2872e572c370411a1aad38ccbd7fb6a
ms.sourcegitcommit: 70ab58b88d248de2332096b20dbd6a4643d137a4
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 11/02/2018
ms.locfileid: "5939365"
---
# <a name="porting-a-windows-runtime-8x-project-to-a-uwp-project"></a><span data-ttu-id="0cead-104">Portieren eines Windows-Runtime 8.x-Projekts zu einem UWP-Projekt</span><span class="sxs-lookup"><span data-stu-id="0cead-104">Porting a Windows Runtime 8.x project to a UWP project</span></span>



<span data-ttu-id="0cead-105">Sie haben zwei Möglichkeiten, wenn Sie mit dem Portierungsprozess beginnen.</span><span class="sxs-lookup"><span data-stu-id="0cead-105">You have two options when you begin the porting process.</span></span> <span data-ttu-id="0cead-106">Eine Möglichkeit ist das Bearbeiten einer Kopie der vorhandenen Projektdateien, einschließlich des App-Paketmanifests (die Vorgehensweise finden Sie in den Informationen zum Aktualisieren der Projektdateien unter [Migrieren von Apps zur universellen Windows-Plattform (UWP)](https://msdn.microsoft.com/library/mt148501.aspx)).</span><span class="sxs-lookup"><span data-stu-id="0cead-106">One is to edit a copy of your existing project files, including the app package manifest (for that option, see the info about updating your project files in [Migrate apps to the Universal Windows Platform (UWP)](https://msdn.microsoft.com/library/mt148501.aspx)).</span></span> <span data-ttu-id="0cead-107">Die andere Möglichkeit ist das Erstellen eines neuen Windows 10-Projekts in Visual Studio und Kopieren Ihrer Dateien in dieses.</span><span class="sxs-lookup"><span data-stu-id="0cead-107">The other option is to create a new Windows10 project in Visual Studio and copy your files into it.</span></span> <span data-ttu-id="0cead-108">Im ersten Abschnitt dieses Themas wird diese zweite Möglichkeit beschrieben, aber im restlichen Thema finden Sie zusätzliche Informationen für beide Vorgehensweisen.</span><span class="sxs-lookup"><span data-stu-id="0cead-108">The first section in this topic describes that second option, but the rest of the topic has additional info applicable to both options.</span></span> <span data-ttu-id="0cead-109">Sie können auch auswählen, um Ihr neues Windows 10-Projekt in der gleichen Projektmappe wie vorhandene Projekte und Quellcodedateien über ein freigegebenes Projekt.</span><span class="sxs-lookup"><span data-stu-id="0cead-109">You can also choose to keep your new Windows10 project in the same solution as your existing projects and share source code files using a shared project.</span></span> <span data-ttu-id="0cead-110">Alternativ können Sie das neue Projekt in einer eigenen Projektmappe platzieren und Quellcodedateien mithilfe des Features für verknüpfte Dateien in Visual Studio freigeben.</span><span class="sxs-lookup"><span data-stu-id="0cead-110">Or, you can keep the new project in a solution of its own and share source code files using the linked files feature in Visual Studio.</span></span>

## <a name="create-the-project-and-copy-files-to-it"></a><span data-ttu-id="0cead-111">Erstellen des Projekts und Kopieren der Dateien</span><span class="sxs-lookup"><span data-stu-id="0cead-111">Create the project and copy files to it</span></span>

<span data-ttu-id="0cead-112">Die Option zum Erstellen eines neuen Windows 10-Projekts in Visual Studio, und kopieren Sie die Dateien in den folgenden Schritten steht.</span><span class="sxs-lookup"><span data-stu-id="0cead-112">These steps focus on the option to create a new Windows10 project in Visual Studio and copy your files into it.</span></span> <span data-ttu-id="0cead-113">Einige der Details (etwa, wie viele Projekte Sie erstellen und welche Dateien Sie kopieren) sind abhängig von den Faktoren und Entscheidungen, die unter [Bei einer universellen8.1-App](w8x-to-uwp-root.md) und in den anschließenden Abschnitten beschrieben sind.</span><span class="sxs-lookup"><span data-stu-id="0cead-113">Some of the specifics around how many projects you create, and which files you copy over, will depend on the factors and decisions described in [If you have a Universal 8.1 app](w8x-to-uwp-root.md) and the sections that follow it.</span></span> <span data-ttu-id="0cead-114">Bei den folgenden Schritten wird vom einfachsten Fall ausgegangen.</span><span class="sxs-lookup"><span data-stu-id="0cead-114">These steps assume the simplest case.</span></span>

1.  <span data-ttu-id="0cead-115">Starten Sie Microsoft Visual Studio2015 und Erstellen eines neuen Projekts leere Anwendung (Windows Universal).</span><span class="sxs-lookup"><span data-stu-id="0cead-115">Launch Microsoft Visual Studio2015 and create a new Blank Application (Windows Universal) project.</span></span> <span data-ttu-id="0cead-116">Weitere Informationen finden Sie unter [Schnelleinstieg in die Entwicklung einer Windows-Runtime 8.x-app mithilfe von Vorlagen (c#, C++, Visual Basic)](https://msdn.microsoft.com/library/windows/apps/hh768232).</span><span class="sxs-lookup"><span data-stu-id="0cead-116">For more info, see [Jumpstart your Windows Runtime 8.x app using templates (C#, C++, Visual Basic)](https://msdn.microsoft.com/library/windows/apps/hh768232).</span></span> <span data-ttu-id="0cead-117">Für das neue Projekt wird ein App-Paket (APPX-Datei) erstellt, das auf allen Gerätefamilien ausgeführt werden kann.</span><span class="sxs-lookup"><span data-stu-id="0cead-117">Your new project builds an app package (an appx file) that will run on all device families.</span></span>
2.  <span data-ttu-id="0cead-118">Geben Sie in Ihrem universellen8.1-App-Projekt alle Quellcodedateien und visuellen Ressourcendateien an, die Sie wiederverwenden möchten.</span><span class="sxs-lookup"><span data-stu-id="0cead-118">In your Universal 8.1 app project, identify all the source code files and visual asset files that you want to reuse.</span></span> <span data-ttu-id="0cead-119">Kopieren Sie mithilfe des Explorers die Datenmodelle, Ansichtsmodelle, visuellen Ressourcen, Ressourcenverzeichnisse sowie die Ordnerstruktur und alles andere, was Sie wiederverwenden möchten, in das neue Projekt.</span><span class="sxs-lookup"><span data-stu-id="0cead-119">Using File Explorer, copy data models, view models, visual assets, Resource Dictionaries, folder structure, and anything else that you wish to re-use, to your new project.</span></span> <span data-ttu-id="0cead-120">Kopieren oder erstellen Sie bei Bedarf Unterordner auf dem Datenträger.</span><span class="sxs-lookup"><span data-stu-id="0cead-120">Copy or create sub-folders on disk as necessary.</span></span>
3.  <span data-ttu-id="0cead-121">Kopieren Sie auch Ansichten (z.B. „MainPage.xaml“ und „MainPage.xaml.cs“) in das neue Projekt.</span><span class="sxs-lookup"><span data-stu-id="0cead-121">Copy views (for example, MainPage.xaml and MainPage.xaml.cs) into the new project, too.</span></span> <span data-ttu-id="0cead-122">Erstellen Sie bei Bedarf auch hier neue Unterordner, und entfernen Sie die vorhandenen Ansichten aus dem Projekt.</span><span class="sxs-lookup"><span data-stu-id="0cead-122">Again, create new sub-folders as necessary, and remove the existing views from the project.</span></span> <span data-ttu-id="0cead-123">Erstellen Sie vor dem Überschreiben oder Entfernen einer von Visual Studio generierten Ansicht jedoch eine Kopie, um später darauf zurückgreifen zu können.</span><span class="sxs-lookup"><span data-stu-id="0cead-123">But, before you over-write or remove a view that Visual Studio generated, keep a copy because it may be useful to refer to it later.</span></span> <span data-ttu-id="0cead-124">In der ersten Portierungsphase einer universellen 8.1-App wird in erster Linie dafür gesorgt, dass die App auf einer Gerätefamilie gut aussieht und reibungslos funktioniert.</span><span class="sxs-lookup"><span data-stu-id="0cead-124">The first phase of porting a Universal 8.1 app focuses on getting it to look good and work well on one device family.</span></span> <span data-ttu-id="0cead-125">Später können Sie sich dann auf eine einwandfreie Anpassung der Ansichten an alle Formfaktoren konzentrieren und bei Bedarf adaptiven Code für die optimale Nutzung einer bestimmten Gerätefamilie hinzufügen.</span><span class="sxs-lookup"><span data-stu-id="0cead-125">Later, you'll turn your attention to making sure the views adapt themselves well to all form factors, and optionally to adding any adaptive code to get the most from a particular device family.</span></span>
4.  <span data-ttu-id="0cead-126">Vergewissern Sie sich im **Projektmappen-Explorer**, dass **Alle Dateien anzeigen** aktiviert ist.</span><span class="sxs-lookup"><span data-stu-id="0cead-126">In **Solution Explorer**, make sure **Show All Files** is toggled on.</span></span> <span data-ttu-id="0cead-127">Wählen Sie die kopierten Dateien aus, klicken Sie mit der rechten Maustaste darauf, und klicken Sie dann auf **Zu Projekt hinzufügen**.</span><span class="sxs-lookup"><span data-stu-id="0cead-127">Select the files that you copied, right-click them, and click **Include In Project**.</span></span> <span data-ttu-id="0cead-128">Dadurch werden die zugehörigen Ordner automatisch hinzugefügt.</span><span class="sxs-lookup"><span data-stu-id="0cead-128">This will automatically include their containing folders.</span></span> <span data-ttu-id="0cead-129">Sie können **Alle Dateien anzeigen** jetzt ggf. deaktivieren.</span><span class="sxs-lookup"><span data-stu-id="0cead-129">You can then toggle **Show All Files** off if you like.</span></span> <span data-ttu-id="0cead-130">Eine alternative Vorgehensweise ist die Verwendung des Befehls **Vorhandenes Element hinzufügen**, wenn Sie alle erforderlichen Unterordner im **Projektmappen-Explorer** von Visual Studio erstellt haben.</span><span class="sxs-lookup"><span data-stu-id="0cead-130">An alternative workflow, if you prefer, is to use the **Add Existing Item** command, having created any necessary sub-folders in the Visual Studio **Solution Explorer**.</span></span> <span data-ttu-id="0cead-131">Stellen Sie sicher, dass für Ihre visuellen Ressourcen **Buildvorgang** auf **Inhalt** und **In Ausgabeverzeichnis kopieren** auf **Nicht kopieren** festgelegt ist.</span><span class="sxs-lookup"><span data-stu-id="0cead-131">Double-check that your visual assets have **Build Action** set to **Content** and **Copy to Output Directory** set to **Do not copy**.</span></span>
5.  <span data-ttu-id="0cead-132">In dieser Phase begegnen Ihnen wahrscheinlich noch einige Buildfehler.</span><span class="sxs-lookup"><span data-stu-id="0cead-132">You are likely to see some build errors at this stage.</span></span> <span data-ttu-id="0cead-133">Wenn Sie wissen, was Sie ändern müssen, können Sie mithilfe des VisualStudio-Befehls **Suchen und ersetzen** globale Änderungen in Ihrem Quellcode vornehmen. Gezieltere Änderungen können Sie im imperativen Code-Editor von Visual Studio mit den Befehlen **Auflösen** und **Using-Direktiven organisieren** aus dem Kontextmenü durchführen.</span><span class="sxs-lookup"><span data-stu-id="0cead-133">But, if you know what you need to change, then you can use Visual Studio's **Find and Replace** command to make bulk changes to your source code; and in the imperative code editor in Visual Studio, use the **Resolve** and **Organize Usings** commands on the context menu for more targeted changes.</span></span>

## <a name="maximizing-markup-and-code-reuse"></a><span data-ttu-id="0cead-134">Maximieren der Wiederverwendung von Markup und Code</span><span class="sxs-lookup"><span data-stu-id="0cead-134">Maximizing markup and code reuse</span></span>

<span data-ttu-id="0cead-135">Sie werden feststellen, dass Sie durch kleinere Umgestaltungsmaßnahmen und/oder zusätzlichen adaptiven Code (siehe Erläuterung weiter unten) das Markup und den Code für alle Gerätefamilien maximieren können.</span><span class="sxs-lookup"><span data-stu-id="0cead-135">You will find that refactoring a little, and/or adding adaptive code (which is explained below), will allow you to maximize the markup and code that works across all device families.</span></span> <span data-ttu-id="0cead-136">Weitere Details:</span><span class="sxs-lookup"><span data-stu-id="0cead-136">Here are more details.</span></span>

-   <span data-ttu-id="0cead-137">Dateien, die für alle Gerätefamilien verwendet werden, bedürfen keiner besonderen Beachtung.</span><span class="sxs-lookup"><span data-stu-id="0cead-137">Files that are common to all device families need no special consideration.</span></span> <span data-ttu-id="0cead-138">Diese Dateien werden von der App für alle Gerätefamilien verwendet, mit denen sie ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="0cead-138">Those files will be used by the app on all the device families that it runs on.</span></span> <span data-ttu-id="0cead-139">Dazu zählen XAML-Markupdateien, imperative Quellcodedateien und Ressourcendateien.</span><span class="sxs-lookup"><span data-stu-id="0cead-139">This includes XAML markup files, imperative source code files, and asset files.</span></span>
-   <span data-ttu-id="0cead-140">Ihre App kann die Gerätefamilie erkennen, mit der sie ausgeführt wird, und eine Ansicht verwenden, die speziell für diese Gerätefamilie gestaltet wurde.</span><span class="sxs-lookup"><span data-stu-id="0cead-140">It is possible for your app to detect the device family that it is running on and navigate to a view that has been designed specifically for that device family.</span></span> <span data-ttu-id="0cead-141">Weitere Informationen finden Sie unter [Erkennen der Plattform, auf der Ihre App ausgeführt wird](w8x-to-uwp-input-and-sensors.md).</span><span class="sxs-lookup"><span data-stu-id="0cead-141">For more details, see [Detecting the platform your app is running on](w8x-to-uwp-input-and-sensors.md).</span></span>
-   <span data-ttu-id="0cead-142">Steht keine Alternative zur Verfügung, ist unter Umständen folgende ähnliche Methode hilfreich: Versehen Sie eine Markupdatei oder eine **ResourceDictionary**-Datei (oder den Ordner, der die Datei enthält) mit einem speziellen Namen, sodass sie zur Laufzeit nur dann automatisch geladen wird, wenn Ihre App mit einer bestimmten Gerätefamilie ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="0cead-142">A similar technique that you may find useful if there is no alternative is give a markup file or **ResourceDictionary** file (or the folder that contains the file) a special name such that it is automatically loaded at runtime only when your app runs on a particular device family.</span></span> <span data-ttu-id="0cead-143">Diese Methode wird in der Fallstudie [Bookstore1](w8x-to-uwp-case-study-bookstore1.md) veranschaulicht.</span><span class="sxs-lookup"><span data-stu-id="0cead-143">This technique is illustrated in the [Bookstore1](w8x-to-uwp-case-study-bookstore1.md) case study.</span></span>
-   <span data-ttu-id="0cead-144">Sie sollten in der Lage, einen Großteil der bedingten Kompilierungsdirektiven im Quellcode Ihrer universellen 8.1-app entfernen, wenn Sie nur Windows 10 unterstützen müssen.</span><span class="sxs-lookup"><span data-stu-id="0cead-144">You should be able to remove a lot of the conditional compilation directives in your Universal 8.1 app's source code if you only need to support Windows10.</span></span> <span data-ttu-id="0cead-145">Weitere Informationen finden Sie in diesem Thema unter [Bedingte Kompilierung und adaptiver Code](#conditional-compilation-and-adaptive-code).</span><span class="sxs-lookup"><span data-stu-id="0cead-145">See [Conditional compilation and adaptive code](#conditional-compilation-and-adaptive-code) in this topic.</span></span>
-   <span data-ttu-id="0cead-146">Für Features, die nicht bei allen Gerätefamilien zur Verfügung stehen (wie etwa Drucker, Scanner oder die Kamerataste), können Sie adaptiven Code schreiben.</span><span class="sxs-lookup"><span data-stu-id="0cead-146">To use features that are not available on all device families (for example, printers, scanners, or the camera button), you can write adaptive code.</span></span> <span data-ttu-id="0cead-147">Weitere Informationen finden Sie im dritten Beispiel dieses Themas unter [Bedingte Kompilierung und adaptiver Code](#conditional-compilation-and-adaptive-code).</span><span class="sxs-lookup"><span data-stu-id="0cead-147">See the third example in [Conditional compilation and adaptive code](#conditional-compilation-and-adaptive-code) in this topic.</span></span>
-   <span data-ttu-id="0cead-148">Wenn Sie Windows 8.1, Windows Phone 8.1 und Windows 10 unterstützen möchten, können Sie drei Projekte in der gleichen Projektmappe halten und Teilen von Code über ein freigegebenes Projekt.</span><span class="sxs-lookup"><span data-stu-id="0cead-148">If you want to support Windows 8.1, Windows Phone 8.1, and Windows10, then you can keep three projects in the same solution and share code with a Shared project.</span></span> <span data-ttu-id="0cead-149">Alternativ können Sie Quellcodedateien projektübergreifend freigeben.</span><span class="sxs-lookup"><span data-stu-id="0cead-149">Alternatively, you can share source code files between projects.</span></span> <span data-ttu-id="0cead-150">Klicken Sie dazu in VisualStudio im **Projektmappen-Explorer** mit der rechten Maustaste auf das Projekt, wählen Sie **Vorhandenes Element hinzufügen** und dann die freizugebenden Dateien aus, und klicken Sie auf **Als Link hinzufügen**.</span><span class="sxs-lookup"><span data-stu-id="0cead-150">Here's how: in Visual Studio, right-click the project in **Solution Explorer**, select **Add Existing Item**, select the files to share, and then click **Add As Link**.</span></span> <span data-ttu-id="0cead-151">Speichern Sie die Quellcodedateien in einem gemeinsamen Ordner im Dateisystem, in dem sie für verknüpfte Projekte sichtbar sind.</span><span class="sxs-lookup"><span data-stu-id="0cead-151">Store your source code files in a common folder on the file system where the projects that link to them can see them.</span></span> <span data-ttu-id="0cead-152">Und vergessen Sie nicht, die Dateien der Quellcodeverwaltung hinzuzufügen.</span><span class="sxs-lookup"><span data-stu-id="0cead-152">And don't forget to add them to source control.</span></span>
-   <span data-ttu-id="0cead-153">Informationen zur Wiederverwendung auf binärer Ebene finden Sie unter [Erstellen von Komponenten für Windows-Runtime in C# und Visual Basic](http://msdn.microsoft.com/library/windows/apps/xaml/br230301.aspx).</span><span class="sxs-lookup"><span data-stu-id="0cead-153">For reuse at the binary level, rather than the source code level, see [Creating Windows Runtime Components in C# and Visual Basic](http://msdn.microsoft.com/library/windows/apps/xaml/br230301.aspx).</span></span> <span data-ttu-id="0cead-154">Es gibt auch Portable Klassenbibliotheken, die die Teilmenge von .NET-APIs unterstützen, die in .NET Framework für Windows 8.1, Windows Phone 8.1 und Windows 10-apps (.NET Core) und im gesamten .NET Framework verfügbar sind.</span><span class="sxs-lookup"><span data-stu-id="0cead-154">There are also Portable Class Libraries, which support the subset of .NET APIs that are available in the .NET Framework for Windows 8.1, Windows Phone 8.1, and Windows10 apps (.NET Core), and the full .NET Framework.</span></span> <span data-ttu-id="0cead-155">Portable Klassenbibliothekassemblys sind mit allen diesen Plattformen binärkompatibel.</span><span class="sxs-lookup"><span data-stu-id="0cead-155">Portable Class Library assemblies are binary compatible with all these platforms.</span></span> <span data-ttu-id="0cead-156">Erstellen Sie mit Visual Studio ein Projekt für eine portable Klassenbibliothek.</span><span class="sxs-lookup"><span data-stu-id="0cead-156">Use Visual Studio to create a project that targets a Portable Class Library.</span></span> <span data-ttu-id="0cead-157">Weitere Informationen finden Sie unter [Plattformübergreifende Entwicklung mit der portablen Klassenbibliothek](http://msdn.microsoft.com/library/gg597391.aspx).</span><span class="sxs-lookup"><span data-stu-id="0cead-157">See [Cross-Platform Development with the Portable Class Library](http://msdn.microsoft.com/library/gg597391.aspx).</span></span>

## <a name="extension-sdks"></a><span data-ttu-id="0cead-158">Erweiterungs-SDKs</span><span class="sxs-lookup"><span data-stu-id="0cead-158">Extension SDKs</span></span>

<span data-ttu-id="0cead-159">Die meisten der Windows-Runtime-APIs, die Ihre universelle8.1-App bereits aufruft, sind in der Gruppe der APIs implementiert, die als universelle Gerätefamilie bezeichnet wird.</span><span class="sxs-lookup"><span data-stu-id="0cead-159">Most of the Windows Runtime APIs your Universal 8.1 app already calls are implemented in the set of APIs known as the universal device family.</span></span> <span data-ttu-id="0cead-160">Einige sind jedoch in Erweiterungs-SDKs implementiert, und Visual Studio erkennt nur APIs, die von der Zielgerätefamilie Ihrer App oder von einem Erweiterungs-SDK implementiert werden, auf das Sie verwiesen haben.</span><span class="sxs-lookup"><span data-stu-id="0cead-160">But, some are implemented in extension SDKs, and Visual Studio only recognizes APIs that are implemented by your app's target device family or by any extension SDKs that you have referenced.</span></span>

<span data-ttu-id="0cead-161">Im Fall von Kompilierungsfehlern, die auf nicht gefundene Namespaces, Typen oder Member zurückzuführen sind, ist dies wahrscheinlich die Ursache.</span><span class="sxs-lookup"><span data-stu-id="0cead-161">If you get compile errors about namespaces or types or members that could not be found, then this is likely to be the cause.</span></span> <span data-ttu-id="0cead-162">Öffnen Sie in der API-Referenzdokumentation das entsprechende API-Thema, und navigieren Sie zum Abschnitt mit den Anforderungen. Hier erfahren Sie, von welcher Gerätefamilie die API implementiert wird.</span><span class="sxs-lookup"><span data-stu-id="0cead-162">Open the API's topic in the API reference documentation and navigate to the Requirements section: that will tell you what the implementing device family is.</span></span> <span data-ttu-id="0cead-163">Handelt es sich dabei nicht um Ihre Zielgerätefamilie, benötigen Sie einen Verweis auf das Erweiterungs-SDK für diese Gerätefamilie, um die API für Ihr Projekt verfügbar zu machen.</span><span class="sxs-lookup"><span data-stu-id="0cead-163">If that's not your target device family, then to make the API available to your project, you will need a reference to the extension SDK for that device family.</span></span>

<span data-ttu-id="0cead-164">Klicken Sie auf **Projekt** &gt; **Verweis hinzufügen** &gt; **Windows Universal** &gt; **Erweiterungen**, und wählen Sie das entsprechende Erweiterungs-SDK aus.</span><span class="sxs-lookup"><span data-stu-id="0cead-164">Click **Project** &gt; **Add Reference** &gt; **Windows Universal** &gt; **Extensions** and select the appropriate extension SDK.</span></span> <span data-ttu-id="0cead-165">Wenn die gewünschten APIs also beispielsweise nur in der Familie für mobile Geräte verfügbar sind und in Version 10.0.x.y eingeführt wurden, wählen Sie **Windows Mobile-Erweiterungen für die UWP** aus.</span><span class="sxs-lookup"><span data-stu-id="0cead-165">For example, if the APIs you want to call are available only in the mobile device family, and they were introduced in version 10.0.x.y, then select **Windows Mobile Extensions for the UWP**.</span></span>

<span data-ttu-id="0cead-166">Dadurch wird Ihrer Projektdatei folgender Verweis hinzugefügt:</span><span class="sxs-lookup"><span data-stu-id="0cead-166">That will add the following reference to your project file:</span></span>

```XML
<ItemGroup>
    <SDKReference Include="WindowsMobile, Version=10.0.x.y">
        <Name>Windows Mobile Extensions for the UWP</Name>
    </SDKReference>
</ItemGroup>
```

<span data-ttu-id="0cead-167">Name und Versionsnummer entsprechen den Ordnern am Installationsort Ihres SDKs.</span><span class="sxs-lookup"><span data-stu-id="0cead-167">The name and version number match the folders in the installed location of your SDK.</span></span> <span data-ttu-id="0cead-168">Die oben angegebenen Informationen entsprechen beispielsweise dem folgenden Ordnernamen:</span><span class="sxs-lookup"><span data-stu-id="0cead-168">For example, the above information matches this folder name:</span></span>

`\Program Files (x86)\Windows Kits\10\Extension SDKs\WindowsMobile\10.0.x.y`

<span data-ttu-id="0cead-169">Falls Ihre App nicht auf die Gerätefamilie ausgerichtet ist, die die API implementiert, müssen Sie vor dem Aufrufen der API mithilfe der [**ApiInformation**](https://msdn.microsoft.com/library/windows/apps/dn949001)-Klasse ermitteln, ob die API vorhanden ist. (Dies wird als adaptiver Code bezeichnet.)</span><span class="sxs-lookup"><span data-stu-id="0cead-169">Unless your app targets the device family that implements the API, you'll need to use the [**ApiInformation**](https://msdn.microsoft.com/library/windows/apps/dn949001) class to test for the presence of the API before you call it (this is called adaptive code).</span></span> <span data-ttu-id="0cead-170">Diese Bedingung wird unabhängig davon ausgewertet, wo Ihre App ausgeführt wird. Das Ergebnis ist aber nur dann „True“, wenn sie auf Geräten ausgeführt wird, bei denen die API vorhanden ist und aufgerufen werden kann.</span><span class="sxs-lookup"><span data-stu-id="0cead-170">This condition will then be evaluated wherever your app runs, but it will only evaluate to true on devices where the API is present and therefore available to call.</span></span> <span data-ttu-id="0cead-171">Verwenden Sie Erweiterungs-SDKs und adaptiven Code erst, nachdem Sie geprüft haben, ob eine universelle API vorhanden ist.</span><span class="sxs-lookup"><span data-stu-id="0cead-171">Only use extension SDKs and adaptive code after first checking whether a universal API exists.</span></span> <span data-ttu-id="0cead-172">Beispiele finden Sie im nächsten Abschnitt.</span><span class="sxs-lookup"><span data-stu-id="0cead-172">Some examples are given in the section below.</span></span>

<span data-ttu-id="0cead-173">Weitere Informationen finden Sie auch unter [App-Paketmanifest](#app-package-manifest).</span><span class="sxs-lookup"><span data-stu-id="0cead-173">Also, see [App package manifest](#app-package-manifest).</span></span>

## <a name="conditional-compilation-and-adaptive-code"></a><span data-ttu-id="0cead-174">Bedingte Kompilierung und adaptiver Code</span><span class="sxs-lookup"><span data-stu-id="0cead-174">Conditional compilation and adaptive code</span></span>

<span data-ttu-id="0cead-175">Wenn Sie bedingten Kompilierung (mit C#-Präprozessordirektiven) verwenden, damit Ihre Codedateien auf Windows 8.1 und Windows Phone 8.1 arbeiten, können Sie jetzt die bedingte Kompilierung anhand der konvergenzmaßnahmen in Windows 10 überprüfen.</span><span class="sxs-lookup"><span data-stu-id="0cead-175">If you're using conditional compilation (with C# preprocessor directives) so that your code files work on both Windows 8.1 and Windows Phone 8.1, then you can now review that conditional compilation in light of the convergence work done in Windows10.</span></span> <span data-ttu-id="0cead-176">Konvergenz bedeutet, dass in Ihrer Windows 10-app, einige Bedingungen vollständig entfernt werden können.</span><span class="sxs-lookup"><span data-stu-id="0cead-176">Convergence means that, in your Windows10 app, some conditions can be removed altogether.</span></span> <span data-ttu-id="0cead-177">Bei anderen werden Laufzeitprüfungen verwendet, wie in den folgenden Beispielen veranschaulicht.</span><span class="sxs-lookup"><span data-stu-id="0cead-177">Others change to run-time checks, as demonstrated in the examples below.</span></span>

<span data-ttu-id="0cead-178">**Hinweis:**  Wenn Sie Windows 8.1, Windows Phone 8.1 und Windows 10 in einer einzelnen Codedatei unterstützen möchten, Sie das möglich.</span><span class="sxs-lookup"><span data-stu-id="0cead-178">**Note** If you want to support Windows 8.1, Windows Phone 8.1, and Windows10 in a single code file, then you can do that too.</span></span> <span data-ttu-id="0cead-179">Wenn Sie in Ihrem Windows 10-Projekt auf die Projekt-Eigenschaftenseiten betrachten, sehen Sie, dass das Projekt "windows\_uap" als Symbol für die bedingte Kompilierung definiert.</span><span class="sxs-lookup"><span data-stu-id="0cead-179">If you look in your Windows10 project at the project properties pages, you'll see that the project defines WINDOWS\_UAP as a conditional compilation symbol.</span></span> <span data-ttu-id="0cead-180">Das Projekt kann also in Kombination mit „WINDOWS\_APP“ und „WINDOWS\_PHONE\_APP“ verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="0cead-180">So, you can use that in combination with WINDOWS\_APP and WINDOWS\_PHONE\_APP.</span></span> <span data-ttu-id="0cead-181">Diese Beispiele zeigen den einfacheren Fall die bedingte Kompilierung aus einer universellen 8.1-app entfernt und der entsprechende Code für eine Windows 10-app eingefügt.</span><span class="sxs-lookup"><span data-stu-id="0cead-181">These examples show the simpler case of removing the conditional compilation from a Universal 8.1 app and substituting the equivalent code for a Windows10 app.</span></span>

<span data-ttu-id="0cead-182">Das erste Beispiel zeigt das Verwendungsmuster für die **PickSingleFileAsync**-API (gilt nur für Windows8.1) und die **PickSingleFileAndContinue**-API (gilt nur für die WindowsPhone8.1).</span><span class="sxs-lookup"><span data-stu-id="0cead-182">This first example shows the usage pattern for the **PickSingleFileAsync** API (which applies only to Windows 8.1) and the **PickSingleFileAndContinue** API (which applies only to Windows Phone 8.1).</span></span>

```csharp
#if WINDOWS_APP
    // Use Windows.Storage.Pickers.FileOpenPicker.PickSingleFileAsync
#else
    // Use Windows.Storage.Pickers.FileOpenPicker.PickSingleFileAndContinue
#endif // WINDOWS_APP
```

<span data-ttu-id="0cead-183">Windows 10 verwendet die [**PickSingleFileAsync**](https://msdn.microsoft.com/library/windows/apps/jj635275) -API, damit Ihr Code folgt vereinfacht:</span><span class="sxs-lookup"><span data-stu-id="0cead-183">Windows10 converges on the [**PickSingleFileAsync**](https://msdn.microsoft.com/library/windows/apps/jj635275) API, so your code simplifies to this:</span></span>

```csharp
    // Use Windows.Storage.Pickers.FileOpenPicker.PickSingleFileAsync
```

<span data-ttu-id="0cead-184">In diesem Beispiel behandeln wir die Hardwaretaste „Zurück“ – allerdings nur für Windows Phone.</span><span class="sxs-lookup"><span data-stu-id="0cead-184">In this example, we handle the hardware back button—but only on Windows Phone.</span></span>

```csharp
#if WINDOWS_PHONE_APP
        Windows.Phone.UI.Input.HardwareButtons.BackPressed += this.HardwareButtons_BackPressed;
#endif // WINDOWS_PHONE_APP

...

#if WINDOWS_PHONE_APP
    void HardwareButtons_BackPressed(object sender, Windows.Phone.UI.Input.BackPressedEventArgs e)
    {
        // Handle the event.
    }
#endif // WINDOWS_PHONE_APP
```

<span data-ttu-id="0cead-185">In Windows 10 ist das Ereignis der Schaltfläche "zurück" ein universelles Konzept.</span><span class="sxs-lookup"><span data-stu-id="0cead-185">In Windows10, the back button event is a universal concept.</span></span> <span data-ttu-id="0cead-186">In die Hardware oder Software implementierte „Zurück“-Schaltflächen lösen das [**BackRequested**](https://msdn.microsoft.com/library/windows/apps/dn893596)-Ereignis aus. Daher müssen wir dieses Ereignis behandeln.</span><span class="sxs-lookup"><span data-stu-id="0cead-186">Back buttons implemented in hardware or in software will all raise the [**BackRequested**](https://msdn.microsoft.com/library/windows/apps/dn893596) event, so that's the one to handle.</span></span>

```csharp
    Windows.UI.Core.SystemNavigationManager.GetForCurrentView().BackRequested +=
        this.ViewModelLocator_BackRequested;

...

private void ViewModelLocator_BackRequested(object sender, Windows.UI.Core.BackRequestedEventArgs e)
{
    // Handle the event.
}
```

<span data-ttu-id="0cead-187">Dieses letzte Beispiel ähnelt dem vorherigen Beispiel.</span><span class="sxs-lookup"><span data-stu-id="0cead-187">This final example is similar to the previous one.</span></span> <span data-ttu-id="0cead-188">Hier behandeln wir die Hardwaretaste für die Kamera – allerdings wieder nur in dem Code, der zum WindowsPhone-App-Paket kompiliert wird.</span><span class="sxs-lookup"><span data-stu-id="0cead-188">Here, we handle the hardware camera button—but again, only in the code compiled into the Windows Phone app package.</span></span>

```csharp
#if WINDOWS_PHONE_APP
    Windows.Phone.UI.Input.HardwareButtons.CameraPressed += this.HardwareButtons_CameraPressed;
#endif // WINDOWS_PHONE_APP

...

#if WINDOWS_PHONE_APP
void HardwareButtons_CameraPressed(object sender, Windows.Phone.UI.Input.CameraEventArgs e)
{
    // Handle the event.
}
#endif // WINDOWS_PHONE_APP
```

<span data-ttu-id="0cead-189">In Windows 10 ist die Hardwaretaste "Kamera" ein spezielles Konzept für die mobile Gerätefamilie.</span><span class="sxs-lookup"><span data-stu-id="0cead-189">In Windows10, the hardware camera button is a concept particular to the mobile device family.</span></span> <span data-ttu-id="0cead-190">Da auf allen Geräten ein einzelnes App-Paket ausgeführt wird, ändern wir unsere Kompilierzeitbedingung mithilfe von so genanntem adaptivem Code in eine Laufzeitbedingung.</span><span class="sxs-lookup"><span data-stu-id="0cead-190">Because one app package will be running on all devices, we change our compile-time condition into a run-time condition using what is known as adaptive code.</span></span> <span data-ttu-id="0cead-191">Hierzu fragen wir zur Laufzeit mithilfe der [**ApiInformation**](https://msdn.microsoft.com/library/windows/apps/dn949001)-Klasse ab, ob die [**HardwareButtons**](https://msdn.microsoft.com/library/windows/apps/jj207557)-Klasse vorhanden ist.</span><span class="sxs-lookup"><span data-stu-id="0cead-191">To do that, we use the [**ApiInformation**](https://msdn.microsoft.com/library/windows/apps/dn949001) class to query at run-time for the presence of the [**HardwareButtons**](https://msdn.microsoft.com/library/windows/apps/jj207557) class.</span></span> <span data-ttu-id="0cead-192">**HardwareButtons** ist im SDK für mobile Erweiterungen definiert. Daher müssen wir unserem Projekt einen Verweis auf dieses SDK hinzufügen, um den Code kompilieren zu können.</span><span class="sxs-lookup"><span data-stu-id="0cead-192">**HardwareButtons** is defined in the mobile extension SDK, so we'll need to add a reference to that SDK to our project for this code to compile.</span></span> <span data-ttu-id="0cead-193">Beachten Sie jedoch, dass der Handler nur auf einem Gerät ausgeführt wird, das die im mobilen Erweiterungs-SDK definierten Typen implementiert und somit der Familie mobiler Geräte angehört.</span><span class="sxs-lookup"><span data-stu-id="0cead-193">Note, though, that the handler will only be executed on a device that implements the types defined in the mobile extension SDK, and that's the mobile device family.</span></span> <span data-ttu-id="0cead-194">Dieser Code entspricht also grundsätzlich dem universellen 8.1-Code, da sichergestellt wird, dass nur Features verwendet werden, die tatsächlich vorhanden sind (auch wenn dies auf andere Weise bewerkstelligt wird).</span><span class="sxs-lookup"><span data-stu-id="0cead-194">So, this code is morally equivalent to the Universal 8.1 code in that it is careful only to use features that are present, although it achieves that in a different way.</span></span>

```csharp
    // Note: Cache the value instead of querying it more than once.
    bool isHardwareButtonsAPIPresent = Windows.Foundation.Metadata.ApiInformation.IsTypePresent
        ("Windows.Phone.UI.Input.HardwareButtons");

    if (isHardwareButtonsAPIPresent)
    {
        Windows.Phone.UI.Input.HardwareButtons.CameraPressed +=
            this.HardwareButtons_CameraPressed;
    }

    ...

private void HardwareButtons_CameraPressed(object sender, Windows.Phone.UI.Input.CameraEventArgs e)
{
    // Handle the event.
}
```

<span data-ttu-id="0cead-195">Weitere Informationen finden Sie unter [Erkennen der Plattform, auf der Ihre App ausgeführt wird](w8x-to-uwp-input-and-sensors.md).</span><span class="sxs-lookup"><span data-stu-id="0cead-195">Also, see [Detecting the platform your app is running on](w8x-to-uwp-input-and-sensors.md).</span></span>

## <a name="app-package-manifest"></a><span data-ttu-id="0cead-196">App-Paketmanifest</span><span class="sxs-lookup"><span data-stu-id="0cead-196">App package manifest</span></span>

<span data-ttu-id="0cead-197">Im Thema [Neues in Windows 10](https://msdn.microsoft.com/library/windows/apps/dn705793) sind Änderungen an der Schemareferenz zu Paketmanifesten für Windows 10, einschließlich der Elemente, die hinzugefügt, entfernt, geändert und wurden aufgeführt.</span><span class="sxs-lookup"><span data-stu-id="0cead-197">The [What's changed in Windows10](https://msdn.microsoft.com/library/windows/apps/dn705793) topic lists changes to the package manifest schema reference for Windows10, including elements that have been added, removed, and changed.</span></span> <span data-ttu-id="0cead-198">Referenzinformationen zu allen Elementen, Attributen und Typen im Schema finden Sie unter [Elementhierarchie](https://msdn.microsoft.com/library/windows/apps/dn934819).</span><span class="sxs-lookup"><span data-stu-id="0cead-198">For reference info on all elements, attributes, and types in the schema, see [Element Hierarchy](https://msdn.microsoft.com/library/windows/apps/dn934819).</span></span> <span data-ttu-id="0cead-199">Wenn Sie eine Windows Phone Store-App portieren, oder wenn Ihre App ein Update für eine App aus dem Windows Phone Store ist, stellen Sie sicher, dass das Element **pm: phoneidentity** dem Inhalt des Anwendungsmanifests Ihrer vorherigen App entspricht (verwenden Sie dieselben GUIDs, die der App vom Store zugewiesen wurden).</span><span class="sxs-lookup"><span data-stu-id="0cead-199">If you're porting a Windows Phone Store app, or if your app is an update to an app from the Windows Phone Store, ensure that the **pm:PhoneIdentity** element matches what's in the app manifest of your previous app (use the same GUIDs that were assigned to the app by the Store).</span></span> <span data-ttu-id="0cead-200">Dadurch wird sichergestellt, dass Benutzer Ihrer App, die eine Aktualisierung auf Windows10 durchführen, Ihre neue App als Update und nicht als Duplikat erhalten.</span><span class="sxs-lookup"><span data-stu-id="0cead-200">This will ensure that users of your app who are upgrading to Windows 10 will receive your new app as an update, not a duplicate.</span></span> <span data-ttu-id="0cead-201">Weitere Einzelheiten finden Sie im Referenzthema [**pm:PhoneIdentity**](https://msdn.microsoft.com/library/windows/apps/dn934763).</span><span class="sxs-lookup"><span data-stu-id="0cead-201">See the [**pm:PhoneIdentity**](https://msdn.microsoft.com/library/windows/apps/dn934763) reference topic for more details.</span></span>

<span data-ttu-id="0cead-202">Mit den Einstellungen in Ihrem Projekt (einschließlich der Verweise auf Erweiterungs-SDKs) wird der API-Oberflächenbereich bestimmt, der von Ihrer App aufgerufen werden kann.</span><span class="sxs-lookup"><span data-stu-id="0cead-202">The settings in your project (including any extension SDKs references) determine the API surface area that your app can call.</span></span> <span data-ttu-id="0cead-203">Aber anhand Ihres App-Paketmanifests wird die eigentliche Gruppe der Geräte bestimmt, auf denen Kunden Ihre App aus dem Store installieren können.</span><span class="sxs-lookup"><span data-stu-id="0cead-203">But, your app package manifest is what determines the actual set of devices that your customers can install your app onto from the Store.</span></span> <span data-ttu-id="0cead-204">Weitere Informationen finden Sie unter „Beispiele“ in [**TargetDeviceFamily**](https://msdn.microsoft.com/library/windows/apps/dn986903).</span><span class="sxs-lookup"><span data-stu-id="0cead-204">For more info, see examples in [**TargetDeviceFamily**](https://msdn.microsoft.com/library/windows/apps/dn986903).</span></span>

<span data-ttu-id="0cead-205">Sie können das App-Paketmanifest bearbeiten und verschiedene Deklarationen, Funktionen und andere Einstellungen festlegen, die für einige Features erforderlich sind.</span><span class="sxs-lookup"><span data-stu-id="0cead-205">You can edit the app package manifest to set various declarations, capabilities, and other settings that some features need.</span></span> <span data-ttu-id="0cead-206">Sie können das Manifest mit dem App-Paketmanifest-Editor von Visual Studio bearbeiten.</span><span class="sxs-lookup"><span data-stu-id="0cead-206">You can use the Visual Studio app package manifest editor to edit it.</span></span> <span data-ttu-id="0cead-207">Falls der **Projektmappen-Explorer** nicht angezeigt wird, wählen Sie ihn im Menü **Ansicht** aus.</span><span class="sxs-lookup"><span data-stu-id="0cead-207">If the **Solution Explorer** is not shown, choose it from the **View** menu.</span></span> <span data-ttu-id="0cead-208">Doppelklicken Sie auf **Package.appxmanifest**.</span><span class="sxs-lookup"><span data-stu-id="0cead-208">Double-click **Package.appxmanifest**.</span></span> <span data-ttu-id="0cead-209">Dadurch wird das Fenster des Manifest-Editors geöffnet.</span><span class="sxs-lookup"><span data-stu-id="0cead-209">This opens the manifest editor window.</span></span> <span data-ttu-id="0cead-210">Klicken Sie auf die gewünschte Registerkarte, nehmen Sie Ihre Änderungen vor, und speichern Sie sie.</span><span class="sxs-lookup"><span data-stu-id="0cead-210">Select the appropriate tab to make changes and then save.</span></span>

<span data-ttu-id="0cead-211">Das nächste Thema ist [Problembehandlung](w8x-to-uwp-troubleshooting.md).</span><span class="sxs-lookup"><span data-stu-id="0cead-211">The next topic is [Troubleshooting](w8x-to-uwp-troubleshooting.md).</span></span>

## <a name="related-topics"></a><span data-ttu-id="0cead-212">Verwandte Themen</span><span class="sxs-lookup"><span data-stu-id="0cead-212">Related topics</span></span>

* [<span data-ttu-id="0cead-213">Entwickeln von Apps für die universelle Windows-Plattform</span><span class="sxs-lookup"><span data-stu-id="0cead-213">Develop apps for the Universal Windows Platform</span></span>](http://msdn.microsoft.com/library/dn975273.aspx)
* [<span data-ttu-id="0cead-214">Schnelleinstieg in die Entwicklung Ihrer Windows-Runtime 8.x-Apps mit Vorlagen (c#, C++, Visual Basic)</span><span class="sxs-lookup"><span data-stu-id="0cead-214">Jumpstart your Windows Runtime 8.x app using templates (C#, C++, Visual Basic)</span></span>](https://msdn.microsoft.com/library/windows/apps/hh768232)
* [<span data-ttu-id="0cead-215">Erstellen von Komponenten für Windows-Runtime</span><span class="sxs-lookup"><span data-stu-id="0cead-215">Creating Windows Runtime Components</span></span>](https://msdn.microsoft.com/library/windows/apps/xaml/hh441572.aspx)
* [<span data-ttu-id="0cead-216">Plattformübergreifende Entwicklung mit der portablen Klassenbibliothek</span><span class="sxs-lookup"><span data-stu-id="0cead-216">Cross-Platform Development with the Portable Class Library</span></span>](http://msdn.microsoft.com/library/gg597391.aspx)

